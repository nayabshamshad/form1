"use strict";(globalThis["webpackChunkform1_quasar"]=globalThis["webpackChunkform1_quasar"]||[]).push([[611],{1611:(e,o,s)=>{s.r(o),s.d(o,{default:()=>R});s(702);var l=s(9835),t=s(1957);const a={class:"container"},i=(0,l._)("h2",null,"Log In",-1),n={class:"cate-list"},r=(0,l._)("label",{for:"uname"},[(0,l._)("b",null,"Username")],-1),d={class:"cate-list"},u=(0,l._)("label",{for:"pwd"},[(0,l._)("b",null,"Password")],-1),m={class:"btn1"},c=(0,l.Uk)("Login"),g={class:"pwd"},p=(0,l.Uk)("Don't have an account? "),f=(0,l.Uk)("Register Now"),h=(0,l._)("div",{class:"flex",style:{"justify-content":"flex-end",padding:"0 30%"}},null,-1),w=(0,l._)("div",{class:"text-h6"},"Forgot Your Password?",-1),b=(0,l._)("p",null,"Please enter your email address",-1),_={class:"flex justify-center"},E=(0,l.Uk)("Send Reset Email");function y(e,o,s,y,k,C){const P=(0,l.up)("q-input"),U=(0,l.up)("q-btn"),v=(0,l.up)("router-link"),V=(0,l.up)("q-card-section"),W=(0,l.up)("q-card-actions"),q=(0,l.up)("q-card"),D=(0,l.up)("q-dialog"),S=(0,l.Q2)("close-popup");return(0,l.wg)(),(0,l.iD)(l.HY,null,[(0,l._)("div",a,[(0,l._)("form",{onSubmit:o[3]||(o[3]=(0,t.iM)(((...e)=>C.loginUser&&C.loginUser(...e)),["prevent"])),class:"form",autocomplete:"off"},[i,(0,l._)("div",n,[r,(0,l.Wm)(P,{modelValue:k.userEmail,"onUpdate:modelValue":o[0]||(o[0]=e=>k.userEmail=e),type:"text",placeholder:"Enter Email Address",name:"uname"},null,8,["modelValue"])]),(0,l._)("div",d,[u,(0,l.Wm)(P,{type:"password",placeholder:"Enter Password",name:"pwd",modelValue:k.userPass,"onUpdate:modelValue":o[1]||(o[1]=e=>k.userPass=e)},null,8,["modelValue"])]),(0,l._)("div",m,[(0,l.Wm)(U,{onClick:C.loginUser,loading:k.isSubmitting,type:"button",color:"purple",rounded:""},{default:(0,l.w5)((()=>[c])),_:1},8,["onClick","loading"])]),(0,l._)("span",g,[p,(0,l.Wm)(v,{to:"/sign-up"},{default:(0,l.w5)((()=>[f])),_:1}),(0,l._)("button",{type:"button",style:{background:"none",outline:"none",border:"none",display:"block",color:"blue",cursor:"pointer"},onClick:o[2]||(o[2]=(...e)=>C.forgotPassword&&C.forgotPassword(...e))}," Forgot Password? ")])],32)]),(0,l.Wm)(D,{modelValue:k.forgotDialog,"onUpdate:modelValue":o[5]||(o[5]=e=>k.forgotDialog=e)},{default:(0,l.w5)((()=>[(0,l.Wm)(q,{style:{width:"100%"}},{default:(0,l.w5)((()=>[(0,l.Wm)(V,null,{default:(0,l.w5)((()=>[h,w])),_:1}),(0,l.Wm)(V,{class:"q-pt-none"},{default:(0,l.w5)((()=>[b,(0,l.Wm)(P,{modelValue:k.forgotEmail,"onUpdate:modelValue":o[4]||(o[4]=e=>k.forgotEmail=e),type:"email"},null,8,["modelValue"]),(0,l._)("div",_,[(0,l.Wm)(U,{onClick:C.sendResetEmail,rounder:"",style:{"margin-top":"1rem"},loading:k.sendingEmail,color:"purple"},{default:(0,l.w5)((()=>[E])),_:1},8,["onClick","loading"])])])),_:1}),(0,l.Wm)(W,{align:"right"},{default:(0,l.w5)((()=>[(0,l.wy)((0,l.Wm)(U,{flat:"",label:"Close",color:"primary"},null,512),[[S]])])),_:1})])),_:1})])),_:1},8,["modelValue"])],64)}const k={data(){return{userEmail:"",userPass:"",isSubmitting:!1,forgotDialog:!1,forgotEmail:"",sendingEmail:!1,forgotCode:""}},mounted(){},methods:{async confirmReset(){await this.$store.dispatch("confirmReset",this.forgotCode)},async sendResetEmail(){if(this.sendingEmail)return;this.sendingEmail=!0;const e=await this.$store.dispatch("sendResetEmail",this.forgotEmail);e.err||(this.$q.notify({message:"Password reset email has been sent, please be sure to check your spam folder as well",color:"green"}),setTimeout((()=>{this.forgotDialog=!1}),1e3)),this.sendingEmail=!1},async forgotPassword(){this.forgotEmail=this.userEmail,this.forgotDialog=!0},async loginUser(){this.forgotDialog=!1,this.isSubmitting||(this.isSubmitting=!0,await this.$store.dispatch("signInUser",{email:this.userEmail,password:this.userPass}),this.isSubmitting=!1)}}};var C=s(1639),P=s(6611),U=s(4455),v=s(7743),V=s(4458),W=s(3190),q=s(1821),D=s(2146),S=s(9984),Z=s.n(S);const Q=(0,C.Z)(k,[["render",y]]),R=Q;Z()(k,"components",{QInput:P.Z,QBtn:U.Z,QDialog:v.Z,QCard:V.Z,QCardSection:W.Z,QCardActions:q.Z}),Z()(k,"directives",{ClosePopup:D.Z})}}]);
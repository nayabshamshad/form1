"use strict";(globalThis["webpackChunkform1_quasar"]=globalThis["webpackChunkform1_quasar"]||[]).push([[520],{3520:(e,t,l)=>{l.r(t),l.d(t,{default:()=>Et});var a=l(9835);function i(e,t,l,i,s,o){var n,r;const d=(0,a.up)("teamHome"),u=(0,a.up)("adminHome");return"admin"!==(null===(n=o.userData)||void 0===n?void 0:n.role)&&"department"!==(null===(r=o.userData)||void 0===r?void 0:r.role)?((0,a.wg)(),(0,a.j4)(d,{key:0})):((0,a.wg)(),(0,a.j4)(u,{key:1}))}var s=l(6970);const o={key:0,class:"container"},n={class:"flex",style:{"justify-content":"flex-end","max-width":"75%"}},r=(0,a._)("h2",null,"Informații utilizator",-1),d={key:0,class:"add-img"},u=["src"],m={class:"form category-form home-only"},c={class:"cate-list-home"},h=(0,a._)("label",{for:"club"},[(0,a._)("b",null,"Nume/Prenume:")],-1),p={class:"cate-list-home"},g=(0,a._)("label",{for:"email"},[(0,a._)("b",null,"E-mail:")],-1),v={class:"cate-list-home"},b=(0,a._)("label",{for:"telephone no."},[(0,a._)("b",null,"Număr de telefon:")],-1),_={class:"cate-list-home"},f=(0,a._)("label",{for:"Etnic"},[(0,a._)("b",null,"Etnie:")],-1),w={class:"cate-list-home"},U=(0,a._)("label",{for:"Gender"},[(0,a._)("b",null,"Sex:")],-1),k={class:"cate-list-home"},y=(0,a._)("label",{for:"date"},[(0,a._)("b",null,"Data nașterii:")],-1),C={class:"cate-list-home"},D=(0,a._)("label",{for:"Size"},[(0,a._)("b",null,"Mărime tricou:")],-1),V={class:"cate-list-home"},W=(0,a._)("label",{for:"Category"},[(0,a._)("b",null,"Categorie:")],-1),x={class:"cate-list-home"},L=(0,a._)("label",{for:"Region"},[(0,a._)("b",null,"Zona:")],-1),N={class:"cate-list-home"},z=(0,a._)("label",{for:"state"},[(0,a._)("b",null,"Comunitate:")],-1),q={class:"cate-list-home"},$=(0,a._)("label",{for:"club"},[(0,a._)("b",null,"Clubul:")],-1),M={class:"cate-list-home"},S=(0,a._)("label",{for:"status"},[(0,a._)("b",null,"Status:")],-1),I={class:"cate-list-home chip-container"},A=(0,a._)("label",{for:"tags"},[(0,a._)("b",null,"Specializări:")],-1),G={key:0},Z={class:"cate-list-home"},j=(0,a._)("label",{for:"Instructor"},[(0,a._)("b",null,"Anul investiturii ca:")],-1),Q=(0,a._)("b",null,"Instructor:",-1),T=(0,a._)("b",null,"Ghid:",-1),Y=(0,a._)("b",null,"Master Ghid:",-1),E={key:1,class:"home-detail"},O=(0,a._)("h2",null,"Lista copiilor",-1),B={class:"grid"},H={key:1,class:"container"},P={class:"flex",style:{"justify-content":"flex-end","max-width":"75%"}},F={class:"form"},K=(0,a._)("h2",null,"Editare informații",-1),J={class:"cate-list"},X={class:"cate-list"},R={class:"cate-list"},ee=(0,a._)("label",{for:"Gender"},[(0,a._)("b",null,"Sex:")],-1),te={class:"cate-list"},le=(0,a._)("label",{style:{"margin-bottom":"0","margin-top":"1rem",display:"block","font-size":"16px","font-weight":"500"}},"Data nașterii:",-1),ae={class:"row items-center justify-end"},ie={class:"cate-list"},se={class:"cate-list"},oe={class:"cate-list"},ne={class:"cate-list"},re={class:"cate-list"},de={class:"cate-list"},ue={class:"cate-list"},me={class:"cate-list"},ce={class:"cate-list"},he=(0,a._)("div",{style:{display:"flex","justify-content":"space-between","padding-right":"2rem",margin:"1rem 0"}},null,-1),pe=(0,a._)("label",{for:"status"},[(0,a._)("b",null,"Status:")],-1),ge={key:0,class:"cate-list"},ve=(0,a._)("div",{class:"flex",style:{"justify-content":"flex-end",padding:"0 30%"}},null,-1),be={style:{"flex-wrap":"nowrap"},class:"flex justify-space-between"},_e=(0,a._)("label",{for:"list"},[(0,a._)("b",null,"Lista copiilor:")],-1),fe=(0,a.Uk)("+"),we=(0,a.Uk)("-"),Ue={class:"submit"},ke=(0,a.Uk)("Trimite"),ye=(0,a._)("div",{class:"flex",style:{"justify-content":"flex-end",padding:"0 30%"}},null,-1),Ce=(0,a._)("div",{class:"text-h6"},"Alertă",-1);function De(e,t,l,i,De,Ve){var We;const xe=(0,a.up)("q-btn"),Le=(0,a.up)("q-input"),Ne=(0,a.up)("q-select"),ze=(0,a.up)("q-radio"),qe=(0,a.up)("q-date"),$e=(0,a.up)("q-popup-proxy"),Me=(0,a.up)("q-icon"),Se=(0,a.up)("q-card-section"),Ie=(0,a.up)("q-card-actions"),Ae=(0,a.up)("q-card"),Ge=(0,a.up)("q-dialog"),Ze=(0,a.Q2)("close-popup");return(0,a.wg)(),(0,a.iD)(a.HY,null,[De.isEdit?((0,a.wg)(),(0,a.iD)("div",H,[(0,a._)("div",P,[(0,a.Wm)(xe,{round:"",onClick:t[1]||(t[1]=e=>De.isEdit=!De.isEdit),color:"green",icon:"edit"})]),(0,a._)("form",F,[K,(0,a._)("div",J,[(0,a.Wm)(Le,{type:"text",modelValue:De.dataUser.name,"onUpdate:modelValue":t[2]||(t[2]=e=>De.dataUser.name=e),placeholder:"Nume/Prenume",name:"name",label:"Nume/Prenume:","label-color":"black"},null,8,["modelValue"])]),(0,a._)("div",X,[(0,a.Wm)(Le,{type:"tel",modelValue:De.dataUser.phoneNumber,"onUpdate:modelValue":t[3]||(t[3]=e=>De.dataUser.phoneNumber=e),placeholder:"+40.......",name:"phone number",mask:"+40 #### #####",label:"Număr de telefon:","label-color":"black"},null,8,["modelValue"])]),(0,a._)("div",R,[(0,a.Wm)(Ne,{options:["Romanian","Hungarian"],label:"Etnie:","label-color":"black",modelValue:De.dataUser.etnic,"onUpdate:modelValue":t[4]||(t[4]=e=>De.dataUser.etnic=e)},null,8,["modelValue"])]),(0,a._)("div",null,[ee,(0,a._)("div",null,[(0,a.Wm)(ze,{modelValue:De.dataUser.gender,"onUpdate:modelValue":t[5]||(t[5]=e=>De.dataUser.gender=e),"checked-icon":"task_alt","unchecked-icon":"panorama_fish_eye",val:"Male",label:"Masculin"},null,8,["modelValue"]),(0,a.Wm)(ze,{modelValue:De.dataUser.gender,"onUpdate:modelValue":t[6]||(t[6]=e=>De.dataUser.gender=e),"checked-icon":"task_alt","unchecked-icon":"panorama_fish_eye",val:"Female",label:"Feminin"},null,8,["modelValue"])])]),(0,a._)("div",te,[le,(0,a.Wm)(Le,{filled:"",modelValue:De.dateOfBirth,"onUpdate:modelValue":t[8]||(t[8]=e=>De.dateOfBirth=e),mask:"##/##/####",onFocus:Ve.openModal},{append:(0,a.w5)((()=>[(0,a.Wm)(Me,{onClick:Ve.openModal,ref:"dateIcon",name:"event",class:"cursor-pointer"},{default:(0,a.w5)((()=>[(0,a.Wm)($e,{cover:"","transition-show":"scale","transition-hide":"scale"},{default:(0,a.w5)((()=>[(0,a.Wm)(qe,{modelValue:De.dataUser.dateOfBirth,"onUpdate:modelValue":[t[7]||(t[7]=e=>De.dataUser.dateOfBirth=e),Ve.handleDateChange]},{default:(0,a.w5)((()=>[(0,a._)("div",ae,[(0,a.wy)((0,a.Wm)(xe,{label:"Close",color:"primary",flat:""},null,512),[[Ze]])])])),_:1},8,["modelValue","onUpdate:modelValue"])])),_:1})])),_:1},8,["onClick"])])),_:1},8,["modelValue","onFocus"])]),(0,a._)("div",ie,[(0,a.Wm)(Ne,{modelValue:De.dataUser.size,"onUpdate:modelValue":t[9]||(t[9]=e=>De.dataUser.size=e),options:De.sizeOptions,"label-color":"black",label:"Mărime tricou:"},null,8,["modelValue","options"])]),(0,a._)("div",se,[(0,a.Wm)(Ne,{modelValue:De.dataUser.category,"onUpdate:modelValue":t[10]||(t[10]=e=>De.dataUser.category=e),label:"Categorie:","label-color":"black",options:["Licurici","Companioni","Exploratori"]},null,8,["modelValue"])]),(0,a._)("div",oe,[(0,a.Wm)(Le,{type:"text",modelValue:De.dataUser.region,"onUpdate:modelValue":t[11]||(t[11]=e=>De.dataUser.region=e),placeholder:"ex. Târgu Mureș",label:"Zona:","label-color":"black"},null,8,["modelValue"])]),(0,a._)("div",ne,[(0,a.Wm)(Le,{type:"text",modelValue:De.dataUser.state,"onUpdate:modelValue":t[12]||(t[12]=e=>De.dataUser.state=e),placeholder:"Comunitate",label:"Comunitate:","label-color":"black"},null,8,["modelValue"])]),(0,a._)("div",re,[(0,a.Wm)(Le,{type:"text",modelValue:De.dataUser.clubName,"onUpdate:modelValue":t[13]||(t[13]=e=>De.dataUser.clubName=e),placeholder:"Clubul",name:"Club",label:"Clubul:","label-color":"black"},null,8,["modelValue"])]),(0,a._)("div",de,[(0,a.Wm)(Le,{type:"text",modelValue:De.tagsInput,"onUpdate:modelValue":t[14]||(t[14]=e=>De.tagsInput=e),placeholder:"Separate de virgulă",name:"tags",label:"Specializări (max 5):","label-color":"black"},null,8,["modelValue"])]),(0,a._)("div",ue,[(0,a.Wm)(Le,{type:"text",modelValue:De.dataUser.Instructor,"onUpdate:modelValue":t[15]||(t[15]=e=>De.dataUser.Instructor=e),"label-color":"black",label:"Anul investiturii ca Instructor:",placeholder:"YYYY",name:"Instructor",mask:"####"},null,8,["modelValue"])]),(0,a._)("div",me,[(0,a.Wm)(Le,{type:"text",modelValue:De.dataUser.Ghid,"onUpdate:modelValue":t[16]||(t[16]=e=>De.dataUser.Ghid=e),placeholder:"YYYY",label:"Anul investiturii ca Ghid:","label-color":"black",mask:"####"},null,8,["modelValue"])]),(0,a._)("div",ce,[(0,a.Wm)(Le,{type:"text",modelValue:De.dataUser.masterGhid,"onUpdate:modelValue":t[17]||(t[17]=e=>De.dataUser.masterGhid=e),placeholder:"YYYY",mask:"####","label-color":"black",label:"Anul investiturii ca Master Ghid:"},null,8,["modelValue"])]),he,(0,a._)("div",null,[pe,(0,a._)("div",null,[(0,a.Wm)(ze,{modelValue:De.dataUser.status,"onUpdate:modelValue":t[18]||(t[18]=e=>De.dataUser.status=e),"checked-icon":"task_alt","unchecked-icon":"panorama_fish_eye",val:!0,label:"Activ"},null,8,["modelValue"]),(0,a.Wm)(ze,{modelValue:De.dataUser.status,"onUpdate:modelValue":t[19]||(t[19]=e=>De.dataUser.status=e),"checked-icon":"task_alt","unchecked-icon":"panorama_fish_eye",val:!1,label:"InActiv"},null,8,["modelValue"])])]),De.dataUser.status?((0,a.wg)(),(0,a.iD)("div",ge,[ve,(0,a._)("div",be,[_e,(0,a.Wm)(xe,{onClick:Ve.addMember,type:"button",round:"",color:"purple"},{default:(0,a.w5)((()=>[fe])),_:1},8,["onClick"])]),((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(De.teamList,((e,t)=>((0,a.wg)(),(0,a.iD)("div",{key:t,style:{display:"flex","align-items":"center","justify-content":"space-between"}},[(0,a.Wm)(Le,{type:"text",modelValue:e.name,"onUpdate:modelValue":t=>e.name=t,placeholder:"Member Name",style:{width:"70%"}},null,8,["modelValue","onUpdate:modelValue"]),(0,a.Wm)(xe,{onClick:e=>Ve.removeMember(t),type:"button",round:"",color:"red",style:{width:"35px",height:"35px"}},{default:(0,a.w5)((()=>[we])),_:2},1032,["onClick"])])))),128))])):(0,a.kq)("",!0),(0,a._)("div",Ue,[(0,a.Wm)(xe,{type:"button",loading:De.isSubmitting,onClick:Ve.submit,color:"purple",class:"signupbtn"},{default:(0,a.w5)((()=>[ke])),_:1},8,["loading","onClick"])])])])):((0,a.wg)(),(0,a.iD)("div",o,[(0,a._)("div",n,[De.dateContained?((0,a.wg)(),(0,a.j4)(xe,{key:0,round:"",onClick:t[0]||(t[0]=e=>De.isEdit=!De.isEdit),color:"green",icon:"edit"})):(0,a.kq)("",!0)]),r,De.dataUser.imgUrl&&""!==De.dataUser.imgUrl?((0,a.wg)(),(0,a.iD)("div",d,[(0,a._)("img",{src:De.dataUser.imgUrl},null,8,u)])):(0,a.kq)("",!0),(0,a._)("form",m,[(0,a._)("div",c,[h,(0,a._)("span",null,(0,s.zw)(De.dataUser.name),1)]),(0,a._)("div",p,[g,(0,a._)("span",null,(0,s.zw)(De.dataUser.email),1)]),(0,a._)("div",v,[b,(0,a._)("span",null,(0,s.zw)(De.dataUser.phoneNumber),1)]),(0,a._)("div",_,[f,(0,a._)("span",null,(0,s.zw)(De.dataUser.etnic),1)]),(0,a._)("div",w,[U,(0,a._)("span",null,(0,s.zw)(De.dataUser.gender),1)]),(0,a._)("div",k,[y,(0,a._)("span",null,(0,s.zw)(null!==(We=De.dataUser)&&void 0!==We&&We.dateOfBirth?Ve.getBirthDate(De.dataUser.dateOfBirth):""),1)]),(0,a._)("div",C,[D,(0,a._)("span",null,(0,s.zw)(De.dataUser.size),1)]),(0,a._)("div",V,[W,(0,a._)("span",null,(0,s.zw)(De.dataUser.category),1)]),(0,a._)("div",x,[L,(0,a._)("span",null,(0,s.zw)(De.dataUser.region),1)]),(0,a._)("div",N,[z,(0,a._)("span",null,(0,s.zw)(De.dataUser.state),1)]),(0,a._)("div",q,[$,(0,a._)("span",null,(0,s.zw)(De.dataUser.clubName),1)]),(0,a._)("div",M,[S,(0,a._)("span",null,(0,s.zw)(De.dataUser.status?"Activ":"InActiv"),1)]),(0,a._)("div",I,[A,De.dataUser.tagList?((0,a.wg)(),(0,a.iD)("div",G,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(De.dataUser.tagList,((e,t)=>((0,a.wg)(),(0,a.iD)("span",{key:t},(0,s.zw)(e),1)))),128))])):(0,a.kq)("",!0)]),(0,a._)("div",Z,[j,(0,a._)("span",null,[Q,(0,a.Uk)(" "+(0,s.zw)(De.dataUser.Instructor),1)]),(0,a._)("span",null,[T,(0,a.Uk)(" "+(0,s.zw)(De.dataUser.Ghid),1)]),(0,a._)("span",null,[Y,(0,a.Uk)(" "+(0,s.zw)(De.dataUser.masterGhid),1)])])]),De.dataUser.status?((0,a.wg)(),(0,a.iD)("div",E,[O,(0,a._)("div",B,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(De.dataUser.teamList,((e,t)=>((0,a.wg)(),(0,a.iD)("div",{class:"grid-cell",key:t},(0,s.zw)(e.name),1)))),128))])])):(0,a.kq)("",!0)])),(0,a.Wm)(Ge,{modelValue:De.errorDialog,"onUpdate:modelValue":t[20]||(t[20]=e=>De.errorDialog=e)},{default:(0,a.w5)((()=>[(0,a.Wm)(Ae,null,{default:(0,a.w5)((()=>[(0,a.Wm)(Se,null,{default:(0,a.w5)((()=>[ye,Ce])),_:1}),(0,a.Wm)(Se,{class:"q-pt-none"},{default:(0,a.w5)((()=>[(0,a.Uk)((0,s.zw)(De.error),1)])),_:1}),(0,a.Wm)(Ie,{align:"right"},{default:(0,a.w5)((()=>[(0,a.wy)((0,a.Wm)(xe,{flat:"",label:"OK",color:"primary"},null,512),[[Ze]])])),_:1})])),_:1})])),_:1},8,["modelValue"])],64)}var Ve=l(3926);const We={name:"HomeView",components:{},methods:{openModal(){this.$refs.dateIcon.$el.click(),this.$refs.dateIcon.$el.focus()},handleDateChange(e,t,l){let a=1==`${l.day}`.length?"0"+l.day:l.day,i=1==`${l.month}`.length?"0"+l.month:l.month;this.dateOfBirth=a+"/"+i+"/"+l.year},getBirthDate(e){let t,l=new Date(e);const a=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],i=a[l.getMonth()];return t=l.getDate()+" "+i+", "+l.getFullYear(),t},addMember(){this.teamList.push({name:""})},removeMember(e){this.teamList.length>1?this.teamList.splice(e,1):(this.errorDialog=!0,this.error="Te rugăm să completezi lista cu copii.")},async submit(){if(this.isSubmitting)return;let e;if(this.isSubmitting=!0,e={...this.dataUser},e.teamList=this.teamList,""!=this.tagsInput){if(this.tagsInput.split(",").length>5)return this.error="Nu poți să introduci mai mult de 5 specializări.",this.errorDialog=!0,void(this.isSubmitting=!1);if(14!==e.phoneNumber.length)return this.$q.notify({color:"red",message:"Te rugăm să introduci număr de telefon valid"}),void(this.isSubmitting=!1);e.tagList=this.tagsInput.split(",")}e.isUpdated=!0,e.status||(e.teamList=[]);var t=!1;if(e.status){var l,a;if(e.teamList.length<1)return this.error="Te rugăm să completezi lista cu copii.",this.errorDialog=!0,void(this.isSubmitting=!1);null===(l=e)||void 0===l||null===(a=l.teamList)||void 0===a||a.forEach((e=>{""==e.name&&(t=!0)}))}return t?(this.isSubmitting=!1,this.errorDialog=!0,void(this.error="Verificați lista cu copii.")):e.tagList.length<1?(this.errorDialog=!0,this.error="Te rugăm să introduci minim o specializare.",void(this.isSubmitting=!1)):""==e.dateOfBirth||""==e.region||""==e.state||""==e.gender||""==e.etnic||""==e.clubName||""==e.category||""==e.size?(this.errorDialog=!0,this.error="Te rugăm să reverifici datele introduse.",void(this.isSubmitting=!1)):4!==e.Instructor.length&&""!=e.Instructor||4!==e.Ghid.length&&""!=e.Ghid||4!==e.masterGhid.length&&""!=e.masterGhid?(this.$q.notify({color:"red",message:"Formatul anului introdus este incorect"}),void(this.isSubmitting=!1)):e.Instructor>e.Ghid&&""!=e.Instructor&&""!=e.Ghid||e.Ghid>e.masterGhid&&""!=e.Ghid&&""!=e.masterGhid||e.Instructor>e.masterGhid&&""!=e.instructor&&""!=e.masterGhid?(this.$q.notify({color:"red",message:"Te rugăm să verifici ordinea investiturii ca Instructor, Ghid, Master Ghid."}),void(this.isSubmitting=!1)):(await this.$store.dispatch("updateUserProfile",e),this.$store.dispatch("getUserData"),this.isEdit=!1,void(this.isSubmitting=!1))}},data(){return{isEdit:!1,dataUser:{},dateContained:!1,editDate:{start:"09/01/2022",end:"10/01/2022"},dateOfBirth:"",errorDialog:!1,error:"",isSubmitting:!1,tagsInput:"",sizeOptions:["x-Small","Small","Medium","Large","X-Large","XX-Large","XXX-Large"],teamList:[{name:""}]}},mounted(){var e,t,l,a,i,s,o,n;new Date(null===(e=this.dateList)||void 0===e?void 0:e.from).getTime()<=(new Date).getTime()&&new Date(null===(t=this.dateList)||void 0===t?void 0:t.to).getTime()>=(new Date).getTime()?this.dateContained=!0:this.dateContained=!1,Ve.I8.currentUser&&0==(null===(l=this.$store.getters.userData)||void 0===l?void 0:l.isUpdated)&&this.$router.push("/category-list"),this.dataUser={...this.userData},this.tagsInput=null===(a=this.dataUser)||void 0===a||null===(i=a.tagList)||void 0===i?void 0:i.join(",");let r=[];if(null===(s=this.dataUser)||void 0===s||null===(o=s.teamList)||void 0===o||o.forEach((e=>{r.push(e)})),this.teamList=r,null!==(n=this.dataUser)&&void 0!==n&&n.dateOfBirth){let e=this.dataUser.dateOfBirth.split("/");this.dateOfBirth=e[2]+"/"+e[1]+"/"+e[0]}},watch:{userData:{handler:function(){var e,t,l,a,i,s;0==(null===(e=this.$store.getters.userData)||void 0===e?void 0:e.isUpdated)&&this.$router.push("/category-list"),this.dataUser={...this.userData},this.tagsInput=null===(t=this.dataUser)||void 0===t||null===(l=t.tagList)||void 0===l?void 0:l.join(",");let o=[];if(null===(a=this.dataUser)||void 0===a||null===(i=a.teamList)||void 0===i||i.forEach((e=>{o.push(e)})),this.teamList=o,null!==(s=this.dataUser)&&void 0!==s&&s.dateOfBirth){let e=this.dataUser.dateOfBirth.split("/");this.dateOfBirth=e[2]+"/"+e[1]+"/"+e[0]}},dateList:{handler:function(){var e,t;new Date(null===(e=this.dateList)||void 0===e?void 0:e.from).getTime()<=(new Date).getTime()&&new Date(null===(t=this.dateList)||void 0===t?void 0:t.to).getTime()>=(new Date).getTime()?this.dateContained=!0:this.dateContained=!1}}}},computed:{userData(){return this.$store.getters.userData?this.$store.getters.userData:{}},dateList(){return this.$store.getters.dateList}}};var xe=l(1639),Le=l(4455),Ne=l(6611),ze=l(9812),qe=l(1480),$e=l(2857),Me=l(2765),Se=l(7088),Ie=l(7743),Ae=l(4458),Ge=l(3190),Ze=l(1821),je=l(2146),Qe=l(9984),Te=l.n(Qe);const Ye=(0,xe.Z)(We,[["render",De]]),Ee=Ye;Te()(We,"components",{QBtn:Le.Z,QInput:Ne.Z,QSelect:ze.Z,QRadio:qe.Z,QIcon:$e.Z,QPopupProxy:Me.Z,QDate:Se.Z,QDialog:Ie.Z,QCard:Ae.Z,QCardSection:Ge.Z,QCardActions:Ze.Z}),Te()(We,"directives",{ClosePopup:je.Z});l(702);const Oe={class:"container"},Be={class:"flex",style:{"justify-content":"flex-end","max-width":"90%","margin-bottom":"2rem",gap:"5%"}},He={style:{width:"30%","min-width":"150px"}},Pe={class:"table-container"},Fe={class:"user-list-table"},Ke=(0,a._)("thead",null,[(0,a._)("tr",null,[(0,a._)("th",null,"Nume/Prenume"),(0,a._)("th",null,"Nr. de telefon"),(0,a._)("th",null,"E-mail")])],-1),Je=["onClick"],Xe=["onClick"],Re=["onClick"],et=["onClick"],tt=["onClick"],lt={class:"flex",style:{"justify-content":"flex-end","max-width":"90%",gap:"5%","margin-bottom":"2rem"}},at={style:{width:"30%","min-width":"150px"}},it={class:"table-container"},st={class:"user-list-table"},ot=(0,a._)("thead",null,[(0,a._)("tr",null,[(0,a._)("th",null,"Nume/Prenume"),(0,a._)("th",null,"Nr. de telefon"),(0,a._)("th",null,"E-mail"),(0,a._)("th",null,"Acțiune")])],-1),nt=["onClick"],rt=["onClick"],dt=["onClick"],ut=["onClick"],mt=["onClick"],ct={class:"flex",style:{"justify-content":"flex-end","max-width":"90%",gap:"5%","margin-bottom":"2rem"}},ht={style:{width:"30%","min-width":"150px"}},pt={class:"table-container"},gt={class:"user-list-table"},vt=(0,a._)("thead",null,[(0,a._)("tr",null,[(0,a._)("th",null,"Nume/Prenume"),(0,a._)("th",null,"Nr. de telefon"),(0,a._)("th",null,"E-mail")])],-1),bt=["onClick"],_t=["onClick"],ft=["onClick"],wt=["onClick"],Ut=["onClick"],kt={class:"flex justify-center"},yt={class:"flex",style:{"justify-content":"flex-end",width:"70%","margin-top":"1rem","min-width":"200px"}},Ct={class:"flex",style:{"justify-content":"flex-end","max-width":"90%",gap:"5%","margin-bottom":"2rem"}},Dt={class:"table-container"},Vt={class:"user-list-table"},Wt=(0,a._)("thead",null,[(0,a._)("tr",null,[(0,a._)("th",null,"Name"),(0,a._)("th",null,"Number"),(0,a._)("th",null,"Department")])],-1),xt=["onClick"],Lt=["onClick"],Nt=["onClick"],zt=["onClick"],qt=(0,a._)("h5",{class:"q-mb-lg"},"You can add department admins using this link",-1),$t=(0,a.Uk)("Copy to Clipboard"),Mt=(0,a.Uk)("Close");function St(e,t,l,i,o,n){const r=(0,a.up)("q-select"),d=(0,a.up)("q-btn"),u=(0,a.up)("q-icon"),m=(0,a.up)("q-tab-panel"),c=(0,a.up)("q-date"),h=(0,a.up)("q-tab-panels"),p=(0,a.up)("q-card-actions"),g=(0,a.up)("q-card-section"),v=(0,a.up)("q-card"),b=(0,a.up)("q-dialog"),_=(0,a.Q2)("close-popup");return(0,a.wg)(),(0,a.iD)("div",Oe,[(0,a.Wm)(h,{modelValue:o.tabs,"onUpdate:modelValue":t[8]||(t[8]=e=>o.tabs=e)},{default:(0,a.w5)((()=>[(0,a.Wm)(m,{name:"approved"},{default:(0,a.w5)((()=>[(0,a._)("div",Be,[(0,a._)("div",He,["admin"==e.$store.getters.userData.role?((0,a.wg)(),(0,a.j4)(r,{key:0,options:n.departmentList,modelValue:o.departmentName,"onUpdate:modelValue":t[0]||(t[0]=e=>o.departmentName=e)},null,8,["options","modelValue"])):(0,a.kq)("",!0)]),(0,a.Wm)(d,{round:"",onClick:t[1]||(t[1]=e=>n.exportFile(n.approvedUsers,"Approved")),color:"green",icon:"download"})]),(0,a._)("div",Pe,[(0,a._)("table",Fe,[Ke,(0,a._)("tbody",null,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(n.approvedUsers,((e,t)=>((0,a.wg)(),(0,a.iD)("tr",{key:t},[(0,a._)("td",{onClick:t=>n.viewUser(e)},(0,s.zw)(e.name),9,Je),(0,a._)("td",{class:"hideMobile",onClick:t=>n.callUser(e.phoneNumber)},(0,s.zw)(e.phoneNumber),9,Xe),(0,a._)("td",{class:"showMobile",onClick:t=>n.callUser(e.phoneNumber)},[(0,a.Wm)(u,{name:"phone"})],8,Re),(0,a._)("td",{onClick:t=>n.mailUser(e.email),class:"hideMobile last"},(0,s.zw)(e.email),9,et),(0,a._)("td",{onClick:t=>n.mailUser(e.email),class:"showMobile last"},[(0,a.Wm)(u,{name:"email"})],8,tt)])))),128))])])])])),_:1}),(0,a.Wm)(m,{name:"pending"},{default:(0,a.w5)((()=>[(0,a._)("div",lt,[(0,a._)("div",at,["admin"==e.$store.getters.userData.role?((0,a.wg)(),(0,a.j4)(r,{key:0,options:n.departmentList,modelValue:o.departmentName,"onUpdate:modelValue":t[2]||(t[2]=e=>o.departmentName=e)},null,8,["options","modelValue"])):(0,a.kq)("",!0)]),(0,a.Wm)(d,{round:"",onClick:t[3]||(t[3]=e=>n.exportFile(n.pendingUsers,"Pending")),color:"green",icon:"download"})]),(0,a._)("div",it,[(0,a._)("table",st,[ot,(0,a._)("tbody",null,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(n.pendingUsers,((e,t)=>((0,a.wg)(),(0,a.iD)("tr",{key:t},[(0,a._)("td",{onClick:t=>n.viewUser(e)},(0,s.zw)(e.name),9,nt),(0,a._)("td",{class:"hideMobile",onClick:t=>n.callUser(e.phoneNumber)},(0,s.zw)(e.phoneNumber),9,rt),(0,a._)("td",{class:"showMobile",onClick:t=>n.callUser(e.phoneNumber)},[(0,a.Wm)(u,{name:"phone"})],8,dt),(0,a._)("td",{onClick:t=>n.mailUser(e.email),class:"hideMobile last"},(0,s.zw)(e.email),9,ut),(0,a._)("td",{onClick:t=>n.mailUser(e.email),class:"showMobile last"},[(0,a.Wm)(u,{name:"email"})],8,mt),(0,a._)("td",null,[(0,a.Wm)(d,{color:"green",icon:"check",size:"xs",round:"",onClick:t=>n.approveUser(e.uid)},null,8,["onClick"]),(0,a.Wm)(d,{onClick:t=>n.declineUser(e.uid),color:"red",size:"xs","text-color":"white",round:"",icon:"close"},null,8,["onClick"])])])))),128))])])])])),_:1}),(0,a.Wm)(m,{name:"declined"},{default:(0,a.w5)((()=>[(0,a._)("div",ct,[(0,a._)("div",ht,["admin"==e.$store.getters.userData.role?((0,a.wg)(),(0,a.j4)(r,{key:0,options:n.departmentList,modelValue:o.departmentName,"onUpdate:modelValue":t[4]||(t[4]=e=>o.departmentName=e)},null,8,["options","modelValue"])):(0,a.kq)("",!0)]),(0,a.Wm)(d,{round:"",onClick:t[5]||(t[5]=e=>n.exportFile(n.declinedUsers,"Declined")),color:"green",icon:"download"})]),(0,a._)("div",pt,[(0,a._)("table",gt,[vt,(0,a._)("tbody",null,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(n.declinedUsers,((e,t)=>((0,a.wg)(),(0,a.iD)("tr",{key:t},[(0,a._)("td",{onClick:t=>n.viewUser(e)},(0,s.zw)(e.name),9,bt),(0,a._)("td",{class:"hideMobile",onClick:t=>n.viewUser(e)},(0,s.zw)(e.phoneNumber),9,_t),(0,a._)("td",{class:"showMobile",onClick:t=>n.callUser(e.phoneNumber)},[(0,a.Wm)(u,{name:"phone"})],8,ft),(0,a._)("td",{onClick:t=>n.mailUser(e.email),class:"hideMobile last"},(0,s.zw)(e.email),9,wt),(0,a._)("td",{onClick:t=>n.mailUser(e.email),class:"showMobile last"},[(0,a.Wm)(u,{name:"email"})],8,Ut)])))),128))])])])])),_:1}),(0,a.Wm)(m,{name:"date"},{default:(0,a.w5)((()=>[(0,a._)("div",null,[(0,a._)("div",kt,[(0,a.Wm)(c,{modelValue:o.dateModel,"onUpdate:modelValue":t[6]||(t[6]=e=>o.dateModel=e),range:""},null,8,["modelValue"])]),(0,a._)("div",yt,[(0,a.Wm)(d,{round:"",icon:"check",color:"green",loading:o.dateSetting,onClick:n.setDate},null,8,["loading","onClick"])])])])),_:1}),(0,a.Wm)(m,{name:"departments"},{default:(0,a.w5)((()=>[(0,a._)("div",Ct,[(0,a.Wm)(d,{"no-caps":"",round:"",color:"secondary",onClick:t[7]||(t[7]=e=>o.showDepartmentDialog=!0),icon:"add"})]),(0,a._)("div",Dt,[(0,a._)("table",Vt,[Wt,(0,a._)("tbody",null,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(n.departmentUsers,((e,t)=>((0,a.wg)(),(0,a.iD)("tr",{key:t},[(0,a._)("td",{onClick:t=>n.viewUser(e)},(0,s.zw)(e.name),9,xt),(0,a._)("td",{class:"hideMobile",onClick:t=>n.viewUser(e)},(0,s.zw)(e.phoneNumber),9,Lt),(0,a._)("td",{class:"showMobile",onClick:t=>n.callUser(e.phoneNumber)},[(0,a.Wm)(u,{name:"phone"})],8,Nt),(0,a._)("td",{onClick:t=>n.viewUser(e),class:"last"},(0,s.zw)(e.departmentName),9,zt)])))),128))])])])])),_:1})])),_:1},8,["modelValue"]),(0,a.Wm)(b,{modelValue:o.showDepartmentDialog,"onUpdate:modelValue":t[10]||(t[10]=e=>o.showDepartmentDialog=e)},{default:(0,a.w5)((()=>[(0,a.Wm)(v,{class:"q-px-md q-py-lg"},{default:(0,a.w5)((()=>[(0,a.Wm)(g,{class:"text-center"},{default:(0,a.w5)((()=>[qt,(0,a._)("p",{onClick:t[9]||(t[9]=(...e)=>n.copyLink&&n.copyLink(...e)),class:"text-primary link-text cursor-pointer"},(0,s.zw)(n.departmentLink),1),(0,a.Wm)(p,{align:"right"},{default:(0,a.w5)((()=>[(0,a.Wm)(d,{onClick:n.copyLink,"no-caps":"",color:"secondary",flat:""},{default:(0,a.w5)((()=>[$t])),_:1},8,["onClick"])])),_:1})])),_:1}),(0,a.Wm)(p,{align:"right"},{default:(0,a.w5)((()=>[(0,a.wy)(((0,a.wg)(),(0,a.j4)(d,{rounded:"",flat:"",color:"grey"},{default:(0,a.w5)((()=>[Mt])),_:1})),[[_]])])),_:1})])),_:1})])),_:1},8,["modelValue"])])}var It=l(1465);const At={mounted(){var e,t,l,a,i,s,o,n,r;null!==(e=this.$route)&&void 0!==e&&null!==(t=e.query)&&void 0!==t&&t.q&&("departments"==(null===(a=this.$route)||void 0===a||null===(i=a.query)||void 0===i?void 0:i.q)&&"admin"!=(null===(s=this.$store.getters.userData)||void 0===s?void 0:s.role)?this.tabs="approved":this.tabs=null===(o=this.$route)||void 0===o||null===(n=o.query)||void 0===n?void 0:n.q);(this.getData(),this.dateList&&(this.dateModel=this.dateList),"department"==(null===(l=this.$store.getters.userData)||void 0===l?void 0:l.role))&&(this.departmentName=null===(r=this.$store.getters.userData)||void 0===r?void 0:r.departmentName)},data(){return{tabs:"approved",dateModel:{from:"2020/07/08",to:"2020/07/17"},loading:!1,dateSetting:!1,departmentName:"All",showDepartmentDialog:!1}},watch:{"$route.query.q":{handler:function(){var e,t,l,a,i;null!==(e=this.$route)&&void 0!==e&&null!==(t=e.query)&&void 0!==t&&t.q?"departments"==(null===(l=this.$route)||void 0===l||null===(a=l.query)||void 0===a?void 0:a.q)&&"admin"!=(null===(i=this.$store.getters.userData)||void 0===i?void 0:i.role)?this.tabs="approved":this.tabs=this.$route.query.q:this.tabs="approved"},deep:!0,immediate:!0},dateList:{handler:function(){this.dateModel=this.dateList}},tabs:{handler:function(){this.getData()}}},methods:{copyLink(){navigator.clipboard.writeText(this.departmentLink),this.$q.notify({message:"Text copied to clipboard"})},mailUser(e){""!=e&&window.open(`mailto: ${e}`)},callUser(e){""!=e&&window.open(`tel: ${e}`)},exportFile(e,t){const l=[{value:"Numele și prenumele",fontWeight:"bold"},{value:"E-mail",fontWeight:"bold"},{value:"Număr de telefon",fontWeight:"bold"},{value:"Data nașterii",fontWeight:"bold"},{value:"Etnie",fontWeight:"bold"},{value:"Sex",fontWeight:"bold"},{value:"Marime tricou",fontWeight:"bold"},{value:"Zona",fontWeight:"bold"},{value:"Comunitatea",fontWeight:"bold"},{value:"Categoria",fontWeight:"bold"},{value:"Club",fontWeight:"bold"},{value:"Instructor - anul investiturii:",fontWeight:"bold"},{value:"Ghid - anul investiturii:",fontWeight:"bold"},{value:"Master Ghid - anul investiturii:",fontWeight:"bold"},{value:"Specializările",fontWeight:"bold"},{value:"Status",fontWeight:"bold"}];let a=[l];e.forEach((e=>{let t="";if(""!=e.dateOfBirth){let l=new Date(e.dateOfBirth);const a=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],i=a[l.getMonth()];t=l.getDate()+" "+i+", "+l.getFullYear()}let l=[];l.push({value:e.name},{value:e.email},{value:e.phoneNumber},{value:t},{value:e.etnic},{value:e.gender},{value:e.size},{value:e.region},{value:e.state},{value:e.category},{value:e.clubName},{value:e.Instructor},{value:e.Ghid},{value:e.masterGhid},{value:null!==e&&void 0!==e&&e.tagList?e.tagList.join(", "):""},{value:e.status?"Active":"InActive"}),a.push(l)})),(0,It.Z)(a,{fileName:t+".xlsx"})},async getData(){await this.$store.dispatch("getUserList")},async approveUser(e){await this.$store.dispatch("approveUser",e)},async declineUser(e){await this.$store.dispatch("declineUser",e)},async deleteUser(e){await this.$store.dispatch("deleteUser",e)},viewUser(e){this.$store.dispatch("setSelectedUser",e),this.$router.push("/user-details")},async setDate(){this.dateSetting||(this.dateModel?(this.dateSetting=!0,await this.$store.dispatch("setDateRange",{date:this.dateModel,uid:this.$store.getters.userData.uid}),this.dateSetting=!1):this.$q.notify({color:"red",message:"Te rugăm să introduci corect data."}))}},computed:{departmentUsers(){return this.$store.getters.userList.filter((e=>"department"==e.role))},userList(){return this.$store.getters.userList},approvedUsers(){const e=this.userList.filter((e=>"All"==this.departmentName?1==e.isAuthorized&&"admin"!=e.role&&"department"!=e.role:1==e.isAuthorized&&"admin"!=e.role&&"department"!=e.role&&e.department==this.departmentName));return e},declinedUsers(){return this.userList.filter((e=>"All"==this.departmentName?0==e.isAuthorized&&"admin"!=e.role&&"department"!=e.role:0==e.isAuthorized&&"admin"!=e.role&&"department"!=e.role&&e.department==this.departmentName))},pendingUsers(){return this.userList.filter((e=>"All"==this.departmentName?"pending"==e.isAuthorized&&"admin"!=e.role&&"department"!=e.role:"pending"==e.isAuthorized&&"admin"!=e.role&&"department"!=e.role&&e.department==this.departmentName))},departmentList(){let e=this.$store.getters.userList.filter((e=>"department"==e.role)).map((e=>e.departmentName));return e.unshift("All"),e},dateList(){return this.$store.getters.dateList},departmentLink(){return window.location.host+"/#/signup_department"}}};var Gt=l(9800),Zt=l(4106);const jt=(0,xe.Z)(At,[["render",St]]),Qt=jt;Te()(At,"components",{QTabPanels:Gt.Z,QTabPanel:Zt.Z,QSelect:ze.Z,QBtn:Le.Z,QIcon:$e.Z,QDate:Se.Z,QDialog:Ie.Z,QCard:Ae.Z,QCardSection:Ge.Z,QCardActions:Ze.Z}),Te()(At,"directives",{ClosePopup:je.Z});const Tt={components:{teamHome:Ee,adminHome:Qt},computed:{userData(){return this.$store.getters.userData}}},Yt=(0,xe.Z)(Tt,[["render",i]]),Et=Yt}}]);
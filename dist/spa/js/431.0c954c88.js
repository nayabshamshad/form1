"use strict";(globalThis["webpackChunkform1_quasar"]=globalThis["webpackChunkform1_quasar"]||[]).push([[431],{7431:(e,t,a)=>{a.r(t),a.d(t,{default:()=>R});a(702);var l=a(9835),o=a(1957);const i={class:"container"},s=(0,l._)("h2",null,"Autentificare",-1),n={class:"cate-list"},r=(0,l._)("label",{for:"uname"},[(0,l._)("b",null,"Adresa ta de E-mail")],-1),u={class:"cate-list"},d=(0,l._)("label",{for:"pwd"},[(0,l._)("b",null,"Parola")],-1),m={class:"btn1"},c=(0,l.Uk)("Conectare"),p={class:"pwd"},g=(0,l.Uk)("Utilizator nou? "),f=(0,l.Uk)("Înregistrare"),h=(0,l._)("div",{class:"flex",style:{"justify-content":"flex-end",padding:"0 30%"}},null,-1),_=(0,l._)("div",{class:"text-h6"},"Resetare parolă",-1),b=(0,l._)("p",null,"Introduce adresa de E-mail",-1),w={class:"flex justify-center"},E=(0,l.Uk)("Resetare");function y(e,t,a,y,k,C){const U=(0,l.up)("q-input"),v=(0,l.up)("q-btn"),V=(0,l.up)("router-link"),W=(0,l.up)("q-card-section"),q=(0,l.up)("q-card-actions"),P=(0,l.up)("q-card"),D=(0,l.up)("q-dialog"),S=(0,l.Q2)("close-popup");return(0,l.wg)(),(0,l.iD)(l.HY,null,[(0,l._)("div",i,[(0,l._)("form",{onSubmit:t[3]||(t[3]=(0,o.iM)(((...e)=>C.loginUser&&C.loginUser(...e)),["prevent"])),class:"form",autocomplete:"off"},[s,(0,l._)("div",n,[r,(0,l.Wm)(U,{modelValue:k.userEmail,"onUpdate:modelValue":t[0]||(t[0]=e=>k.userEmail=e),type:"text",placeholder:"Adresa de E-mail",name:"uname"},null,8,["modelValue"])]),(0,l._)("div",u,[d,(0,l.Wm)(U,{type:"password",placeholder:"Parola",name:"pwd",modelValue:k.userPass,"onUpdate:modelValue":t[1]||(t[1]=e=>k.userPass=e)},null,8,["modelValue"])]),(0,l._)("div",m,[(0,l.Wm)(v,{onClick:C.loginUser,loading:k.isSubmitting,type:"button",color:"purple",rounded:""},{default:(0,l.w5)((()=>[c])),_:1},8,["onClick","loading"])]),(0,l._)("span",p,[g,(0,l.Wm)(V,{to:"/sign-up"},{default:(0,l.w5)((()=>[f])),_:1}),(0,l._)("button",{type:"button",style:{background:"none",outline:"none",border:"none",display:"block",color:"blue",cursor:"pointer"},onClick:t[2]||(t[2]=(...e)=>C.forgotPassword&&C.forgotPassword(...e))}," Am uitat parola ")])],32)]),(0,l.Wm)(D,{modelValue:k.forgotDialog,"onUpdate:modelValue":t[5]||(t[5]=e=>k.forgotDialog=e)},{default:(0,l.w5)((()=>[(0,l.Wm)(P,{style:{width:"100%"}},{default:(0,l.w5)((()=>[(0,l.Wm)(W,null,{default:(0,l.w5)((()=>[h,_])),_:1}),(0,l.Wm)(W,{class:"q-pt-none"},{default:(0,l.w5)((()=>[b,(0,l.Wm)(U,{modelValue:k.forgotEmail,"onUpdate:modelValue":t[4]||(t[4]=e=>k.forgotEmail=e),type:"email"},null,8,["modelValue"]),(0,l._)("div",w,[(0,l.Wm)(v,{onClick:C.sendResetEmail,rounder:"",style:{"margin-top":"1rem"},loading:k.sendingEmail,color:"purple"},{default:(0,l.w5)((()=>[E])),_:1},8,["onClick","loading"])])])),_:1}),(0,l.Wm)(q,{align:"right"},{default:(0,l.w5)((()=>[(0,l.wy)((0,l.Wm)(v,{flat:"",label:"Ieșire",color:"primary"},null,512),[[S]])])),_:1})])),_:1})])),_:1},8,["modelValue"])],64)}const k={data(){return{userEmail:"",userPass:"",isSubmitting:!1,forgotDialog:!1,forgotEmail:"",sendingEmail:!1,forgotCode:""}},mounted(){},methods:{async confirmReset(){await this.$store.dispatch("confirmReset",this.forgotCode)},async sendResetEmail(){if(this.sendingEmail)return;this.sendingEmail=!0;const e=await this.$store.dispatch("sendResetEmail",this.forgotEmail);e.err||(this.$q.notify({message:"E-mail pentru resetarea parolei a fost trimis, te rugăm să verifici și in folder-ul Spam.",color:"green"}),setTimeout((()=>{this.forgotDialog=!1}),1e3)),this.sendingEmail=!1},async forgotPassword(){this.forgotEmail=this.userEmail,this.forgotDialog=!0},async loginUser(){this.forgotDialog=!1,this.isSubmitting||(this.isSubmitting=!0,await this.$store.dispatch("signInUser",{email:this.userEmail,password:this.userPass}),this.isSubmitting=!1)}}};var C=a(1639),U=a(6611),v=a(4455),V=a(7743),W=a(4458),q=a(3190),P=a(1821),D=a(2146),S=a(9984),Z=a.n(S);const Q=(0,C.Z)(k,[["render",y]]),R=Q;Z()(k,"components",{QInput:U.Z,QBtn:v.Z,QDialog:V.Z,QCard:W.Z,QCardSection:q.Z,QCardActions:P.Z}),Z()(k,"directives",{ClosePopup:D.Z})}}]);
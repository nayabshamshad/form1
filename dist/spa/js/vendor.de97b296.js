(globalThis["webpackChunkform1_quasar"]=globalThis["webpackChunkform1_quasar"]||[]).push([[736],{7574:(e,t,n)=>{"use strict";n.d(t,{u7:()=>cm,Jj:()=>op,IX:()=>$f,my:()=>Pf,xU:()=>qp,Lz:()=>ip,WA:()=>ei,F8:()=>ap,$q:()=>Up,W:()=>Bp,EK:()=>mi,PU:()=>fm,l7:()=>po,Ky:()=>_i,Xb:()=>wi,Cf:()=>Cf,K9:()=>Qr,Me:()=>ro,yq:()=>Wr,Wi:()=>If,ET:()=>xm,Ab:()=>Lm,vr:()=>Dm,Fc:()=>Qf,hJ:()=>Ff,B$:()=>Mf,at:()=>Nf,oe:()=>Im,AK:()=>Nm,TF:()=>ep,JU:()=>qf,ST:()=>Gf,fH:()=>Zf,Ix:()=>Xf,Wu:()=>im,Lx:()=>rm,qY:()=>Kf,GL:()=>Cm,QT:()=>mm,kl:()=>vm,Xk:()=>ym,PL:()=>bm,UQ:()=>wm,zN:()=>_m,nP:()=>Fm,b9:()=>Qp,vh:()=>Jp,Pb:()=>tp,L$:()=>np,cf:()=>Em,sc:()=>Tm,Xo:()=>Zp,IO:()=>Hp,iE:()=>Bf,Eo:()=>Uf,i3:()=>Om,Bt:()=>Pm,pl:()=>Sm,Ub:()=>$r,qK:()=>jp,TQ:()=>tm,e0:()=>em,r7:()=>km,Mx:()=>Jf,ar:()=>Wp});var r,i=n(8897),o=n(3513),s=n(9795),a=n(5505),l="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:{},u={},c=c||{},h=l||self;function d(){}function f(e){var t=typeof e;return t="object"!=t?t:e?Array.isArray(e)?"array":t:"null","array"==t||"object"==t&&"number"==typeof e.length}function p(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}function m(e){return Object.prototype.hasOwnProperty.call(e,g)&&e[g]||(e[g]=++v)}var g="closure_uid_"+(1e9*Math.random()>>>0),v=0;function y(e,t,n){return e.call.apply(e.bind,arguments)}function b(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function w(e,t,n){return w=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?y:b,w.apply(null,arguments)}function _(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function S(e,t){function n(){}n.prototype=t.prototype,e.Z=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Vb=function(e,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return t.prototype[n].apply(e,i)}}function k(){this.s=this.s,this.o=this.o}var I=0,x={};k.prototype.s=!1,k.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0!=I)){var e=m(this);delete x[e]}},k.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const E=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(let n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},T=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){const r=e.length,i="string"===typeof e?e.split(""):e;for(let o=0;o<r;o++)o in i&&t.call(n,i[o],o,e)};function C(e){e:{var t=Kn;const n=e.length,r="string"===typeof e?e.split(""):e;for(let i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e)){t=i;break e}t=-1}return 0>t?null:"string"===typeof e?e.charAt(t):e[t]}function A(e){return Array.prototype.concat.apply([],arguments)}function R(e){const t=e.length;if(0<t){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function O(e){return/^[\s\xa0]*$/.test(e)}var N,P=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function D(e,t){return-1!=e.indexOf(t)}function L(e,t){return e<t?-1:e>t?1:0}e:{var F=h.navigator;if(F){var M=F.userAgent;if(M){N=M;break e}}N=""}function q(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function U(e){const t={};for(const n in e)t[n]=e[n];return t}var B="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function V(e,t){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)e[n]=r[n];for(let t=0;t<B.length;t++)n=B[t],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function j(e){return j[" "](e),e}function z(e){var t=ne;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=e(9)}j[" "]=d;var $,H=D(N,"Opera"),K=D(N,"Trident")||D(N,"MSIE"),W=D(N,"Edge"),G=W||K,Z=D(N,"Gecko")&&!(D(N.toLowerCase(),"webkit")&&!D(N,"Edge"))&&!(D(N,"Trident")||D(N,"MSIE"))&&!D(N,"Edge"),Y=D(N.toLowerCase(),"webkit")&&!D(N,"Edge");function Q(){var e=h.document;return e?e.documentMode:void 0}e:{var J="",X=function(){var e=N;return Z?/rv:([^\);]+)(\)|;)/.exec(e):W?/Edge\/([\d\.]+)/.exec(e):K?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):Y?/WebKit\/(\S+)/.exec(e):H?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(X&&(J=X?X[1]:""),K){var ee=Q();if(null!=ee&&ee>parseFloat(J)){$=String(ee);break e}}$=J}var te,ne={};function re(){return z((function(){let e=0;const t=P(String($)).split("."),n=P("9").split("."),r=Math.max(t.length,n.length);for(let s=0;0==e&&s<r;s++){var i=t[s]||"",o=n[s]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],0==i[0].length&&0==o[0].length)break;e=L(0==i[1].length?0:parseInt(i[1],10),0==o[1].length?0:parseInt(o[1],10))||L(0==i[2].length,0==o[2].length)||L(i[2],o[2]),i=i[3],o=o[3]}while(0==e)}return 0<=e}))}if(h.document&&K){var ie=Q();te=ie||(parseInt($,10)||void 0)}else te=void 0;var oe=te,se=function(){if(!h.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{h.addEventListener("test",d,t),h.removeEventListener("test",d,t)}catch(n){}return e}();function ae(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}function le(e,t){if(ae.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(Z){e:{try{j(t.nodeName);var i=!0;break e}catch(o){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:ue[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&le.Z.h.call(this)}}ae.prototype.h=function(){this.defaultPrevented=!0},S(le,ae);var ue={2:"touch",3:"pen",4:"mouse"};le.prototype.h=function(){le.Z.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var ce="closure_listenable_"+(1e6*Math.random()|0),he=0;function de(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ia=i,this.key=++he,this.ca=this.fa=!1}function fe(e){e.ca=!0,e.listener=null,e.proxy=null,e.src=null,e.ia=null}function pe(e){this.src=e,this.g={},this.h=0}function me(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],o=E(i,t);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(fe(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function ge(e,t,n,r){for(var i=0;i<e.length;++i){var o=e[i];if(!o.ca&&o.listener==t&&o.capture==!!n&&o.ia==r)return i}return-1}pe.prototype.add=function(e,t,n,r,i){var o=e.toString();e=this.g[o],e||(e=this.g[o]=[],this.h++);var s=ge(e,t,r,i);return-1<s?(t=e[s],n||(t.fa=!1)):(t=new de(t,this.src,o,!!r,i),t.fa=n,e.push(t)),t};var ve="closure_lm_"+(1e6*Math.random()|0),ye={};function be(e,t,n,r,i){if(r&&r.once)return Se(e,t,n,r,i);if(Array.isArray(t)){for(var o=0;o<t.length;o++)be(e,t[o],n,r,i);return null}return n=Ae(n),e&&e[ce]?e.N(t,n,p(r)?!!r.capture:!!r,i):we(e,t,n,!1,r,i)}function we(e,t,n,r,i,o){if(!t)throw Error("Invalid event type");var s=p(i)?!!i.capture:!!i,a=Te(e);if(a||(e[ve]=a=new pe(e)),n=a.add(t,n,r,s,o),n.proxy)return n;if(r=_e(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)se||(i=s),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(xe(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function _e(){function e(n){return t.call(e.src,e.listener,n)}var t=Ee;return e}function Se(e,t,n,r,i){if(Array.isArray(t)){for(var o=0;o<t.length;o++)Se(e,t[o],n,r,i);return null}return n=Ae(n),e&&e[ce]?e.O(t,n,p(r)?!!r.capture:!!r,i):we(e,t,n,!0,r,i)}function ke(e,t,n,r,i){if(Array.isArray(t))for(var o=0;o<t.length;o++)ke(e,t[o],n,r,i);else r=p(r)?!!r.capture:!!r,n=Ae(n),e&&e[ce]?(e=e.i,t=String(t).toString(),t in e.g&&(o=e.g[t],n=ge(o,n,r,i),-1<n&&(fe(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete e.g[t],e.h--)))):e&&(e=Te(e))&&(t=e.g[t.toString()],e=-1,t&&(e=ge(t,n,r,i)),(n=-1<e?t[e]:null)&&Ie(n))}function Ie(e){if("number"!==typeof e&&e&&!e.ca){var t=e.src;if(t&&t[ce])me(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(xe(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Te(t))?(me(n,e),0==n.h&&(n.src=null,t[ve]=null)):fe(e)}}}function xe(e){return e in ye?ye[e]:ye[e]="on"+e}function Ee(e,t){if(e.ca)e=!0;else{t=new le(t,this);var n=e.listener,r=e.ia||e.src;e.fa&&Ie(e),e=n.call(r,t)}return e}function Te(e){return e=e[ve],e instanceof pe?e:null}var Ce="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ae(e){return"function"===typeof e?e:(e[Ce]||(e[Ce]=function(t){return e.handleEvent(t)}),e[Ce])}function Re(){k.call(this),this.i=new pe(this),this.P=this,this.I=null}function Oe(e,t){var n,r=e.I;if(r)for(n=[];r;r=r.I)n.push(r);if(e=e.P,r=t.type||t,"string"===typeof t)t=new ae(t,e);else if(t instanceof ae)t.target=t.target||e;else{var i=t;t=new ae(r,e),V(t,i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var s=t.g=n[o];i=Ne(s,r,!0,t)&&i}if(s=t.g=e,i=Ne(s,r,!0,t)&&i,i=Ne(s,r,!1,t)&&i,n)for(o=0;o<n.length;o++)s=t.g=n[o],i=Ne(s,r,!1,t)&&i}function Ne(e,t,n,r){if(t=e.i.g[String(t)],!t)return!0;t=t.concat();for(var i=!0,o=0;o<t.length;++o){var s=t[o];if(s&&!s.ca&&s.capture==n){var a=s.listener,l=s.ia||s.src;s.fa&&me(e.i,s),i=!1!==a.call(l,r)&&i}}return i&&!r.defaultPrevented}S(Re,k),Re.prototype[ce]=!0,Re.prototype.removeEventListener=function(e,t,n,r){ke(this,e,t,n,r)},Re.prototype.M=function(){if(Re.Z.M.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)fe(n[r]);delete t.g[e],t.h--}}this.I=null},Re.prototype.N=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},Re.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var Pe=h.JSON.stringify;function De(){var e=ze;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}class Le{constructor(){this.h=this.g=null}add(e,t){const n=Me.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}}var Fe,Me=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}((()=>new qe),(e=>e.reset()));class qe{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function Ue(e){h.setTimeout((()=>{throw e}),0)}function Be(e,t){Fe||Ve(),je||(Fe(),je=!0),ze.add(e,t)}function Ve(){var e=h.Promise.resolve(void 0);Fe=function(){e.then($e)}}var je=!1,ze=new Le;function $e(){for(var e;e=De();){try{e.h.call(e.g)}catch(n){Ue(n)}var t=Me;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}je=!1}function He(e,t){Re.call(this),this.h=e||1,this.g=t||h,this.j=w(this.kb,this),this.l=Date.now()}function Ke(e){e.da=!1,e.S&&(e.g.clearTimeout(e.S),e.S=null)}function We(e,t,n){if("function"===typeof e)n&&(e=w(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=w(e.handleEvent,e)}return 2147483647<Number(t)?-1:h.setTimeout(e,t||0)}function Ge(e){e.g=We((()=>{e.g=null,e.i&&(e.i=!1,Ge(e))}),e.j);const t=e.h;e.h=null,e.m.apply(null,t)}S(He,Re),r=He.prototype,r.da=!1,r.S=null,r.kb=function(){if(this.da){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-e):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Oe(this,"tick"),this.da&&(Ke(this),this.start()))}},r.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},r.M=function(){He.Z.M.call(this),Ke(this),delete this.g};class Ze extends k{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:Ge(this)}M(){super.M(),this.g&&(h.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ye(e){k.call(this),this.h=e,this.g={}}S(Ye,k);var Qe=[];function Je(e,t,n,r){Array.isArray(n)||(n&&(Qe[0]=n.toString()),n=Qe);for(var i=0;i<n.length;i++){var o=be(t,n[i],r||e.handleEvent,!1,e.h||e);if(!o)break;e.g[o.key]=o}}function Xe(e){q(e.g,(function(e,t){this.g.hasOwnProperty(t)&&Ie(e)}),e),e.g={}}function et(){this.g=!0}function tt(e,t,n,r,i,o){e.info((function(){if(e.g)if(o)for(var s="",a=o.split("&"),l=0;l<a.length;l++){var u=a[l].split("=");if(1<u.length){var c=u[0];u=u[1];var h=c.split("_");s=2<=h.length&&"type"==h[1]?s+(c+"=")+u+"&":s+(c+"=redacted&")}}else s=null;else s=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+s}))}function nt(e,t,n,r,i,o,s){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+o+" "+s}))}function rt(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+ot(e,n)+(r?" "+r:"")}))}function it(e,t){e.info((function(){return"TIMEOUT: "+t}))}function ot(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var s=1;s<i.length;s++)i[s]=""}}}return Pe(n)}catch(a){return t}}Ye.prototype.M=function(){Ye.Z.M.call(this),Xe(this)},Ye.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},et.prototype.Aa=function(){this.g=!1},et.prototype.info=function(){};var st={},at=null;function lt(){return at=at||new Re}function ut(e){ae.call(this,st.Ma,e)}function ct(e){const t=lt();Oe(t,new ut(t,e))}function ht(e,t){ae.call(this,st.STAT_EVENT,e),this.stat=t}function dt(e){const t=lt();Oe(t,new ht(t,e))}function ft(e,t){ae.call(this,st.Na,e),this.size=t}function pt(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return h.setTimeout((function(){e()}),t)}st.Ma="serverreachability",S(ut,ae),st.STAT_EVENT="statevent",S(ht,ae),st.Na="timingevent",S(ft,ae);var mt={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},gt={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function vt(){}function yt(e){return e.h||(e.h=e.i())}function bt(){}vt.prototype.h=null;var wt,_t={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function St(){ae.call(this,"d")}function kt(){ae.call(this,"c")}function It(){}function xt(e,t,n,r){this.l=e,this.j=t,this.m=n,this.X=r||1,this.V=new Ye(this),this.P=Tt,e=G?125:void 0,this.W=new He(e),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new Et}function Et(){this.i=null,this.g="",this.h=!1}S(St,ae),S(kt,ae),S(It,vt),It.prototype.g=function(){return new XMLHttpRequest},It.prototype.i=function(){return{}},wt=new It;var Tt=45e3,Ct={},At={};function Rt(e,t,n){e.K=1,e.v=tn(Zt(t)),e.s=n,e.U=!0,Ot(e,null)}function Ot(e,t){e.F=Date.now(),Lt(e),e.A=Zt(e.v);var n=e.A,r=e.X;Array.isArray(r)||(r=[String(r)]),vn(n.h,"t",r),e.C=0,n=e.l.H,e.h=new Et,e.g=kr(e.l,n?t:null,!e.s),0<e.O&&(e.L=new Ze(w(e.Ia,e,e.g),e.O)),Je(e.V,e.g,"readystatechange",e.gb),t=e.H?U(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.s,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),ct(1),tt(e.j,e.u,e.A,e.m,e.X,e.s)}function Nt(e){return!!e.g&&("GET"==e.u&&2!=e.K&&e.l.Ba)}function Pt(e,t,n){let r,i=!0;for(;!e.I&&e.C<n.length;){if(r=Dt(e,n),r==At){4==t&&(e.o=4,dt(14),i=!1),rt(e.j,e.m,null,"[Incomplete Response]");break}if(r==Ct){e.o=4,dt(15),rt(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}rt(e.j,e.m,r,null),Bt(e,r)}Nt(e)&&r!=At&&r!=Ct&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,dt(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.aa&&(e.aa=!0,t=e.l,t.g==e&&t.$&&!t.L&&(t.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),mr(t),t.L=!0,dt(11))):(rt(e.j,e.m,n,"[Invalid Chunked Response]"),Ut(e),qt(e))}function Dt(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?At:(n=Number(t.substring(n,r)),isNaN(n)?Ct:(r+=1,r+n>t.length?At:(t=t.substr(r,n),e.C=r+n,t)))}function Lt(e){e.Y=Date.now()+e.P,Ft(e,e.P)}function Ft(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=pt(w(e.eb,e),t)}function Mt(e){e.B&&(h.clearTimeout(e.B),e.B=null)}function qt(e){0==e.l.G||e.I||yr(e.l,e)}function Ut(e){Mt(e);var t=e.L;t&&"function"==typeof t.na&&t.na(),e.L=null,Ke(e.W),Xe(e.V),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function Bt(e,t){try{var n=e.l;if(0!=n.G&&(n.g==e||xn(n.i,e)))if(n.I=e.N,!e.J&&xn(n.i,e)&&3==n.G){try{var r=n.Ca.g.parse(t)}catch(u){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;vr(n),or(n)}pr(n),dt(18)}}else n.ta=i[1],0<n.ta-n.U&&37500>i[2]&&n.N&&0==n.A&&!n.v&&(n.v=pt(w(n.ab,n),6e3));if(1>=In(n.i)&&n.ka){try{n.ka()}catch(u){}n.ka=void 0}}else wr(n,11)}else if((e.J||n.g==e)&&vr(n),!O(t))for(i=n.Ca.g.parse(t),t=0;t<i.length;t++){let u=i[t];if(n.U=u[0],u=u[1],2==n.G)if("c"==u[0]){n.J=u[1],n.la=u[2];const t=u[3];null!=t&&(n.ma=t,n.h.info("VER="+n.ma));const i=u[4];null!=i&&(n.za=i,n.h.info("SVER="+n.za));const c=u[5];null!=c&&"number"===typeof c&&0<c&&(r=1.5*c,n.K=r,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;const h=e.g;if(h){const e=h.g?h.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var o=r.i;!o.g&&(D(e,"spdy")||D(e,"quic")||D(e,"h2"))&&(o.j=o.l,o.g=new Set,o.h&&(En(o,o.h),o.h=null))}if(r.D){const e=h.g?h.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(r.sa=e,en(r.F,r.D,e))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-e.F,n.h.info("Handshake RTT: "+n.O+"ms")),r=n;var s=e;if(r.oa=Sr(r,r.H?r.la:null,r.W),s.J){Tn(r.i,s);var a=s,l=r.K;l&&a.setTimeout(l),a.B&&(Mt(a),Lt(a)),r.g=s}else fr(r);0<n.l.length&&lr(n)}else"stop"!=u[0]&&"close"!=u[0]||wr(n,7);else 3==n.G&&("stop"==u[0]||"close"==u[0]?"stop"==u[0]?wr(n,7):ir(n):"noop"!=u[0]&&n.j&&n.j.wa(u),n.A=0)}ct(4)}catch(u){}}function Vt(e){if(e.R&&"function"==typeof e.R)return e.R();if("string"===typeof e)return e.split("");if(f(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}function jt(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(f(e)||"string"===typeof e)T(e,t,void 0);else{if(e.T&&"function"==typeof e.T)var n=e.T();else if(e.R&&"function"==typeof e.R)n=void 0;else if(f(e)||"string"===typeof e){n=[];for(var r=e.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,e)n[r++]=i;r=Vt(e),i=r.length;for(var o=0;o<i;o++)t.call(void 0,r[o],n&&n[o],e)}}function zt(e,t){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof zt)for(n=e.T(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}function $t(e){if(e.i!=e.g.length){for(var t=0,n=0;t<e.g.length;){var r=e.g[t];Ht(e.h,r)&&(e.g[n++]=r),t++}e.g.length=n}if(e.i!=e.g.length){var i={};for(n=t=0;t<e.g.length;)r=e.g[t],Ht(i,r)||(e.g[n++]=r,i[r]=1),t++;e.g.length=n}}function Ht(e,t){return Object.prototype.hasOwnProperty.call(e,t)}r=xt.prototype,r.setTimeout=function(e){this.P=e},r.gb=function(e){e=e.target;const t=this.L;t&&3==Jn(e)?t.l():this.Ia(e)},r.Ia=function(e){try{if(e==this.g)e:{const c=Jn(this.g);var t=this.g.Da();const d=this.g.ba();if(!(3>c)&&(3!=c||G||this.g&&(this.h.h||this.g.ga()||Xn(this.g)))){this.I||4!=c||7==t||ct(8==t||0>=d?3:2),Mt(this);var n=this.g.ba();this.N=n;t:if(Nt(this)){var r=Xn(this.g);e="";var i=r.length,o=4==Jn(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){Ut(this),qt(this);var s="";break t}this.h.i=new h.TextDecoder}for(t=0;t<i;t++)this.h.h=!0,e+=this.h.i.decode(r[t],{stream:o&&t==i-1});r.splice(0,i),this.h.g+=e,this.C=0,s=this.h.g}else s=this.g.ga();if(this.i=200==n,nt(this.j,this.u,this.A,this.m,this.X,c,n),this.i){if(this.$&&!this.J){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!O(a)){var u=a;break t}}u=null}if(!(n=u)){this.i=!1,this.o=3,dt(12),Ut(this),qt(this);break e}rt(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Bt(this,n)}this.U?(Pt(this,c,s),G&&this.i&&3==c&&(Je(this.V,this.W,"tick",this.fb),this.W.start())):(rt(this.j,this.m,s,null),Bt(this,s)),4==c&&Ut(this),this.i&&!this.I&&(4==c?yr(this.l,this):(this.i=!1,Lt(this)))}else 400==n&&0<s.indexOf("Unknown SID")?(this.o=3,dt(12)):(this.o=0,dt(13)),Ut(this),qt(this)}}}catch(c){}},r.fb=function(){if(this.g){var e=Jn(this.g),t=this.g.ga();this.C<t.length&&(Mt(this),Pt(this,e,t),this.i&&4!=e&&Lt(this))}},r.cancel=function(){this.I=!0,Ut(this)},r.eb=function(){this.B=null;const e=Date.now();0<=e-this.Y?(it(this.j,this.A),2!=this.K&&(ct(3),dt(17)),Ut(this),this.o=2,qt(this)):Ft(this,this.Y-e)},r=zt.prototype,r.R=function(){$t(this);for(var e=[],t=0;t<this.g.length;t++)e.push(this.h[this.g[t]]);return e},r.T=function(){return $t(this),this.g.concat()},r.get=function(e,t){return Ht(this.h,e)?this.h[e]:t},r.set=function(e,t){Ht(this.h,e)||(this.i++,this.g.push(e)),this.h[e]=t},r.forEach=function(e,t){for(var n=this.T(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);e.call(t,o,i,this)}};var Kt=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Wt(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var o=e[n].substring(0,r);i=e[n].substring(r+1)}else o=e[n];t(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function Gt(e,t){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,e instanceof Gt){this.g=void 0!==t?t:e.g,Yt(this,e.j),this.s=e.s,Qt(this,e.i),Jt(this,e.m),this.l=e.l,t=e.h;var n=new fn;n.i=t.i,t.g&&(n.g=new zt(t.g),n.h=t.h),Xt(this,n),this.o=e.o}else e&&(n=String(e).match(Kt))?(this.g=!!t,Yt(this,n[1]||"",!0),this.s=on(n[2]||""),Qt(this,n[3]||"",!0),Jt(this,n[4]),this.l=on(n[5]||"",!0),Xt(this,n[6]||"",!0),this.o=on(n[7]||"")):(this.g=!!t,this.h=new fn(null,this.g))}function Zt(e){return new Gt(e)}function Yt(e,t,n){e.j=n?on(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function Qt(e,t,n){e.i=n?on(t,!0):t}function Jt(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function Xt(e,t,n){t instanceof fn?(e.h=t,bn(e.h,e.g)):(n||(t=sn(t,hn)),e.h=new fn(t,e.g))}function en(e,t,n){e.h.set(t,n)}function tn(e){return en(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function nn(e){return e instanceof Gt?Zt(e):new Gt(e,void 0)}function rn(e,t,n,r){var i=new Gt(null,void 0);return e&&Yt(i,e),t&&Qt(i,t),n&&Jt(i,n),r&&(i.l=r),i}function on(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function sn(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,an),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function an(e){return e=e.charCodeAt(0),"%"+(e>>4&15).toString(16)+(15&e).toString(16)}Gt.prototype.toString=function(){var e=[],t=this.j;t&&e.push(sn(t,ln,!0),":");var n=this.i;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(sn(t,ln,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,null!=n&&e.push(":",String(n))),(n=this.l)&&(this.i&&"/"!=n.charAt(0)&&e.push("/"),e.push(sn(n,"/"==n.charAt(0)?cn:un,!0))),(n=this.h.toString())&&e.push("?",n),(n=this.o)&&e.push("#",sn(n,dn)),e.join("")};var ln=/[#\/\?@]/g,un=/[#\?:]/g,cn=/[#\?]/g,hn=/[#\?@]/g,dn=/#/g;function fn(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function pn(e){e.g||(e.g=new zt,e.h=0,e.i&&Wt(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function mn(e,t){pn(e),t=yn(e,t),Ht(e.g.h,t)&&(e.i=null,e.h-=e.g.get(t).length,e=e.g,Ht(e.h,t)&&(delete e.h[t],e.i--,e.g.length>2*e.i&&$t(e)))}function gn(e,t){return pn(e),t=yn(e,t),Ht(e.g.h,t)}function vn(e,t,n){mn(e,t),0<n.length&&(e.i=null,e.g.set(yn(e,t),R(n)),e.h+=n.length)}function yn(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function bn(e,t){t&&!e.j&&(pn(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(mn(this,t),vn(this,n,e))}),e)),e.j=t}r=fn.prototype,r.add=function(e,t){pn(this),this.i=null,e=yn(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},r.forEach=function(e,t){pn(this),this.g.forEach((function(n,r){T(n,(function(n){e.call(t,n,r,this)}),this)}),this)},r.T=function(){pn(this);for(var e=this.g.R(),t=this.g.T(),n=[],r=0;r<t.length;r++)for(var i=e[r],o=0;o<i.length;o++)n.push(t[r]);return n},r.R=function(e){pn(this);var t=[];if("string"===typeof e)gn(this,e)&&(t=A(t,this.g.get(yn(this,e))));else{e=this.g.R();for(var n=0;n<e.length;n++)t=A(t,e[n])}return t},r.set=function(e,t){return pn(this),this.i=null,e=yn(this,e),gn(this,e)&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},r.get=function(e,t){return e?(e=this.R(e),0<e.length?String(e[0]):t):t},r.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=this.g.T(),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r));r=this.R(r);for(var o=0;o<r.length;o++){var s=i;""!==r[o]&&(s+="="+encodeURIComponent(String(r[o]))),e.push(s)}}return this.i=e.join("&")};var wn=class{constructor(e,t){this.h=e,this.g=t}};function _n(e){this.l=e||Sn,h.PerformanceNavigationTiming?(e=h.performance.getEntriesByType("navigation"),e=0<e.length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol)):e=!!(h.g&&h.g.Ea&&h.g.Ea()&&h.g.Ea().Zb),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var Sn=10;function kn(e){return!!e.h||!!e.g&&e.g.size>=e.j}function In(e){return e.h?1:e.g?e.g.size:0}function xn(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function En(e,t){e.g?e.g.add(t):e.h=t}function Tn(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function Cn(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){let t=e.i;for(const n of e.g.values())t=t.concat(n.D);return t}return R(e.i)}function An(){}function Rn(){this.g=new An}function On(e,t,n){const r=n||"";try{jt(e,(function(e,n){let i=e;p(e)&&(i=Pe(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function Nn(e,t){const n=new et;if(h.Image){const r=new Image;r.onload=_(Pn,n,r,"TestLoadImage: loaded",!0,t),r.onerror=_(Pn,n,r,"TestLoadImage: error",!1,t),r.onabort=_(Pn,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=_(Pn,n,r,"TestLoadImage: timeout",!1,t),h.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}function Pn(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(o){}}function Dn(e){this.l=e.$b||null,this.j=e.ib||!1}function Ln(e,t){Re.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=Fn,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}_n.prototype.cancel=function(){if(this.i=Cn(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const e of this.g.values())e.cancel();this.g.clear()}},An.prototype.stringify=function(e){return h.JSON.stringify(e,void 0)},An.prototype.parse=function(e){return h.JSON.parse(e,void 0)},S(Dn,vt),Dn.prototype.g=function(){return new Ln(this.l,this.j)},Dn.prototype.i=function(e){return function(){return e}}({}),S(Ln,Re);var Fn=0;function Mn(e){e.j.read().then(e.Sa.bind(e)).catch(e.ha.bind(e))}function qn(e){e.readyState=4,e.l=null,e.j=null,e.A=null,Un(e)}function Un(e){e.onreadystatechange&&e.onreadystatechange.call(e)}r=Ln.prototype,r.open=function(e,t){if(this.readyState!=Fn)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,Un(this)},r.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||h).fetch(new Request(this.B,t)).then(this.Va.bind(this),this.ha.bind(this))},r.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,qn(this)),this.readyState=Fn},r.Va=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Un(this)),this.g&&(this.readyState=3,Un(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if("undefined"!==typeof h.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Mn(this)}else e.text().then(this.Ua.bind(this),this.ha.bind(this))},r.Sa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?qn(this):Un(this),3==this.readyState&&Mn(this)}},r.Ua=function(e){this.g&&(this.response=this.responseText=e,qn(this))},r.Ta=function(e){this.g&&(this.response=e,qn(this))},r.ha=function(){this.g&&qn(this)},r.setRequestHeader=function(e,t){this.v.append(e,t)},r.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(Ln.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var Bn=h.JSON.parse;function Vn(e){Re.call(this),this.headers=new zt,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=jn,this.K=this.L=!1}S(Vn,Re);var jn="",zn=/^https?$/i,$n=["POST","PUT"];function Hn(e){return K&&re()&&"number"===typeof e.timeout&&void 0!==e.ontimeout}function Kn(e){return"content-type"==e.toLowerCase()}function Wn(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,Gn(e),Yn(e)}function Gn(e){e.D||(e.D=!0,Oe(e,"complete"),Oe(e,"error"))}function Zn(e){if(e.h&&"undefined"!=typeof c&&(!e.C[1]||4!=Jn(e)||2!=e.ba()))if(e.v&&4==Jn(e))We(e.Fa,0,e);else if(Oe(e,"readystatechange"),4==Jn(e)){e.h=!1;try{const l=e.ba();e:switch(l){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var r;if(r=0===l){var i=String(e.H).match(Kt)[1]||null;if(!i&&h.self&&h.self.location){var o=h.self.location.protocol;i=o.substr(0,o.length-1)}r=!zn.test(i?i.toLowerCase():"")}n=r}if(n)Oe(e,"complete"),Oe(e,"success");else{e.m=6;try{var s=2<Jn(e)?e.g.statusText:""}catch(a){s=""}e.j=s+" ["+e.ba()+"]",Gn(e)}}finally{Yn(e)}}}function Yn(e,t){if(e.g){Qn(e);const r=e.g,i=e.C[0]?d:null;e.g=null,e.C=null,t||Oe(e,"ready");try{r.onreadystatechange=i}catch(n){}}}function Qn(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(h.clearTimeout(e.A),e.A=null)}function Jn(e){return e.g?e.g.readyState:0}function Xn(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case jn:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(t){return null}}function er(e){let t="";return q(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}function tr(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=er(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):en(e,t,n))}function nr(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function rr(e){this.za=0,this.l=[],this.h=new et,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=nr("failFast",!1,e),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=nr("baseRetryDelayMs",5e3,e),this.$a=nr("retryDelaySeedMs",1e4,e),this.Ya=nr("forwardChannelMaxRetries",2,e),this.ra=nr("forwardChannelRequestTimeoutMs",2e4,e),this.qa=e&&e.xmlHttpFactory||void 0,this.Ba=e&&e.Yb||!1,this.K=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.J="",this.i=new _n(e&&e.concurrentRequestLimit),this.Ca=new Rn,this.ja=e&&e.fastHandshake||!1,this.Ra=e&&e.Wb||!1,e&&e.Aa&&this.h.Aa(),e&&e.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&e&&e.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!e||!1!==e.Xb}function ir(e){if(sr(e),3==e.G){var t=e.V++,n=Zt(e.F);en(n,"SID",e.J),en(n,"RID",t),en(n,"TYPE","terminate"),hr(e,n),t=new xt(e,e.h,t,void 0),t.K=2,t.v=tn(Zt(n)),n=!1,h.navigator&&h.navigator.sendBeacon&&(n=h.navigator.sendBeacon(t.v.toString(),"")),!n&&h.Image&&((new Image).src=t.v,n=!0),n||(t.g=kr(t.l,null),t.g.ea(t.v)),t.F=Date.now(),Lt(t)}_r(e)}function or(e){e.g&&(mr(e),e.g.cancel(),e.g=null)}function sr(e){or(e),e.u&&(h.clearTimeout(e.u),e.u=null),vr(e),e.i.cancel(),e.m&&("number"===typeof e.m&&h.clearTimeout(e.m),e.m=null)}function ar(e,t){e.l.push(new wn(e.Za++,t)),3==e.G&&lr(e)}function lr(e){kn(e.i)||e.m||(e.m=!0,Be(e.Ha,e),e.C=0)}function ur(e,t){return!(In(e.i)>=e.i.j-(e.m?1:0))&&(e.m?(e.l=t.D.concat(e.l),!0):!(1==e.G||2==e.G||e.C>=(e.Xa?0:e.Ya))&&(e.m=pt(w(e.Ha,e,t),br(e,e.C)),e.C++,!0))}function cr(e,t){var n;n=t?t.m:e.V++;const r=Zt(e.F);en(r,"SID",e.J),en(r,"RID",n),en(r,"AID",e.U),hr(e,r),e.o&&e.s&&tr(r,e.o,e.s),n=new xt(e,e.h,n,e.C+1),null===e.o&&(n.H=e.s),t&&(e.l=t.D.concat(e.l)),t=dr(e,n,1e3),n.setTimeout(Math.round(.5*e.ra)+Math.round(.5*e.ra*Math.random())),En(e.i,n),Rt(n,r,t)}function hr(e,t){e.j&&jt({},(function(e,n){en(t,n,e)}))}function dr(e,t,n){n=Math.min(e.l.length,n);var r=e.j?w(e.j.Oa,e.j,e):null;e:{var i=e.l;let t=-1;for(;;){const e=["count="+n];-1==t?0<n?(t=i[0].h,e.push("ofs="+t)):t=0:e.push("ofs="+t);let o=!0;for(let s=0;s<n;s++){let n=i[s].h;const a=i[s].g;if(n-=t,0>n)t=Math.max(0,i[s].h-100),o=!1;else try{On(a,e,"req"+n+"_")}catch(Xr){r&&r(a)}}if(o){r=e.join("&");break e}}}return e=e.l.splice(0,n),t.D=e,r}function fr(e){e.g||e.u||(e.Y=1,Be(e.Ga,e),e.A=0)}function pr(e){return!(e.g||e.u||3<=e.A)&&(e.Y++,e.u=pt(w(e.Ga,e),br(e,e.A)),e.A++,!0)}function mr(e){null!=e.B&&(h.clearTimeout(e.B),e.B=null)}function gr(e){e.g=new xt(e,e.h,"rpc",e.Y),null===e.o&&(e.g.H=e.s),e.g.O=0;var t=Zt(e.oa);en(t,"RID","rpc"),en(t,"SID",e.J),en(t,"CI",e.N?"0":"1"),en(t,"AID",e.U),hr(e,t),en(t,"TYPE","xmlhttp"),e.o&&e.s&&tr(t,e.o,e.s),e.K&&e.g.setTimeout(e.K);var n=e.g;e=e.la,n.K=1,n.v=tn(Zt(t)),n.s=null,n.U=!0,Ot(n,e)}function vr(e){null!=e.v&&(h.clearTimeout(e.v),e.v=null)}function yr(e,t){var n=null;if(e.g==t){vr(e),mr(e),e.g=null;var r=2}else{if(!xn(e.i,t))return;n=t.D,Tn(e.i,t),r=1}if(e.I=t.N,0!=e.G)if(t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.F;var i=e.C;r=lt(),Oe(r,new ft(r,n,t,i)),lr(e)}else fr(e);else if(i=t.o,3==i||0==i&&0<e.I||!(1==r&&ur(e,t)||2==r&&pr(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:wr(e,5);break;case 4:wr(e,10);break;case 3:wr(e,6);break;default:wr(e,2)}}function br(e,t){let n=e.Pa+Math.floor(Math.random()*e.$a);return e.j||(n*=2),n*t}function wr(e,t){if(e.h.info("Error code "+t),2==t){var n=null;e.j&&(n=null);var r=w(e.jb,e);n||(n=new Gt("//www.google.com/images/cleardot.gif"),h.location&&"http"==h.location.protocol||Yt(n,"https"),tn(n)),Nn(n.toString(),r)}else dt(2);e.G=0,e.j&&e.j.va(t),_r(e),sr(e)}function _r(e){e.G=0,e.I=-1,e.j&&(0==Cn(e.i).length&&0==e.l.length||(e.i.i.length=0,R(e.l),e.l.length=0),e.j.ua())}function Sr(e,t,n){let r=nn(n);if(""!=r.i)t&&Qt(r,t+"."+r.i),Jt(r,r.m);else{const e=h.location;r=rn(e.protocol,t?t+"."+e.hostname:e.hostname,+e.port,n)}return e.aa&&q(e.aa,(function(e,t){en(r,t,e)})),t=e.D,n=e.sa,t&&n&&en(r,t,n),en(r,"VER",e.ma),hr(e,r),r}function kr(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return t=n&&e.Ba&&!e.qa?new Vn(new Dn({ib:!0})):new Vn(e.qa),t.L=e.H,t}function Ir(){}function xr(){if(K&&!(10<=Number(oe)))throw Error("Environmental error: no available transport.")}function Er(e,t){Re.call(this),this.g=new rr(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.P=e,(e=t&&t.httpHeadersOverwriteParam)&&!O(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!O(t)&&(this.g.D=t,e=this.h,null!==e&&t in e&&(e=this.h,t in e&&delete e[t])),this.j=new Ar(this)}function Tr(e){St.call(this);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function Cr(){kt.call(this),this.status=1}function Ar(e){this.g=e}r=Vn.prototype,r.ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():wt.g(),this.C=this.u?yt(this.u):yt(wt),this.g.onreadystatechange=w(this.Fa,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(o){return void Wn(this,o)}e=n||"";const i=new zt(this.headers);r&&jt(r,(function(e,t){i.set(t,e)})),r=C(i.T()),n=h.FormData&&e instanceof h.FormData,!(0<=E($n,t))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach((function(e,t){this.g.setRequestHeader(t,e)}),this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Qn(this),0<this.B&&((this.K=Hn(this.g))?(this.g.timeout=this.B,this.g.ontimeout=w(this.pa,this)):this.A=We(this.pa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(o){Wn(this,o)}},r.pa=function(){"undefined"!=typeof c&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Oe(this,"timeout"),this.abort(8))},r.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,Oe(this,"complete"),Oe(this,"abort"),Yn(this))},r.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Yn(this,!0)),Vn.Z.M.call(this)},r.Fa=function(){this.s||(this.F||this.v||this.l?Zn(this):this.cb())},r.cb=function(){Zn(this)},r.ba=function(){try{return 2<Jn(this)?this.g.status:-1}catch(e){return-1}},r.ga=function(){try{return this.g?this.g.responseText:""}catch(e){return""}},r.Qa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),Bn(t)}},r.Da=function(){return this.m},r.La=function(){return"string"===typeof this.j?this.j:String(this.j)},r=rr.prototype,r.ma=8,r.G=1,r.hb=function(e){try{this.h.info("Origin Trials invoked: "+e)}catch(t){}},r.Ha=function(e){if(this.m)if(this.m=null,1==this.G){if(!e){this.V=Math.floor(1e5*Math.random()),e=this.V++;const i=new xt(this,this.h,e,void 0);let o=this.s;if(this.P&&(o?(o=U(o),V(o,this.P)):o=this.P),null===this.o&&(i.H=o),this.ja)e:{for(var t=0,n=0;n<this.l.length;n++){var r=this.l[n];if(r="__data__"in r.g&&(r=r.g.__data__,"string"===typeof r)?r.length:void 0,void 0===r)break;if(t+=r,4096<t){t=n;break e}if(4096===t||n===this.l.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=dr(this,i,t),n=Zt(this.F),en(n,"RID",e),en(n,"CVER",22),this.D&&en(n,"X-HTTP-Session-Id",this.D),hr(this,n),this.o&&o&&tr(n,this.o,o),En(this.i,i),this.Ra&&en(n,"TYPE","init"),this.ja?(en(n,"$req",t),en(n,"SID","null"),i.$=!0,Rt(i,n,null)):Rt(i,n,t),this.G=2}}else 3==this.G&&(e?cr(this,e):0==this.l.length||kn(this.i)||cr(this))},r.Ga=function(){if(this.u=null,gr(this),this.$&&!(this.L||null==this.g||0>=this.O)){var e=2*this.O;this.h.info("BP detection timer enabled: "+e),this.B=pt(w(this.bb,this),e)}},r.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,dt(10),or(this),gr(this))},r.ab=function(){null!=this.v&&(this.v=null,or(this),pr(this),dt(19))},r.jb=function(e){e?(this.h.info("Successfully pinged google.com"),dt(2)):(this.h.info("Failed to ping google.com"),dt(1))},r=Ir.prototype,r.xa=function(){},r.wa=function(){},r.va=function(){},r.ua=function(){},r.Oa=function(){},xr.prototype.g=function(e,t){return new Er(e,t)},S(Er,Re),Er.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;e.Wa&&(e.h.info("Origin Trials enabled."),Be(w(e.hb,e,t))),dt(0),e.W=t,e.aa=n||{},e.N=e.X,e.F=Sr(e,null,e.W),lr(e)},Er.prototype.close=function(){ir(this.g)},Er.prototype.u=function(e){if("string"===typeof e){var t={};t.__data__=e,ar(this.g,t)}else this.v?(t={},t.__data__=Pe(e),ar(this.g,t)):ar(this.g,e)},Er.prototype.M=function(){this.g.j=null,delete this.j,ir(this.g),delete this.g,Er.Z.M.call(this)},S(Tr,St),S(Cr,kt),S(Ar,Ir),Ar.prototype.xa=function(){Oe(this.g,"a")},Ar.prototype.wa=function(e){Oe(this.g,new Tr(e))},Ar.prototype.va=function(e){Oe(this.g,new Cr(e))},Ar.prototype.ua=function(){Oe(this.g,"b")},xr.prototype.createWebChannel=xr.prototype.g,Er.prototype.send=Er.prototype.u,Er.prototype.open=Er.prototype.m,Er.prototype.close=Er.prototype.close,mt.NO_ERROR=0,mt.TIMEOUT=8,mt.HTTP_ERROR=6,gt.COMPLETE="complete",bt.EventType=_t,_t.OPEN="a",_t.CLOSE="b",_t.ERROR="c",_t.MESSAGE="d",Re.prototype.listen=Re.prototype.N,Vn.prototype.listenOnce=Vn.prototype.O,Vn.prototype.getLastError=Vn.prototype.La,Vn.prototype.getLastErrorCode=Vn.prototype.Da,Vn.prototype.getStatus=Vn.prototype.ba,Vn.prototype.getResponseJson=Vn.prototype.Qa,Vn.prototype.getResponseText=Vn.prototype.ga,Vn.prototype.send=Vn.prototype.ea;var Rr=u.createWebChannelTransport=function(){return new xr},Or=u.getStatEventTarget=function(){return lt()},Nr=u.ErrorCode=mt,Pr=u.EventType=gt,Dr=u.Event=st,Lr=u.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},Fr=u.FetchXmlHttpFactory=Dn,Mr=u.WebChannel=bt,qr=u.XhrIo=Vn;const Ur="@firebase/firestore";
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Br{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Br.UNAUTHENTICATED=new Br(null),Br.GOOGLE_CREDENTIALS=new Br("google-credentials-uid"),Br.FIRST_PARTY=new Br("first-party-uid"),Br.MOCK_USER=new Br("mock-user");
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
let Vr="9.9.2";
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jr=new s.Yd("@firebase/firestore");function zr(){return jr.logLevel}function $r(e){jr.setLogLevel(e)}function Hr(e,...t){if(jr.logLevel<=s["in"].DEBUG){const n=t.map(Gr);jr.debug(`Firestore (${Vr}): ${e}`,...n)}}function Kr(e,...t){if(jr.logLevel<=s["in"].ERROR){const n=t.map(Gr);jr.error(`Firestore (${Vr}): ${e}`,...n)}}function Wr(e,...t){if(jr.logLevel<=s["in"].WARN){const n=t.map(Gr);jr.warn(`Firestore (${Vr}): ${e}`,...n)}}function Gr(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var t}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zr(e="Unexpected state"){const t=`FIRESTORE (${Vr}) INTERNAL ASSERTION FAILED: `+e;throw Kr(t),new Error(t)}function Yr(e,t){e||Zr()}function Qr(e,t){e||Zr()}function Jr(e,t){return e}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xr={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ei extends a.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ti{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ni{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class ri{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(Br.UNAUTHENTICATED)))}shutdown(){}}class ii{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class oi{constructor(e){this.t=e,this.currentUser=Br.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){let n=this.i;const r=e=>this.i!==n?(n=this.i,t(e)):Promise.resolve();let i=new ti;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new ti,e.enqueueRetryable((()=>r(this.currentUser)))};const o=()=>{const t=i;e.enqueueRetryable((async()=>{await t.promise,await r(this.currentUser)}))},s=e=>{Hr("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit((e=>s(e))),setTimeout((()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?s(e):(Hr("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new ti)}}),0),o()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((t=>this.i!==e?(Hr("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(Yr("string"==typeof t.accessToken),new ni(t.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Yr(null===e||"string"==typeof e),new Br(e)}}class si{constructor(e,t,n){this.type="FirstParty",this.user=Br.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",t);const r=e.auth.getAuthHeaderValueForFirstParty([]);r&&this.headers.set("Authorization",r),n&&this.headers.set("X-Goog-Iam-Authorization-Token",n)}}class ai{constructor(e,t,n){this.h=e,this.l=t,this.m=n}getToken(){return Promise.resolve(new si(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable((()=>t(Br.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class li{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class ui{constructor(e){this.g=e,this.forceRefresh=!1,this.appCheck=null,this.p=null}start(e,t){const n=e=>{null!=e.error&&Hr("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${e.error.message}`);const n=e.token!==this.p;return this.p=e.token,Hr("FirebaseAppCheckTokenProvider",`Received ${n?"new":"existing"} token.`),n?t(e.token):Promise.resolve()};this.o=t=>{e.enqueueRetryable((()=>n(t)))};const r=e=>{Hr("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.appCheck.addTokenListener(this.o)};this.g.onInit((e=>r(e))),setTimeout((()=>{if(!this.appCheck){const e=this.g.getImmediate({optional:!0});e?r(e):Hr("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((e=>e?(Yr("string"==typeof e.token),this.p=e.token,new li(e.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function ci(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hi{static I(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let n="";for(;n.length<20;){const r=ci(40);for(let i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%e.length))}return n}}function di(e,t){return e<t?-1:e>t?1:0}function fi(e,t,n){return e.length===t.length&&e.every(((e,r)=>n(e,t[r])))}function pi(e){return e+"\0"}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mi{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new ei(Xr.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new ei(Xr.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new ei(Xr.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ei(Xr.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return mi.fromMillis(Date.now())}static fromDate(e){return mi.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor(1e6*(e-1e3*t));return new mi(t,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?di(this.nanoseconds,e.nanoseconds):di(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gi{constructor(e){this.timestamp=e}static fromTimestamp(e){return new gi(e)}static min(){return new gi(new mi(0,0))}static max(){return new gi(new mi(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vi{constructor(e,t,n){void 0===t?t=0:t>e.length&&Zr(),void 0===n?n=e.length-t:n>e.length-t&&Zr(),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===vi.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof vi?e.forEach((e=>{t.push(e)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=e.get(r),i=t.get(r);if(n<i)return-1;if(n>i)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class yi extends vi{construct(e,t,n){return new yi(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const n of e){if(n.indexOf("//")>=0)throw new ei(Xr.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);t.push(...n.split("/").filter((e=>e.length>0)))}return new yi(t)}static emptyPath(){return new yi([])}}const bi=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class wi extends vi{construct(e,t,n){return new wi(e,t,n)}static isValidIdentifier(e){return bi.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),wi.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new wi(["__name__"])}static fromServerFormat(e){const t=[];let n="",r=0;const i=()=>{if(0===n.length)throw new ei(Xr.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(n),n=""};let o=!1;for(;r<e.length;){const t=e[r];if("\\"===t){if(r+1===e.length)throw new ei(Xr.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[r+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new ei(Xr.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,r+=2}else"`"===t?(o=!o,r++):"."!==t||o?(n+=t,r++):(i(),r++)}if(i(),o)throw new ei(Xr.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new wi(t)}static emptyPath(){return new wi([])}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _i{constructor(e){this.path=e}static fromPath(e){return new _i(yi.fromString(e))}static fromName(e){return new _i(yi.fromString(e).popFirst(5))}static empty(){return new _i(yi.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===yi.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return yi.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new _i(new yi(e.slice()))}}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Si{constructor(e,t,n,r){this.indexId=e,this.collectionGroup=t,this.fields=n,this.indexState=r}}function ki(e){return e.fields.find((e=>2===e.kind))}function Ii(e){return e.fields.filter((e=>2!==e.kind))}Si.UNKNOWN_ID=-1;class xi{constructor(e,t){this.fieldPath=e,this.kind=t}}class Ei{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new Ei(0,Ai.min())}}function Ti(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=gi.fromTimestamp(1e9===r?new mi(n+1,0):new mi(n,r));return new Ai(i,_i.empty(),t)}function Ci(e){return new Ai(e.readTime,e.key,-1)}class Ai{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new Ai(gi.min(),_i.empty(),-1)}static max(){return new Ai(gi.max(),_i.empty(),-1)}}function Ri(e,t){let n=e.readTime.compareTo(t.readTime);return 0!==n?n:(n=_i.comparator(e.documentKey,t.documentKey),0!==n?n:di(e.largestBatchId,t.largestBatchId))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oi="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Ni{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Pi(e){if(e.code!==Xr.FAILED_PRECONDITION||e.message!==Oi)throw e;Hr("LocalStore","Unexpectedly lost primary lease")}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Di{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)}),(e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Zr(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Di(((n,r)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(n,r)},this.catchCallback=e=>{this.wrapFailure(t,e).next(n,r)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof Di?t:Di.resolve(t)}catch(e){return Di.reject(e)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):Di.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):Di.reject(t)}static resolve(e){return new Di(((t,n)=>{t(e)}))}static reject(e){return new Di(((t,n)=>{n(e)}))}static waitFor(e){return new Di(((t,n)=>{let r=0,i=0,o=!1;e.forEach((e=>{++r,e.next((()=>{++i,o&&i===r&&t()}),(e=>n(e)))})),o=!0,i===r&&t()}))}static or(e){let t=Di.resolve(!1);for(const n of e)t=t.next((e=>e?Di.resolve(e):n()));return t}static forEach(e,t){const n=[];return e.forEach(((e,r)=>{n.push(t.call(this,e,r))})),this.waitFor(n)}static mapArray(e,t){return new Di(((n,r)=>{const i=e.length,o=new Array(i);let s=0;for(let a=0;a<i;a++){const l=a;t(e[l]).next((e=>{o[l]=e,++s,s===i&&n(o)}),(e=>r(e)))}}))}static doWhile(e,t){return new Di(((n,r)=>{const i=()=>{!0===e()?t().next((()=>{i()}),r):n()};i()}))}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Li{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.T=new ti,this.transaction.oncomplete=()=>{this.T.resolve()},this.transaction.onabort=()=>{t.error?this.T.reject(new qi(e,t.error)):this.T.resolve()},this.transaction.onerror=t=>{const n=zi(t.target.error);this.T.reject(new qi(e,n))}}static open(e,t,n,r){try{return new Li(t,e.transaction(r,n))}catch(e){throw new qi(t,e)}}get A(){return this.T.promise}abort(e){e&&this.T.reject(e),this.aborted||(Hr("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}R(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new Bi(t)}}class Fi{constructor(e,t,n){this.name=e,this.version=t,this.P=n,12.2===Fi.v((0,a.z$)())&&Kr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Hr("SimpleDb","Removing database:",e),Vi(window.indexedDB.deleteDatabase(e)).toPromise()}static V(){if(!(0,a.hl)())return!1;if(Fi.S())return!0;const e=(0,a.z$)(),t=Fi.v(e),n=0<t&&t<10,r=Fi.D(e),i=0<r&&r<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||n||i)}static S(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.C)}static N(e,t){return e.store(t)}static v(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}static D(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}async k(e){return this.db||(Hr("SimpleDb","Opening database:",this.name),this.db=await new Promise(((t,n)=>{const r=indexedDB.open(this.name,this.version);r.onsuccess=e=>{const n=e.target.result;t(n)},r.onblocked=()=>{n(new qi(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},r.onerror=t=>{const r=t.target.error;"VersionError"===r.name?n(new ei(Xr.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):"InvalidStateError"===r.name?n(new ei(Xr.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+r)):n(new qi(e,r))},r.onupgradeneeded=e=>{Hr("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',e.oldVersion);const t=e.target.result;this.P.M(t,r.transaction,e.oldVersion,this.version).next((()=>{Hr("SimpleDb","Database upgrade to version "+this.version+" complete")}))}}))),this.O&&(this.db.onversionchange=e=>this.O(e)),this.db}F(e){this.O=e,this.db&&(this.db.onversionchange=t=>e(t))}async runTransaction(e,t,n,r){const i="readonly"===t;let o=0;for(;;){++o;try{this.db=await this.k(e);const t=Li.open(this.db,e,i?"readonly":"readwrite",n),o=r(t).next((e=>(t.R(),e))).catch((e=>(t.abort(e),Di.reject(e)))).toPromise();return o.catch((()=>{})),await t.A,o}catch(e){const t=e,n="FirebaseError"!==t.name&&o<3;if(Hr("SimpleDb","Transaction failed with error:",t.message,"Retrying:",n),this.close(),!n)return Promise.reject(t)}}}close(){this.db&&this.db.close(),this.db=void 0}}class Mi{constructor(e){this.$=e,this.B=!1,this.L=null}get isDone(){return this.B}get U(){return this.L}set cursor(e){this.$=e}done(){this.B=!0}q(e){this.L=e}delete(){return Vi(this.$.delete())}}class qi extends ei{constructor(e,t){super(Xr.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function Ui(e){return"IndexedDbTransactionError"===e.name}class Bi{constructor(e){this.store=e}put(e,t){let n;return void 0!==t?(Hr("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(Hr("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),Vi(n)}add(e){return Hr("SimpleDb","ADD",this.store.name,e,e),Vi(this.store.add(e))}get(e){return Vi(this.store.get(e)).next((t=>(void 0===t&&(t=null),Hr("SimpleDb","GET",this.store.name,e,t),t)))}delete(e){return Hr("SimpleDb","DELETE",this.store.name,e),Vi(this.store.delete(e))}count(){return Hr("SimpleDb","COUNT",this.store.name),Vi(this.store.count())}K(e,t){const n=this.options(e,t);if(n.index||"function"!=typeof this.store.getAll){const e=this.cursor(n),t=[];return this.G(e,((e,n)=>{t.push(n)})).next((()=>t))}{const e=this.store.getAll(n.range);return new Di(((t,n)=>{e.onerror=e=>{n(e.target.error)},e.onsuccess=e=>{t(e.target.result)}}))}}j(e,t){const n=this.store.getAll(e,null===t?void 0:t);return new Di(((e,t)=>{n.onerror=e=>{t(e.target.error)},n.onsuccess=t=>{e(t.target.result)}}))}W(e,t){Hr("SimpleDb","DELETE ALL",this.store.name);const n=this.options(e,t);n.H=!1;const r=this.cursor(n);return this.G(r,((e,t,n)=>n.delete()))}J(e,t){let n;t?n=e:(n={},t=e);const r=this.cursor(n);return this.G(r,t)}Y(e){const t=this.cursor({});return new Di(((n,r)=>{t.onerror=e=>{const t=zi(e.target.error);r(t)},t.onsuccess=t=>{const r=t.target.result;r?e(r.primaryKey,r.value).next((e=>{e?r.continue():n()})):n()}}))}G(e,t){const n=[];return new Di(((r,i)=>{e.onerror=e=>{i(e.target.error)},e.onsuccess=e=>{const i=e.target.result;if(!i)return void r();const o=new Mi(i),s=t(i.primaryKey,i.value,o);if(s instanceof Di){const e=s.catch((e=>(o.done(),Di.reject(e))));n.push(e)}o.isDone?r():null===o.U?i.continue():i.continue(o.U)}})).next((()=>Di.waitFor(n)))}options(e,t){let n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const n=this.store.index(e.index);return e.H?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function Vi(e){return new Di(((t,n)=>{e.onsuccess=e=>{const n=e.target.result;t(n)},e.onerror=e=>{const t=zi(e.target.error);n(t)}}))}let ji=!1;function zi(e){const t=Fi.v((0,a.z$)());if(t>=12.2&&t<13){const t="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(t)>=0){const e=new ei("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return ji||(ji=!0,setTimeout((()=>{throw e}),0)),e}}return e}class $i{constructor(e,t){this.asyncQueue=e,this.X=t,this.task=null}start(){this.Z(15)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}Z(e){Hr("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(async()=>{this.task=null;try{Hr("IndexBackiller",`Documents written: ${await this.X.tt()}`)}catch(e){Ui(e)?Hr("IndexBackiller","Ignoring IndexedDB error during index backfill: ",e):await Pi(e)}await this.Z(1)}))}}class Hi{constructor(e,t){this.localStore=e,this.persistence=t}async tt(e=50){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",(t=>this.et(t,e)))}et(e,t){const n=new Set;let r=t,i=!0;return Di.doWhile((()=>!0===i&&r>0),(()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next((t=>{if(null!==t&&!n.has(t))return Hr("IndexBackiller",`Processing collection: ${t}`),this.nt(e,t,r).next((e=>{r-=e,n.add(t)}));i=!1})))).next((()=>t-r))}nt(e,t,n){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next((r=>this.localStore.localDocuments.getNextDocuments(e,t,r,n).next((n=>{const i=n.changes;return this.localStore.indexManager.updateIndexEntries(e,i).next((()=>this.st(r,n))).next((n=>(Hr("IndexBackiller",`Updating offset: ${n}`),this.localStore.indexManager.updateCollectionGroup(e,t,n)))).next((()=>i.size))}))))}st(e,t){let n=e;return t.changes.forEach(((e,t)=>{const r=Ci(t);Ri(r,n)>0&&(n=r)})),new Ai(n.readTime,n.documentKey,Math.max(t.batchId,e.largestBatchId))}}
/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ki{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.it(e),this.rt=e=>t.writeSequenceNumber(e))}it(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.rt&&this.rt(e),e}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wi(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Gi(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function Zi(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ki.ot=-1;class Yi{constructor(e,t){this.comparator=e,this.root=t||Ji.EMPTY}insert(e,t){return new Yi(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Ji.BLACK,null,null))}remove(e){return new Yi(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ji.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,n)=>(e(t,n),!1)))}toString(){const e=[];return this.inorderTraversal(((t,n)=>(e.push(`${t}:${n}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Qi(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Qi(this.root,e,this.comparator,!1)}getReverseIterator(){return new Qi(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Qi(this.root,e,this.comparator,!0)}}class Qi{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=t?n(e.key,t):1,t&&r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ji{constructor(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:Ji.RED,this.left=null!=r?r:Ji.EMPTY,this.right=null!=i?i:Ji.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,r,i){return new Ji(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return Ji.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return Ji.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ji.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ji.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Zr();if(this.right.isRed())throw Zr();const e=this.left.check();if(e!==this.right.check())throw Zr();return e+(this.isRed()?0:1)}}Ji.EMPTY=null,Ji.RED=!0,Ji.BLACK=!1,Ji.EMPTY=new class{constructor(){this.size=0}get key(){throw Zr()}get value(){throw Zr()}get color(){throw Zr()}get left(){throw Zr()}get right(){throw Zr()}copy(e,t,n,r,i){return this}insert(e,t,n){return new Ji(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Xi{constructor(e){this.comparator=e,this.data=new Yi(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,n)=>(e(t),!1)))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new eo(this.data.getIterator())}getIteratorFrom(e){return new eo(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((e=>{t=t.add(e)})),t}isEqual(e){if(!(e instanceof Xi))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(0!==this.comparator(e,r))return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new Xi(this.comparator);return t.data=e,t}}class eo{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function to(e){return e.hasNext()?e.getNext():void 0}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class no{constructor(e){this.fields=e,e.sort(wi.comparator)}static empty(){return new no([])}unionWith(e){let t=new Xi(wi.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new no(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return fi(this.fields,e.fields,((e,t)=>e.isEqual(t)))}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ro(){return"undefined"!=typeof atob}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class io{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new io(t)}static fromUint8Array(e){const t=function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new io(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return di(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}io.EMPTY_BYTE_STRING=new io("");const oo=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function so(e){if(Yr(!!e),"string"==typeof e){let t=0;const n=oo.exec(e);if(Yr(!!n),n[1]){let e=n[1];e=(e+"000000000").substr(0,9),t=Number(e)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:ao(e.seconds),nanos:ao(e.nanos)}}function ao(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function lo(e){return"string"==typeof e?io.fromBase64String(e):io.fromUint8Array(e)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uo(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function co(e){const t=e.mapValue.fields.__previous_value__;return uo(t)?co(t):t}function ho(e){const t=so(e.mapValue.fields.__local_write_time__.timestampValue);return new mi(t.seconds,t.nanos)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fo{constructor(e,t,n,r,i,o,s,a){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=s,this.useFetchStreams=a}}class po{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new po("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof po&&e.projectId===this.projectId&&e.database===this.database}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mo(e){return null==e}function go(e){return 0===e&&1/e==-1/0}function vo(e){return"number"==typeof e&&Number.isInteger(e)&&!go(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yo={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},bo={nullValue:"NULL_VALUE"};function wo(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?uo(e)?4:Do(e)?9007199254740991:10:Zr()}function _o(e,t){if(e===t)return!0;const n=wo(e);if(n!==wo(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return ho(e).isEqual(ho(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const n=so(e.timestampValue),r=so(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return lo(e.bytesValue).isEqual(lo(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return ao(e.geoPointValue.latitude)===ao(t.geoPointValue.latitude)&&ao(e.geoPointValue.longitude)===ao(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return ao(e.integerValue)===ao(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const n=ao(e.doubleValue),r=ao(t.doubleValue);return n===r?go(n)===go(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return fi(e.arrayValue.values||[],t.arrayValue.values||[],_o);case 10:return function(e,t){const n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(Wi(n)!==Wi(r))return!1;for(const i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!_o(n[i],r[i])))return!1;return!0}(e,t);default:return Zr()}}function So(e,t){return void 0!==(e.values||[]).find((e=>_o(e,t)))}function ko(e,t){if(e===t)return 0;const n=wo(e),r=wo(t);if(n!==r)return di(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return di(e.booleanValue,t.booleanValue);case 2:return function(e,t){const n=ao(e.integerValue||e.doubleValue),r=ao(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return Io(e.timestampValue,t.timestampValue);case 4:return Io(ho(e),ho(t));case 5:return di(e.stringValue,t.stringValue);case 6:return function(e,t){const n=lo(e),r=lo(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){const n=e.split("/"),r=t.split("/");for(let i=0;i<n.length&&i<r.length;i++){const e=di(n[i],r[i]);if(0!==e)return e}return di(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){const n=di(ao(e.latitude),ao(t.latitude));return 0!==n?n:di(ao(e.longitude),ao(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){const n=e.values||[],r=t.values||[];for(let i=0;i<n.length&&i<r.length;++i){const e=ko(n[i],r[i]);if(e)return e}return di(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){if(e===yo.mapValue&&t===yo.mapValue)return 0;if(e===yo.mapValue)return 1;if(t===yo.mapValue)return-1;const n=e.fields||{},r=Object.keys(n),i=t.fields||{},o=Object.keys(i);r.sort(),o.sort();for(let s=0;s<r.length&&s<o.length;++s){const e=di(r[s],o[s]);if(0!==e)return e;const t=ko(n[r[s]],i[o[s]]);if(0!==t)return t}return di(r.length,o.length)}(e.mapValue,t.mapValue);default:throw Zr()}}function Io(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return di(e,t);const n=so(e),r=so(t),i=di(n.seconds,r.seconds);return 0!==i?i:di(n.nanos,r.nanos)}function xo(e){return Eo(e)}function Eo(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){const t=so(e);return`time(${t.seconds},${t.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?lo(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,_i.fromName(n).toString()):"geoPointValue"in e?`geo(${(t=e.geoPointValue).latitude},${t.longitude})`:"arrayValue"in e?function(e){let t="[",n=!0;for(const r of e.values||[])n?n=!1:t+=",",t+=Eo(r);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){const t=Object.keys(e.fields||{}).sort();let n="{",r=!0;for(const i of t)r?r=!1:n+=",",n+=`${i}:${Eo(e.fields[i])}`;return n+"}"}(e.mapValue):Zr();var t,n}function To(e,t){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${t.path.canonicalString()}`}}function Co(e){return!!e&&"integerValue"in e}function Ao(e){return!!e&&"arrayValue"in e}function Ro(e){return!!e&&"nullValue"in e}function Oo(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function No(e){return!!e&&"mapValue"in e}function Po(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return Gi(e.mapValue.fields,((e,n)=>t.mapValue.fields[e]=Po(n))),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Po(e.arrayValue.values[n]);return t}return Object.assign({},e)}function Do(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}function Lo(e){return"nullValue"in e?bo:"booleanValue"in e?{booleanValue:!1}:"integerValue"in e||"doubleValue"in e?{doubleValue:NaN}:"timestampValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in e?{stringValue:""}:"bytesValue"in e?{bytesValue:""}:"referenceValue"in e?To(po.empty(),_i.empty()):"geoPointValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in e?{arrayValue:{}}:"mapValue"in e?{mapValue:{}}:Zr()}function Fo(e){return"nullValue"in e?{booleanValue:!1}:"booleanValue"in e?{doubleValue:NaN}:"integerValue"in e||"doubleValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in e?{stringValue:""}:"stringValue"in e?{bytesValue:""}:"bytesValue"in e?To(po.empty(),_i.empty()):"referenceValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in e?{arrayValue:{}}:"arrayValue"in e?{mapValue:{}}:"mapValue"in e?yo:Zr()}function Mo(e,t){const n=ko(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?-1:!e.inclusive&&t.inclusive?1:0}function qo(e,t){const n=ko(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?1:!e.inclusive&&t.inclusive?-1:0}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uo{constructor(e){this.value=e}static empty(){return new Uo({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!No(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Po(t)}setAll(e){let t=wi.emptyPath(),n={},r=[];e.forEach(((e,i)=>{if(!t.isImmediateParentOf(i)){const e=this.getFieldsMap(t);this.applyChanges(e,n,r),n={},r=[],t=i.popLast()}e?n[i.lastSegment()]=Po(e):r.push(i.lastSegment())}));const i=this.getFieldsMap(t);this.applyChanges(i,n,r)}delete(e){const t=this.field(e.popLast());No(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return _o(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];No(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){Gi(t,((t,n)=>e[t]=n));for(const r of n)delete e[r]}clone(){return new Uo(Po(this.value))}}function Bo(e){const t=[];return Gi(e.fields,((e,n)=>{const r=new wi([e]);if(No(n)){const e=Bo(n.mapValue).fields;if(0===e.length)t.push(r);else for(const n of e)t.push(r.child(n))}else t.push(r)})),new no(t)
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}class Vo{constructor(e,t,n,r,i,o){this.key=e,this.documentType=t,this.version=n,this.readTime=r,this.data=i,this.documentState=o}static newInvalidDocument(e){return new Vo(e,0,gi.min(),gi.min(),Uo.empty(),0)}static newFoundDocument(e,t,n){return new Vo(e,1,t,gi.min(),n,0)}static newNoDocument(e,t){return new Vo(e,2,t,gi.min(),Uo.empty(),0)}static newUnknownDocument(e,t){return new Vo(e,3,t,gi.min(),Uo.empty(),2)}convertToFoundDocument(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Uo.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Uo.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=gi.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Vo&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Vo(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jo{constructor(e,t=null,n=[],r=[],i=null,o=null,s=null){this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=s,this.ut=null}}function zo(e,t=null,n=[],r=[],i=null,o=null,s=null){return new jo(e,t,n,r,i,o,s)}function $o(e){const t=Jr(e);if(null===t.ut){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map((e=>{return(t=e).field.canonicalString()+t.op.toString()+xo(t.value);var t})).join(","),e+="|ob:",e+=t.orderBy.map((e=>function(e){return e.field.canonicalString()+e.dir}(e))).join(","),mo(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map((e=>xo(e))).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map((e=>xo(e))).join(",")),t.ut=e}return t.ut}function Ho(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map((e=>{return`${(t=e).field.canonicalString()} ${t.op} ${xo(t.value)}`;var t})).join(", ")}]`),mo(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map((e=>function(e){return`${e.field.canonicalString()} (${e.dir})`}(e))).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((e=>xo(e))).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((e=>xo(e))).join(",")),`Target(${t})`}function Ko(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(let i=0;i<e.orderBy.length;i++)if(!ls(e.orderBy[i],t.orderBy[i]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let i=0;i<e.filters.length;i++)if(n=e.filters[i],r=t.filters[i],n.op!==r.op||!n.field.isEqual(r.field)||!_o(n.value,r.value))return!1;var n,r;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!cs(e.startAt,t.startAt)&&cs(e.endAt,t.endAt)}function Wo(e){return _i.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}function Go(e,t){return e.filters.filter((e=>e instanceof Qo&&e.field.isEqual(t)))}function Zo(e,t,n){let r=bo,i=!0;for(const o of Go(e,t)){let e=bo,t=!0;switch(o.op){case"<":case"<=":e=Lo(o.value);break;case"==":case"in":case">=":e=o.value;break;case">":e=o.value,t=!1;break;case"!=":case"not-in":e=bo}Mo({value:r,inclusive:i},{value:e,inclusive:t})<0&&(r=e,i=t)}if(null!==n)for(let o=0;o<e.orderBy.length;++o)if(e.orderBy[o].field.isEqual(t)){const e=n.position[o];Mo({value:r,inclusive:i},{value:e,inclusive:n.inclusive})<0&&(r=e,i=n.inclusive);break}return{value:r,inclusive:i}}function Yo(e,t,n){let r=yo,i=!0;for(const o of Go(e,t)){let e=yo,t=!0;switch(o.op){case">=":case">":e=Fo(o.value),t=!1;break;case"==":case"in":case"<=":e=o.value;break;case"<":e=o.value,t=!1;break;case"!=":case"not-in":e=yo}qo({value:r,inclusive:i},{value:e,inclusive:t})>0&&(r=e,i=t)}if(null!==n)for(let o=0;o<e.orderBy.length;++o)if(e.orderBy[o].field.isEqual(t)){const e=n.position[o];qo({value:r,inclusive:i},{value:e,inclusive:n.inclusive})>0&&(r=e,i=n.inclusive);break}return{value:r,inclusive:i}}class Qo extends class{}{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.ct(e,t,n):new Jo(e,t,n):"array-contains"===t?new ns(e,n):"in"===t?new rs(e,n):"not-in"===t?new is(e,n):"array-contains-any"===t?new os(e,n):new Qo(e,t,n)}static ct(e,t,n){return"in"===t?new Xo(e,n):new es(e,n)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.at(ko(t,this.value)):null!==t&&wo(this.value)===wo(t)&&this.at(ko(t,this.value))}at(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Zr()}}ht(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class Jo extends Qo{constructor(e,t,n){super(e,t,n),this.key=_i.fromName(n.referenceValue)}matches(e){const t=_i.comparator(e.key,this.key);return this.at(t)}}class Xo extends Qo{constructor(e,t){super(e,"in",t),this.keys=ts("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class es extends Qo{constructor(e,t){super(e,"not-in",t),this.keys=ts("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function ts(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((e=>_i.fromName(e.referenceValue)))}class ns extends Qo{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Ao(t)&&So(t.arrayValue,this.value)}}class rs extends Qo{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&So(this.value.arrayValue,t)}}class is extends Qo{constructor(e,t){super(e,"not-in",t)}matches(e){if(So(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!So(this.value.arrayValue,t)}}class os extends Qo{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Ao(t)||!t.arrayValue.values)&&t.arrayValue.values.some((e=>So(this.value.arrayValue,e)))}}class ss{constructor(e,t){this.position=e,this.inclusive=t}}class as{constructor(e,t="asc"){this.field=e,this.dir=t}}function ls(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}function us(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const o=t[i],s=e.position[i];if(r=o.field.isKeyField()?_i.comparator(_i.fromName(s.referenceValue),n.key):ko(s,n.data.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return r}function cs(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!_o(e.position[n],t.position[n]))return!1;return!0}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hs{constructor(e,t=null,n=[],r=[],i=null,o="F",s=null,a=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=o,this.startAt=s,this.endAt=a,this.lt=null,this.ft=null,this.startAt,this.endAt}}function ds(e,t,n,r,i,o,s,a){return new hs(e,t,n,r,i,o,s,a)}function fs(e){return new hs(e)}function ps(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function ms(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function gs(e){for(const t of e.filters)if(t.ht())return t.field;return null}function vs(e){return null!==e.collectionGroup}function ys(e){const t=Jr(e);if(null===t.lt){t.lt=[];const e=gs(t),n=ms(t);if(null!==e&&null===n)e.isKeyField()||t.lt.push(new as(e)),t.lt.push(new as(wi.keyField(),"asc"));else{let e=!1;for(const n of t.explicitOrderBy)t.lt.push(n),n.field.isKeyField()&&(e=!0);if(!e){const e=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.lt.push(new as(wi.keyField(),e))}}}return t.lt}function bs(e){const t=Jr(e);if(!t.ft)if("F"===t.limitType)t.ft=zo(t.path,t.collectionGroup,ys(t),t.filters,t.limit,t.startAt,t.endAt);else{const e=[];for(const i of ys(t)){const t="desc"===i.dir?"asc":"desc";e.push(new as(i.field,t))}const n=t.endAt?new ss(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new ss(t.startAt.position,t.startAt.inclusive):null;t.ft=zo(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}return t.ft}function ws(e,t,n){return new hs(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function _s(e,t){return Ko(bs(e),bs(t))&&e.limitType===t.limitType}function Ss(e){return`${$o(bs(e))}|lt:${e.limitType}`}function ks(e){return`Query(target=${Ho(bs(e))}; limitType=${e.limitType})`}function Is(e,t){return t.isFoundDocument()&&function(e,t){const n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):_i.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(const n of e.explicitOrderBy)if(!n.field.isKeyField()&&null===t.data.field(n.field))return!1;return!0}(e,t)&&function(e,t){for(const n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){const r=us(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,ys(e),t))&&!(e.endAt&&!function(e,t,n){const r=us(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,ys(e),t))}(e,t)}function xs(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function Es(e){return(t,n)=>{let r=!1;for(const i of ys(e)){const e=Ts(i,t,n);if(0!==e)return e;r=r||i.field.isKeyField()}return 0}}function Ts(e,t,n){const r=e.field.isKeyField()?_i.comparator(t.key,n.key):function(e,t,n){const r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?ko(r,i):Zr()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return Zr()}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cs(e,t){if(e.dt){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:go(t)?"-0":t}}function As(e){return{integerValue:""+e}}function Rs(e,t){return vo(t)?As(t):Cs(e,t)}
/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Os{constructor(){this._=void 0}}function Ns(e,t,n){return e instanceof Ls?function(e,t){const n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof Fs?Ms(e,t):e instanceof qs?Us(e,t):function(e,t){const n=Ds(e,t),r=Vs(n)+Vs(e._t);return Co(n)&&Co(e._t)?As(r):Cs(e.wt,r)}(e,t)}function Ps(e,t,n){return e instanceof Fs?Ms(e,t):e instanceof qs?Us(e,t):n}function Ds(e,t){return e instanceof Bs?Co(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}class Ls extends Os{}class Fs extends Os{constructor(e){super(),this.elements=e}}function Ms(e,t){const n=js(t);for(const r of e.elements)n.some((e=>_o(e,r)))||n.push(r);return{arrayValue:{values:n}}}class qs extends Os{constructor(e){super(),this.elements=e}}function Us(e,t){let n=js(t);for(const r of e.elements)n=n.filter((e=>!_o(e,r)));return{arrayValue:{values:n}}}class Bs extends Os{constructor(e,t){super(),this.wt=e,this._t=t}}function Vs(e){return ao(e.integerValue||e.doubleValue)}function js(e){return Ao(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zs{constructor(e,t){this.field=e,this.transform=t}}function $s(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof Fs&&t instanceof Fs||e instanceof qs&&t instanceof qs?fi(e.elements,t.elements,_o):e instanceof Bs&&t instanceof Bs?_o(e._t,t._t):e instanceof Ls&&t instanceof Ls}(e.transform,t.transform)}class Hs{constructor(e,t){this.version=e,this.transformResults=t}}class Ks{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Ks}static exists(e){return new Ks(void 0,e)}static updateTime(e){return new Ks(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Ws(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class Gs{}function Zs(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new oa(e.key,Ks.none()):new ea(e.key,e.data,Ks.none());{const n=e.data,r=Uo.empty();let i=new Xi(wi.comparator);for(let e of t.fields)if(!i.has(e)){let t=n.field(e);null===t&&e.length>1&&(e=e.popLast(),t=n.field(e)),null===t?r.delete(e):r.set(e,t),i=i.add(e)}return new ta(e.key,r,new no(i.toArray()),Ks.none())}}function Ys(e,t,n){e instanceof ea?function(e,t,n){const r=e.value.clone(),i=ra(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof ta?function(e,t,n){if(!Ws(e.precondition,t))return void t.convertToUnknownDocument(n.version);const r=ra(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(na(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function Qs(e,t,n,r){return e instanceof ea?function(e,t,n,r){if(!Ws(e.precondition,t))return n;const i=e.value.clone(),o=ia(e.fieldTransforms,r,t);return i.setAll(o),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof ta?function(e,t,n,r){if(!Ws(e.precondition,t))return n;const i=ia(e.fieldTransforms,r,t),o=t.data;return o.setAll(na(e)),o.setAll(i),t.convertToFoundDocument(t.version,o).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((e=>e.field)))}(e,t,n,r):function(e,t,n){return Ws(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function Js(e,t){let n=null;for(const r of e.fieldTransforms){const e=t.data.field(r.field),i=Ds(r.transform,e||null);null!=i&&(null===n&&(n=Uo.empty()),n.set(r.field,i))}return n||null}function Xs(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&fi(e,t,((e,t)=>$s(e,t)))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class ea extends Gs{constructor(e,t,n,r=[]){super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class ta extends Gs{constructor(e,t,n,r,i=[]){super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function na(e){const t=new Map;return e.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}})),t}function ra(e,t,n){const r=new Map;Yr(e.length===n.length);for(let i=0;i<n.length;i++){const o=e[i],s=o.transform,a=t.data.field(o.field);r.set(o.field,Ps(s,a,n[i]))}return r}function ia(e,t,n){const r=new Map;for(const i of e){const e=i.transform,o=n.data.field(i.field);r.set(i.field,Ns(e,o,t))}return r}class oa extends Gs{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class sa extends Gs{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aa{constructor(e){this.count=e}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var la,ua;function ca(e){switch(e){default:return Zr();case Xr.CANCELLED:case Xr.UNKNOWN:case Xr.DEADLINE_EXCEEDED:case Xr.RESOURCE_EXHAUSTED:case Xr.INTERNAL:case Xr.UNAVAILABLE:case Xr.UNAUTHENTICATED:return!1;case Xr.INVALID_ARGUMENT:case Xr.NOT_FOUND:case Xr.ALREADY_EXISTS:case Xr.PERMISSION_DENIED:case Xr.FAILED_PRECONDITION:case Xr.ABORTED:case Xr.OUT_OF_RANGE:case Xr.UNIMPLEMENTED:case Xr.DATA_LOSS:return!0}}function ha(e){if(void 0===e)return Kr("GRPC error has no .code"),Xr.UNKNOWN;switch(e){case la.OK:return Xr.OK;case la.CANCELLED:return Xr.CANCELLED;case la.UNKNOWN:return Xr.UNKNOWN;case la.DEADLINE_EXCEEDED:return Xr.DEADLINE_EXCEEDED;case la.RESOURCE_EXHAUSTED:return Xr.RESOURCE_EXHAUSTED;case la.INTERNAL:return Xr.INTERNAL;case la.UNAVAILABLE:return Xr.UNAVAILABLE;case la.UNAUTHENTICATED:return Xr.UNAUTHENTICATED;case la.INVALID_ARGUMENT:return Xr.INVALID_ARGUMENT;case la.NOT_FOUND:return Xr.NOT_FOUND;case la.ALREADY_EXISTS:return Xr.ALREADY_EXISTS;case la.PERMISSION_DENIED:return Xr.PERMISSION_DENIED;case la.FAILED_PRECONDITION:return Xr.FAILED_PRECONDITION;case la.ABORTED:return Xr.ABORTED;case la.OUT_OF_RANGE:return Xr.OUT_OF_RANGE;case la.UNIMPLEMENTED:return Xr.UNIMPLEMENTED;case la.DATA_LOSS:return Xr.DATA_LOSS;default:return Zr()}}(ua=la||(la={}))[ua.OK=0]="OK",ua[ua.CANCELLED=1]="CANCELLED",ua[ua.UNKNOWN=2]="UNKNOWN",ua[ua.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ua[ua.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ua[ua.NOT_FOUND=5]="NOT_FOUND",ua[ua.ALREADY_EXISTS=6]="ALREADY_EXISTS",ua[ua.PERMISSION_DENIED=7]="PERMISSION_DENIED",ua[ua.UNAUTHENTICATED=16]="UNAUTHENTICATED",ua[ua.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ua[ua.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ua[ua.ABORTED=10]="ABORTED",ua[ua.OUT_OF_RANGE=11]="OUT_OF_RANGE",ua[ua.UNIMPLEMENTED=12]="UNIMPLEMENTED",ua[ua.INTERNAL=13]="INTERNAL",ua[ua.UNAVAILABLE=14]="UNAVAILABLE",ua[ua.DATA_LOSS=15]="DATA_LOSS";
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class da{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(const[r,i]of n)if(this.equalsFn(r,e))return i}has(e){return void 0!==this.get(e)}set(e,t){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}forEach(e){Gi(this.inner,((t,n)=>{for(const[r,i]of n)e(r,i)}))}isEmpty(){return Zi(this.inner)}size(){return this.innerSize}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fa=new Yi(_i.comparator);function pa(){return fa}const ma=new Yi(_i.comparator);function ga(...e){let t=ma;for(const n of e)t=t.insert(n.key,n);return t}function va(e){let t=ma;return e.forEach(((e,n)=>t=t.insert(e,n.overlayedDocument))),t}function ya(){return wa()}function ba(){return wa()}function wa(){return new da((e=>e.toString()),((e,t)=>e.isEqual(t)))}const _a=new Yi(_i.comparator),Sa=new Xi(_i.comparator);function ka(...e){let t=Sa;for(const n of e)t=t.add(n);return t}const Ia=new Xi(di);function xa(){return Ia}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ea{constructor(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,t){const n=new Map;return n.set(e,Ta.createSynthesizedTargetChangeForCurrentChange(e,t)),new Ea(gi.min(),n,xa(),pa(),ka())}}class Ta{constructor(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,t){return new Ta(io.EMPTY_BYTE_STRING,t,ka(),ka(),ka())}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ca{constructor(e,t,n,r){this.gt=e,this.removedTargetIds=t,this.key=n,this.yt=r}}class Aa{constructor(e,t){this.targetId=e,this.It=t}}class Ra{constructor(e,t,n=io.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r}}class Oa{constructor(){this.Tt=0,this.Et=Da(),this.At=io.EMPTY_BYTE_STRING,this.Rt=!1,this.bt=!0}get current(){return this.Rt}get resumeToken(){return this.At}get Pt(){return 0!==this.Tt}get vt(){return this.bt}Vt(e){e.approximateByteSize()>0&&(this.bt=!0,this.At=e)}St(){let e=ka(),t=ka(),n=ka();return this.Et.forEach(((r,i)=>{switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:Zr()}})),new Ta(this.At,this.Rt,e,t,n)}Dt(){this.bt=!1,this.Et=Da()}Ct(e,t){this.bt=!0,this.Et=this.Et.insert(e,t)}xt(e){this.bt=!0,this.Et=this.Et.remove(e)}Nt(){this.Tt+=1}kt(){this.Tt-=1}Mt(){this.bt=!0,this.Rt=!0}}class Na{constructor(e){this.Ot=e,this.Ft=new Map,this.$t=pa(),this.Bt=Pa(),this.Lt=new Xi(di)}Ut(e){for(const t of e.gt)e.yt&&e.yt.isFoundDocument()?this.qt(t,e.yt):this.Kt(t,e.key,e.yt);for(const t of e.removedTargetIds)this.Kt(t,e.key,e.yt)}Gt(e){this.forEachTarget(e,(t=>{const n=this.Qt(t);switch(e.state){case 0:this.jt(t)&&n.Vt(e.resumeToken);break;case 1:n.kt(),n.Pt||n.Dt(),n.Vt(e.resumeToken);break;case 2:n.kt(),n.Pt||this.removeTarget(t);break;case 3:this.jt(t)&&(n.Mt(),n.Vt(e.resumeToken));break;case 4:this.jt(t)&&(this.Wt(t),n.Vt(e.resumeToken));break;default:Zr()}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Ft.forEach(((e,n)=>{this.jt(n)&&t(n)}))}zt(e){const t=e.targetId,n=e.It.count,r=this.Ht(t);if(r){const e=r.target;if(Wo(e))if(0===n){const n=new _i(e.path);this.Kt(t,n,Vo.newNoDocument(n,gi.min()))}else Yr(1===n);else this.Jt(t)!==n&&(this.Wt(t),this.Lt=this.Lt.add(t))}}Yt(e){const t=new Map;this.Ft.forEach(((n,r)=>{const i=this.Ht(r);if(i){if(n.current&&Wo(i.target)){const t=new _i(i.target.path);null!==this.$t.get(t)||this.Xt(r,t)||this.Kt(r,t,Vo.newNoDocument(t,e))}n.vt&&(t.set(r,n.St()),n.Dt())}}));let n=ka();this.Bt.forEach(((e,t)=>{let r=!0;t.forEachWhile((e=>{const t=this.Ht(e);return!t||2===t.purpose||(r=!1,!1)})),r&&(n=n.add(e))})),this.$t.forEach(((t,n)=>n.setReadTime(e)));const r=new Ea(e,t,this.Lt,this.$t,n);return this.$t=pa(),this.Bt=Pa(),this.Lt=new Xi(di),r}qt(e,t){if(!this.jt(e))return;const n=this.Xt(e,t.key)?2:0;this.Qt(e).Ct(t.key,n),this.$t=this.$t.insert(t.key,t),this.Bt=this.Bt.insert(t.key,this.Zt(t.key).add(e))}Kt(e,t,n){if(!this.jt(e))return;const r=this.Qt(e);this.Xt(e,t)?r.Ct(t,1):r.xt(t),this.Bt=this.Bt.insert(t,this.Zt(t).delete(e)),n&&(this.$t=this.$t.insert(t,n))}removeTarget(e){this.Ft.delete(e)}Jt(e){const t=this.Qt(e).St();return this.Ot.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Nt(e){this.Qt(e).Nt()}Qt(e){let t=this.Ft.get(e);return t||(t=new Oa,this.Ft.set(e,t)),t}Zt(e){let t=this.Bt.get(e);return t||(t=new Xi(di),this.Bt=this.Bt.insert(e,t)),t}jt(e){const t=null!==this.Ht(e);return t||Hr("WatchChangeAggregator","Detected inactive target",e),t}Ht(e){const t=this.Ft.get(e);return t&&t.Pt?null:this.Ot.te(e)}Wt(e){this.Ft.set(e,new Oa),this.Ot.getRemoteKeysForTarget(e).forEach((t=>{this.Kt(e,t,null)}))}Xt(e,t){return this.Ot.getRemoteKeysForTarget(e).has(t)}}function Pa(){return new Yi(_i.comparator)}function Da(){return new Yi(_i.comparator)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const La=(()=>{const e={asc:"ASCENDING",desc:"DESCENDING"};return e})(),Fa=(()=>{const e={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};return e})();class Ma{constructor(e,t){this.databaseId=e,this.dt=t}}function qa(e,t){return e.dt?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function Ua(e,t){return e.dt?t.toBase64():t.toUint8Array()}function Ba(e,t){return qa(e,t.toTimestamp())}function Va(e){return Yr(!!e),gi.fromTimestamp(function(e){const t=so(e);return new mi(t.seconds,t.nanos)}(e))}function ja(e,t){return function(e){return new yi(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function za(e){const t=yi.fromString(e);return Yr(ml(t)),t}function $a(e,t){return ja(e.databaseId,t.path)}function Ha(e,t){const n=za(t);if(n.get(1)!==e.databaseId.projectId)throw new ei(Xr.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new ei(Xr.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new _i(Za(n))}function Ka(e,t){return ja(e.databaseId,t)}function Wa(e){const t=za(e);return 4===t.length?yi.emptyPath():Za(t)}function Ga(e){return new yi(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function Za(e){return Yr(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function Ya(e,t,n){return{name:$a(e,t),fields:n.value.mapValue.fields}}function Qa(e,t,n){const r=Ha(e,t.name),i=Va(t.updateTime),o=new Uo({mapValue:{fields:t.fields}}),s=Vo.newFoundDocument(r,i,o);return n&&s.setHasCommittedMutations(),n?s.setHasCommittedMutations():s}function Ja(e,t){return"found"in t?function(e,t){Yr(!!t.found),t.found.name,t.found.updateTime;const n=Ha(e,t.found.name),r=Va(t.found.updateTime),i=new Uo({mapValue:{fields:t.found.fields}});return Vo.newFoundDocument(n,r,i)}(e,t):"missing"in t?function(e,t){Yr(!!t.missing),Yr(!!t.readTime);const n=Ha(e,t.missing),r=Va(t.readTime);return Vo.newNoDocument(n,r)}(e,t):Zr()}function Xa(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:Zr()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],o=function(e,t){return e.dt?(Yr(void 0===t||"string"==typeof t),io.fromBase64String(t||"")):(Yr(void 0===t||t instanceof Uint8Array),io.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),s=t.targetChange.cause,a=s&&function(e){const t=void 0===e.code?Xr.UNKNOWN:ha(e.code);return new ei(t,e.message||"")}(s);n=new Ra(r,i,o,a||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const i=Ha(e,r.document.name),o=Va(r.document.updateTime),s=new Uo({mapValue:{fields:r.document.fields}}),a=Vo.newFoundDocument(i,o,s),l=r.targetIds||[],u=r.removedTargetIds||[];n=new Ca(l,u,a.key,a)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const i=Ha(e,r.document),o=r.readTime?Va(r.readTime):gi.min(),s=Vo.newNoDocument(i,o),a=r.removedTargetIds||[];n=new Ca([],a,s.key,s)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const i=Ha(e,r.document),o=r.removedTargetIds||[];n=new Ca([],o,i,null)}else{if(!("filter"in t))return Zr();{t.filter;const e=t.filter;e.targetId;const r=e.count||0,i=new aa(r),o=e.targetId;n=new Aa(o,i)}}return n}function el(e,t){let n;if(t instanceof ea)n={update:Ya(e,t.key,t.value)};else if(t instanceof oa)n={delete:$a(e,t.key)};else if(t instanceof ta)n={update:Ya(e,t.key,t.data),updateMask:pl(t.fieldMask)};else{if(!(t instanceof sa))return Zr();n={verify:$a(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((e=>function(e,t){const n=t.transform;if(n instanceof Ls)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Fs)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof qs)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof Bs)return{fieldPath:t.field.canonicalString(),increment:n._t};throw Zr()}(0,e)))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:Ba(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:Zr()}(e,t.precondition)),n}function tl(e,t){const n=t.currentDocument?function(e){return void 0!==e.updateTime?Ks.updateTime(Va(e.updateTime)):void 0!==e.exists?Ks.exists(e.exists):Ks.none()}(t.currentDocument):Ks.none(),r=t.updateTransforms?t.updateTransforms.map((t=>function(e,t){let n=null;if("setToServerValue"in t)Yr("REQUEST_TIME"===t.setToServerValue),n=new Ls;else if("appendMissingElements"in t){const e=t.appendMissingElements.values||[];n=new Fs(e)}else if("removeAllFromArray"in t){const e=t.removeAllFromArray.values||[];n=new qs(e)}else"increment"in t?n=new Bs(e,t.increment):Zr();const r=wi.fromServerFormat(t.fieldPath);return new zs(r,n)}(e,t))):[];if(t.update){t.update.name;const i=Ha(e,t.update.name),o=new Uo({mapValue:{fields:t.update.fields}});if(t.updateMask){const e=function(e){const t=e.fieldPaths||[];return new no(t.map((e=>wi.fromServerFormat(e))))}(t.updateMask);return new ta(i,o,e,n,r)}return new ea(i,o,n,r)}if(t.delete){const r=Ha(e,t.delete);return new oa(r,n)}if(t.verify){const r=Ha(e,t.verify);return new sa(r,n)}return Zr()}function nl(e,t){return e&&e.length>0?(Yr(void 0!==t),e.map((e=>function(e,t){let n=e.updateTime?Va(e.updateTime):Va(t);return n.isEqual(gi.min())&&(n=Va(t)),new Hs(n,e.transformResults||[])}(e,t)))):[]}function rl(e,t){return{documents:[Ka(e,t.path)]}}function il(e,t){const n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=Ka(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=Ka(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(e){if(0===e.length)return;const t=e.map((e=>function(e){if("=="===e.op){if(Oo(e.value))return{unaryFilter:{field:cl(e.field),op:"IS_NAN"}};if(Ro(e.value))return{unaryFilter:{field:cl(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Oo(e.value))return{unaryFilter:{field:cl(e.field),op:"IS_NOT_NAN"}};if(Ro(e.value))return{unaryFilter:{field:cl(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:cl(e.field),op:ul(e.op),value:e.value}}}(e)));return 1===t.length?t[0]:{compositeFilter:{op:"AND",filters:t}}}(t.filters);i&&(n.structuredQuery.where=i);const o=function(e){if(0!==e.length)return e.map((e=>function(e){return{field:cl(e.field),direction:ll(e.dir)}}(e)))}(t.orderBy);o&&(n.structuredQuery.orderBy=o);const s=function(e,t){return e.dt||mo(t)?t:{value:t}}(e,t.limit);var a;return null!==s&&(n.structuredQuery.limit=s),t.startAt&&(n.structuredQuery.startAt={before:(a=t.startAt).inclusive,values:a.position}),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),n}function ol(e){let t=Wa(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Yr(1===r);const e=n.from[0];e.allDescendants?i=e.collectionId:t=t.child(e.collectionId)}let o=[];n.where&&(o=al(n.where));let s=[];n.orderBy&&(s=n.orderBy.map((e=>function(e){return new as(hl(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e))));let a=null;n.limit&&(a=function(e){let t;return t="object"==typeof e?e.value:e,mo(t)?null:t}(n.limit));let l=null;n.startAt&&(l=function(e){const t=!!e.before,n=e.values||[];return new ss(n,t)}(n.startAt));let u=null;return n.endAt&&(u=function(e){const t=!e.before,n=e.values||[];return new ss(n,t)}(n.endAt)),ds(t,i,s,o,a,"F",l,u)}function sl(e,t){const n=function(e,t){switch(t){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Zr()}}(0,t.purpose);return null==n?null:{"goog-listen-tags":n}}function al(e){return e?void 0!==e.unaryFilter?[fl(e)]:void 0!==e.fieldFilter?[dl(e)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map((e=>al(e))).reduce(((e,t)=>e.concat(t))):Zr():[]}function ll(e){return La[e]}function ul(e){return Fa[e]}function cl(e){return{fieldPath:e.canonicalString()}}function hl(e){return wi.fromServerFormat(e.fieldPath)}function dl(e){return Qo.create(hl(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Zr()}}(e.fieldFilter.op),e.fieldFilter.value)}function fl(e){switch(e.unaryFilter.op){case"IS_NAN":const t=hl(e.unaryFilter.field);return Qo.create(t,"==",{doubleValue:NaN});case"IS_NULL":const n=hl(e.unaryFilter.field);return Qo.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=hl(e.unaryFilter.field);return Qo.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=hl(e.unaryFilter.field);return Qo.create(i,"!=",{nullValue:"NULL_VALUE"});default:return Zr()}}function pl(e){const t=[];return e.fields.forEach((e=>t.push(e.canonicalString()))),{fieldPaths:t}}function ml(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gl(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=yl(t)),t=vl(e.get(n),t);return yl(t)}function vl(e,t){let n=t;const r=e.length;for(let i=0;i<r;i++){const t=e.charAt(i);switch(t){case"\0":n+="";break;case"":n+="";break;default:n+=t}}return n}function yl(e){return e+""}function bl(e){const t=e.length;if(Yr(t>=2),2===t)return Yr(""===e.charAt(0)&&""===e.charAt(1)),yi.emptyPath();const n=t-2,r=[];let i="";for(let o=0;o<t;){const t=e.indexOf("",o);switch((t<0||t>n)&&Zr(),e.charAt(t+1)){case"":const n=e.substring(o,t);let s;0===i.length?s=n:(i+=n,s=i,i=""),r.push(s);break;case"":i+=e.substring(o,t),i+="\0";break;case"":i+=e.substring(o,t+1);break;default:Zr()}o=t+2}return new yi(r)}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wl=["userId","batchId"];
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _l(e,t){return[e,gl(t)]}function Sl(e,t,n){return[e,gl(t),n]}const kl={},Il=["prefixPath","collectionGroup","readTime","documentId"],xl=["prefixPath","collectionGroup","documentId"],El=["collectionGroup","readTime","prefixPath","documentId"],Tl=["canonicalId","targetId"],Cl=["targetId","path"],Al=["path","targetId"],Rl=["collectionId","parent"],Ol=["indexId","uid"],Nl=["uid","sequenceNumber"],Pl=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],Dl=["indexId","uid","orderedDocumentKey"],Ll=["userId","collectionPath","documentId"],Fl=["userId","collectionPath","largestBatchId"],Ml=["userId","collectionGroup","largestBatchId"],ql=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Ul=[...ql,"documentOverlays"],Bl=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Vl=Bl,jl=[...Vl,"indexConfiguration","indexState","indexEntries"];
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zl extends Ni{constructor(e,t){super(),this.ee=e,this.currentSequenceNumber=t}}function $l(e,t){const n=Jr(e);return Fi.N(n.ee,t)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hl{constructor(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const t=this.mutations[r];t.key.isEqual(e.key)&&Ys(t,e,n[r])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=Qs(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=Qs(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=ba();return this.mutations.forEach((r=>{const i=e.get(r.key),o=i.overlayedDocument;let s=this.applyToLocalView(o,i.mutatedFields);s=t.has(r.key)?null:s;const a=Zs(o,s);null!==a&&n.set(r.key,a),o.isValidDocument()||o.convertToNoDocument(gi.min())})),n}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),ka())}isEqual(e){return this.batchId===e.batchId&&fi(this.mutations,e.mutations,((e,t)=>Xs(e,t)))&&fi(this.baseMutations,e.baseMutations,((e,t)=>Xs(e,t)))}}class Kl{constructor(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}static from(e,t,n){Yr(e.mutations.length===n.length);let r=_a;const i=e.mutations;for(let o=0;o<i.length;o++)r=r.insert(i[o].key,n[o].version);return new Kl(e,t,n,r)}}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wl{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gl{constructor(e,t,n,r,i=gi.min(),o=gi.min(),s=io.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s}withSequenceNumber(e){return new Gl(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new Gl(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new Gl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zl{constructor(e){this.ne=e}}function Yl(e,t){let n;if(t.document)n=Qa(e.ne,t.document,!!t.hasCommittedMutations);else if(t.noDocument){const e=_i.fromSegments(t.noDocument.path),r=eu(t.noDocument.readTime);n=Vo.newNoDocument(e,r),t.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!t.unknownDocument)return Zr();{const e=_i.fromSegments(t.unknownDocument.path),r=eu(t.unknownDocument.version);n=Vo.newUnknownDocument(e,r)}}return t.readTime&&n.setReadTime(function(e){const t=new mi(e[0],e[1]);return gi.fromTimestamp(t)}(t.readTime)),n}function Ql(e,t){const n=t.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:Jl(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())r.document=function(e,t){return{name:$a(e,t.key),fields:t.data.value.mapValue.fields,updateTime:qa(e,t.version.toTimestamp())}}(e.ne,t);else if(t.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:Xl(t.version)};else{if(!t.isUnknownDocument())return Zr();r.unknownDocument={path:n.path.toArray(),version:Xl(t.version)}}return r}function Jl(e){const t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function Xl(e){const t=e.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function eu(e){const t=new mi(e.seconds,e.nanoseconds);return gi.fromTimestamp(t)}function tu(e,t){const n=(t.baseMutations||[]).map((t=>tl(e.ne,t)));for(let o=0;o<t.mutations.length-1;++o){const e=t.mutations[o];if(o+1<t.mutations.length&&void 0!==t.mutations[o+1].transform){const n=t.mutations[o+1];e.updateTransforms=n.transform.fieldTransforms,t.mutations.splice(o+1,1),++o}}const r=t.mutations.map((t=>tl(e.ne,t))),i=mi.fromMillis(t.localWriteTimeMs);return new Hl(t.batchId,i,n,r)}function nu(e){const t=eu(e.readTime),n=void 0!==e.lastLimboFreeSnapshotVersion?eu(e.lastLimboFreeSnapshotVersion):gi.min();let r;var i;return void 0!==e.query.documents?(Yr(1===(i=e.query).documents.length),r=bs(fs(Wa(i.documents[0])))):r=function(e){return bs(ol(e))}(e.query),new Gl(r,e.targetId,0,e.lastListenSequenceNumber,t,n,io.fromBase64String(e.resumeToken))}function ru(e,t){const n=Xl(t.snapshotVersion),r=Xl(t.lastLimboFreeSnapshotVersion);let i;i=Wo(t.target)?rl(e.ne,t.target):il(e.ne,t.target);const o=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:$o(t.target),readTime:n,resumeToken:o,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function iu(e){const t=ol({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?ws(t,t.limit,"L"):t}function ou(e,t){return new Wl(t.largestBatchId,tl(e.ne,t.overlayMutation))}function su(e,t){const n=t.path.lastSegment();return[e,gl(t.path.popLast()),n]}function au(e,t,n,r){return{indexId:e,uid:t.uid||"",sequenceNumber:n,readTime:Xl(r.readTime),documentKey:gl(r.documentKey.path),largestBatchId:r.largestBatchId}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lu{getBundleMetadata(e,t){return uu(e).get(t).next((e=>{if(e)return{id:(t=e).bundleId,createTime:eu(t.createTime),version:t.version};var t}))}saveBundleMetadata(e,t){return uu(e).put({bundleId:(n=t).id,createTime:Xl(Va(n.createTime)),version:n.version});var n}getNamedQuery(e,t){return cu(e).get(t).next((e=>{if(e)return{name:(t=e).name,query:iu(t.bundledQuery),readTime:eu(t.readTime)};var t}))}saveNamedQuery(e,t){return cu(e).put(function(e){return{name:e.name,readTime:Xl(Va(e.readTime)),bundledQuery:e.bundledQuery}}(t))}}function uu(e){return $l(e,"bundles")}function cu(e){return $l(e,"namedQueries")}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hu{constructor(e,t){this.wt=e,this.userId=t}static se(e,t){const n=t.uid||"";return new hu(e,n)}getOverlay(e,t){return du(e).get(su(this.userId,t)).next((e=>e?ou(this.wt,e):null))}getOverlays(e,t){const n=ya();return Di.forEach(t,(t=>this.getOverlay(e,t).next((e=>{null!==e&&n.set(t,e)})))).next((()=>n))}saveOverlays(e,t,n){const r=[];return n.forEach(((n,i)=>{const o=new Wl(t,i);r.push(this.ie(e,o))})),Di.waitFor(r)}removeOverlaysForBatchId(e,t,n){const r=new Set;t.forEach((e=>r.add(gl(e.getCollectionPath()))));const i=[];return r.forEach((t=>{const r=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,n+1],!1,!0);i.push(du(e).W("collectionPathOverlayIndex",r))})),Di.waitFor(i)}getOverlaysForCollection(e,t,n){const r=ya(),i=gl(t),o=IDBKeyRange.bound([this.userId,i,n],[this.userId,i,Number.POSITIVE_INFINITY],!0);return du(e).K("collectionPathOverlayIndex",o).next((e=>{for(const t of e){const e=ou(this.wt,t);r.set(e.getKey(),e)}return r}))}getOverlaysForCollectionGroup(e,t,n,r){const i=ya();let o;const s=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,Number.POSITIVE_INFINITY],!0);return du(e).J({index:"collectionGroupOverlayIndex",range:s},((e,t,n)=>{const s=ou(this.wt,t);i.size()<r||s.largestBatchId===o?(i.set(s.getKey(),s),o=s.largestBatchId):n.done()})).next((()=>i))}ie(e,t){return du(e).put(function(e,t,n){const[r,i,o]=su(t,n.mutation.key);return{userId:t,collectionPath:i,documentId:o,collectionGroup:n.mutation.key.getCollectionGroup(),largestBatchId:n.largestBatchId,overlayMutation:el(e.ne,n.mutation)}}(this.wt,this.userId,t))}}function du(e){return $l(e,"documentOverlays")}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fu{constructor(){}re(e,t){this.oe(e,t),t.ue()}oe(e,t){if("nullValue"in e)this.ce(t,5);else if("booleanValue"in e)this.ce(t,10),t.ae(e.booleanValue?1:0);else if("integerValue"in e)this.ce(t,15),t.ae(ao(e.integerValue));else if("doubleValue"in e){const n=ao(e.doubleValue);isNaN(n)?this.ce(t,13):(this.ce(t,15),go(n)?t.ae(0):t.ae(n))}else if("timestampValue"in e){const n=e.timestampValue;this.ce(t,20),"string"==typeof n?t.he(n):(t.he(`${n.seconds||""}`),t.ae(n.nanos||0))}else if("stringValue"in e)this.le(e.stringValue,t),this.fe(t);else if("bytesValue"in e)this.ce(t,30),t.de(lo(e.bytesValue)),this.fe(t);else if("referenceValue"in e)this._e(e.referenceValue,t);else if("geoPointValue"in e){const n=e.geoPointValue;this.ce(t,45),t.ae(n.latitude||0),t.ae(n.longitude||0)}else"mapValue"in e?Do(e)?this.ce(t,Number.MAX_SAFE_INTEGER):(this.we(e.mapValue,t),this.fe(t)):"arrayValue"in e?(this.me(e.arrayValue,t),this.fe(t)):Zr()}le(e,t){this.ce(t,25),this.ge(e,t)}ge(e,t){t.he(e)}we(e,t){const n=e.fields||{};this.ce(t,55);for(const r of Object.keys(n))this.le(r,t),this.oe(n[r],t)}me(e,t){const n=e.values||[];this.ce(t,50);for(const r of n)this.oe(r,t)}_e(e,t){this.ce(t,37),_i.fromName(e).path.forEach((e=>{this.ce(t,60),this.ge(e,t)}))}ce(e,t){e.ae(t)}fe(e){e.ae(2)}}function pu(e){if(0===e)return 8;let t=0;return e>>4==0&&(t+=4,e<<=4),e>>6==0&&(t+=2,e<<=2),e>>7==0&&(t+=1),t}function mu(e){const t=64-function(e){let t=0;for(let n=0;n<8;++n){const r=pu(255&e[n]);if(t+=r,8!==r)break}return t}(e);return Math.ceil(t/8)}fu.ye=new fu;class gu{constructor(){this.buffer=new Uint8Array(1024),this.position=0}pe(e){const t=e[Symbol.iterator]();let n=t.next();for(;!n.done;)this.Ie(n.value),n=t.next();this.Te()}Ee(e){const t=e[Symbol.iterator]();let n=t.next();for(;!n.done;)this.Ae(n.value),n=t.next();this.Re()}be(e){for(const t of e){const e=t.charCodeAt(0);if(e<128)this.Ie(e);else if(e<2048)this.Ie(960|e>>>6),this.Ie(128|63&e);else if(t<"\ud800"||"\udbff"<t)this.Ie(480|e>>>12),this.Ie(128|63&e>>>6),this.Ie(128|63&e);else{const e=t.codePointAt(0);this.Ie(240|e>>>18),this.Ie(128|63&e>>>12),this.Ie(128|63&e>>>6),this.Ie(128|63&e)}}this.Te()}Pe(e){for(const t of e){const e=t.charCodeAt(0);if(e<128)this.Ae(e);else if(e<2048)this.Ae(960|e>>>6),this.Ae(128|63&e);else if(t<"\ud800"||"\udbff"<t)this.Ae(480|e>>>12),this.Ae(128|63&e>>>6),this.Ae(128|63&e);else{const e=t.codePointAt(0);this.Ae(240|e>>>18),this.Ae(128|63&e>>>12),this.Ae(128|63&e>>>6),this.Ae(128|63&e)}}this.Re()}ve(e){const t=this.Ve(e),n=mu(t);this.Se(1+n),this.buffer[this.position++]=255&n;for(let r=t.length-n;r<t.length;++r)this.buffer[this.position++]=255&t[r]}De(e){const t=this.Ve(e),n=mu(t);this.Se(1+n),this.buffer[this.position++]=~(255&n);for(let r=t.length-n;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}Ce(){this.xe(255),this.xe(255)}Ne(){this.ke(255),this.ke(255)}reset(){this.position=0}seed(e){this.Se(e.length),this.buffer.set(e,this.position),this.position+=e.length}Me(){return this.buffer.slice(0,this.position)}Ve(e){const t=function(e){const t=new DataView(new ArrayBuffer(8));return t.setFloat64(0,e,!1),new Uint8Array(t.buffer)}(e),n=0!=(128&t[0]);t[0]^=n?255:128;for(let r=1;r<t.length;++r)t[r]^=n?255:0;return t}Ie(e){const t=255&e;0===t?(this.xe(0),this.xe(255)):255===t?(this.xe(255),this.xe(0)):this.xe(t)}Ae(e){const t=255&e;0===t?(this.ke(0),this.ke(255)):255===t?(this.ke(255),this.ke(0)):this.ke(e)}Te(){this.xe(0),this.xe(1)}Re(){this.ke(0),this.ke(1)}xe(e){this.Se(1),this.buffer[this.position++]=e}ke(e){this.Se(1),this.buffer[this.position++]=~e}Se(e){const t=e+this.position;if(t<=this.buffer.length)return;let n=2*this.buffer.length;n<t&&(n=t);const r=new Uint8Array(n);r.set(this.buffer),this.buffer=r}}class vu{constructor(e){this.Oe=e}de(e){this.Oe.pe(e)}he(e){this.Oe.be(e)}ae(e){this.Oe.ve(e)}ue(){this.Oe.Ce()}}class yu{constructor(e){this.Oe=e}de(e){this.Oe.Ee(e)}he(e){this.Oe.Pe(e)}ae(e){this.Oe.De(e)}ue(){this.Oe.Ne()}}class bu{constructor(){this.Oe=new gu,this.Fe=new vu(this.Oe),this.$e=new yu(this.Oe)}seed(e){this.Oe.seed(e)}Be(e){return 0===e?this.Fe:this.$e}Me(){return this.Oe.Me()}reset(){this.Oe.reset()}}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wu{constructor(e,t,n,r){this.indexId=e,this.documentKey=t,this.arrayValue=n,this.directionalValue=r}Le(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,n=new Uint8Array(t);return n.set(this.directionalValue,0),t!==e?n.set([0],this.directionalValue.length):++n[n.length-1],new wu(this.indexId,this.documentKey,this.arrayValue,n)}}function _u(e,t){let n=e.indexId-t.indexId;return 0!==n?n:(n=Su(e.arrayValue,t.arrayValue),0!==n?n:(n=Su(e.directionalValue,t.directionalValue),0!==n?n:_i.comparator(e.documentKey,t.documentKey)))}function Su(e,t){for(let n=0;n<e.length&&n<t.length;++n){const r=e[n]-t[n];if(0!==r)return r}return e.length-t.length}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ku{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Ue=e.orderBy,this.qe=[];for(const t of e.filters){const e=t;e.ht()?this.Ke=e:this.qe.push(e)}}Ge(e){const t=ki(e);if(void 0!==t&&!this.Qe(t))return!1;const n=Ii(e);let r=0,i=0;for(;r<n.length&&this.Qe(n[r]);++r);if(r===n.length)return!0;if(void 0!==this.Ke){const e=n[r];if(!this.je(this.Ke,e)||!this.We(this.Ue[i++],e))return!1;++r}for(;r<n.length;++r){const e=n[r];if(i>=this.Ue.length||!this.We(this.Ue[i++],e))return!1}return!0}Qe(e){for(const t of this.qe)if(this.je(t,e))return!0;return!1}je(e,t){if(void 0===e||!e.field.isEqual(t.fieldPath))return!1;const n="array-contains"===e.op||"array-contains-any"===e.op;return 2===t.kind===n}We(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iu{constructor(){this.ze=new xu}addToCollectionParentIndex(e,t){return this.ze.add(t),Di.resolve()}getCollectionParents(e,t){return Di.resolve(this.ze.getEntries(t))}addFieldIndex(e,t){return Di.resolve()}deleteFieldIndex(e,t){return Di.resolve()}getDocumentsMatchingTarget(e,t){return Di.resolve(null)}getIndexType(e,t){return Di.resolve(0)}getFieldIndexes(e,t){return Di.resolve([])}getNextCollectionGroupToUpdate(e){return Di.resolve(null)}getMinOffset(e,t){return Di.resolve(Ai.min())}getMinOffsetFromCollectionGroup(e,t){return Di.resolve(Ai.min())}updateCollectionGroup(e,t,n){return Di.resolve()}updateIndexEntries(e,t){return Di.resolve()}}class xu{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new Xi(yi.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}has(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(e){return(this.index[e]||new Xi(yi.comparator)).toArray()}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eu=new Uint8Array(0);class Tu{constructor(e,t){this.user=e,this.databaseId=t,this.He=new xu,this.Je=new da((e=>$o(e)),((e,t)=>Ko(e,t))),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.He.has(t)){const n=t.lastSegment(),r=t.popLast();e.addOnCommittedListener((()=>{this.He.add(t)}));const i={collectionId:n,parent:gl(r)};return Cu(e).put(i)}return Di.resolve()}getCollectionParents(e,t){const n=[],r=IDBKeyRange.bound([t,""],[pi(t),""],!1,!0);return Cu(e).K(r).next((e=>{for(const r of e){if(r.collectionId!==t)break;n.push(bl(r.parent))}return n}))}addFieldIndex(e,t){const n=Ru(e),r=function(e){return{indexId:e.indexId,collectionGroup:e.collectionGroup,fields:e.fields.map((e=>[e.fieldPath.canonicalString(),e.kind]))}}(t);delete r.indexId;const i=n.add(r);if(t.indexState){const n=Ou(e);return i.next((e=>{n.put(au(e,this.user,t.indexState.sequenceNumber,t.indexState.offset))}))}return i.next()}deleteFieldIndex(e,t){const n=Ru(e),r=Ou(e),i=Au(e);return n.delete(t.indexId).next((()=>r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))).next((()=>i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))))}getDocumentsMatchingTarget(e,t){const n=Au(e);let r=!0;const i=new Map;return Di.forEach(this.Ye(t),(t=>this.Xe(e,t).next((e=>{r&&(r=!!e),i.set(t,e)})))).next((()=>{if(r){let e=ka();const r=[];return Di.forEach(i,((i,o)=>{var s;Hr("IndexedDbIndexManager",`Using index ${s=i,`id=${s.indexId}|cg=${s.collectionGroup}|f=${s.fields.map((e=>`${e.fieldPath}:${e.kind}`)).join(",")}`} to execute ${$o(t)}`);const a=function(e,t){const n=ki(t);if(void 0===n)return null;for(const r of Go(e,n.fieldPath))switch(r.op){case"array-contains-any":return r.value.arrayValue.values||[];case"array-contains":return[r.value]}return null}(o,i),l=function(e,t){const n=new Map;for(const r of Ii(t))for(const t of Go(e,r.fieldPath))switch(t.op){case"==":case"in":n.set(r.fieldPath.canonicalString(),t.value);break;case"not-in":case"!=":return n.set(r.fieldPath.canonicalString(),t.value),Array.from(n.values())}return null}(o,i),u=function(e,t){const n=[];let r=!0;for(const i of Ii(t)){const t=0===i.kind?Zo(e,i.fieldPath,e.startAt):Yo(e,i.fieldPath,e.startAt);n.push(t.value),r&&(r=t.inclusive)}return new ss(n,r)}(o,i),c=function(e,t){const n=[];let r=!0;for(const i of Ii(t)){const t=0===i.kind?Yo(e,i.fieldPath,e.endAt):Zo(e,i.fieldPath,e.endAt);n.push(t.value),r&&(r=t.inclusive)}return new ss(n,r)}(o,i),h=this.Ze(i,o,u),d=this.Ze(i,o,c),f=this.tn(i,o,l),p=this.en(i.indexId,a,h,u.inclusive,d,c.inclusive,f);return Di.forEach(p,(i=>n.j(i,t.limit).next((t=>{t.forEach((t=>{const n=_i.fromSegments(t.documentKey);e.has(n)||(e=e.add(n),r.push(n))}))}))))})).next((()=>r))}return Di.resolve(null)}))}Ye(e){let t=this.Je.get(e);return t||(t=[e],this.Je.set(e,t),t)}en(e,t,n,r,i,o,s){const a=(null!=t?t.length:1)*Math.max(n.length,i.length),l=a/(null!=t?t.length:1),u=[];for(let c=0;c<a;++c){const a=t?this.nn(t[c/l]):Eu,h=this.sn(e,a,n[c%l],r),d=this.rn(e,a,i[c%l],o),f=s.map((t=>this.sn(e,a,t,!0)));u.push(...this.createRange(h,d,f))}return u}sn(e,t,n,r){const i=new wu(e,_i.empty(),t,n);return r?i:i.Le()}rn(e,t,n,r){const i=new wu(e,_i.empty(),t,n);return r?i.Le():i}Xe(e,t){const n=new ku(t),r=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next((e=>{let t=null;for(const r of e)n.Ge(r)&&(!t||r.fields.length>t.fields.length)&&(t=r);return t}))}getIndexType(e,t){let n=2;return Di.forEach(this.Ye(t),(t=>this.Xe(e,t).next((e=>{e?0!==n&&e.fields.length<function(e){let t=new Xi(wi.comparator),n=!1;for(const r of e.filters){const e=r;e.field.isKeyField()||("array-contains"===e.op||"array-contains-any"===e.op?n=!0:t=t.add(e.field))}for(const r of e.orderBy)r.field.isKeyField()||(t=t.add(r.field));return t.size+(n?1:0)}(t)&&(n=1):n=0})))).next((()=>n))}on(e,t){const n=new bu;for(const r of Ii(e)){const e=t.data.field(r.fieldPath);if(null==e)return null;const i=n.Be(r.kind);fu.ye.re(e,i)}return n.Me()}nn(e){const t=new bu;return fu.ye.re(e,t.Be(0)),t.Me()}un(e,t){const n=new bu;return fu.ye.re(To(this.databaseId,t),n.Be(function(e){const t=Ii(e);return 0===t.length?0:t[t.length-1].kind}(e))),n.Me()}tn(e,t,n){if(null===n)return[];let r=[];r.push(new bu);let i=0;for(const o of Ii(e)){const e=n[i++];for(const n of r)if(this.cn(t,o.fieldPath)&&Ao(e))r=this.an(r,o,e);else{const t=n.Be(o.kind);fu.ye.re(e,t)}}return this.hn(r)}Ze(e,t,n){return this.tn(e,t,n.position)}hn(e){const t=[];for(let n=0;n<e.length;++n)t[n]=e[n].Me();return t}an(e,t,n){const r=[...e],i=[];for(const o of n.arrayValue.values||[])for(const e of r){const n=new bu;n.seed(e.Me()),fu.ye.re(o,n.Be(t.kind)),i.push(n)}return i}cn(e,t){return!!e.filters.find((e=>e instanceof Qo&&e.field.isEqual(t)&&("in"===e.op||"not-in"===e.op)))}getFieldIndexes(e,t){const n=Ru(e),r=Ou(e);return(t?n.K("collectionGroupIndex",IDBKeyRange.bound(t,t)):n.K()).next((e=>{const t=[];return Di.forEach(e,(e=>r.get([e.indexId,this.uid]).next((n=>{t.push(function(e,t){const n=t?new Ei(t.sequenceNumber,new Ai(eu(t.readTime),new _i(bl(t.documentKey)),t.largestBatchId)):Ei.empty(),r=e.fields.map((([e,t])=>new xi(wi.fromServerFormat(e),t)));return new Si(e.indexId,e.collectionGroup,r,n)}(e,n))})))).next((()=>t))}))}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next((e=>0===e.length?null:(e.sort(((e,t)=>{const n=e.indexState.sequenceNumber-t.indexState.sequenceNumber;return 0!==n?n:di(e.collectionGroup,t.collectionGroup)})),e[0].collectionGroup)))}updateCollectionGroup(e,t,n){const r=Ru(e),i=Ou(e);return this.ln(e).next((e=>r.K("collectionGroupIndex",IDBKeyRange.bound(t,t)).next((t=>Di.forEach(t,(t=>i.put(au(t.indexId,this.user,e,n))))))))}updateIndexEntries(e,t){const n=new Map;return Di.forEach(t,((t,r)=>{const i=n.get(t.collectionGroup);return(i?Di.resolve(i):this.getFieldIndexes(e,t.collectionGroup)).next((i=>(n.set(t.collectionGroup,i),Di.forEach(i,(n=>this.fn(e,t,n).next((t=>{const i=this.dn(r,n);return t.isEqual(i)?Di.resolve():this._n(e,r,n,t,i)})))))))}))}wn(e,t,n,r){return Au(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.un(n,t.key),documentKey:t.key.path.toArray()})}mn(e,t,n,r){return Au(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.un(n,t.key),t.key.path.toArray()])}fn(e,t,n){const r=Au(e);let i=new Xi(_u);return r.J({index:"documentKeyIndex",range:IDBKeyRange.only([n.indexId,this.uid,this.un(n,t)])},((e,r)=>{i=i.add(new wu(n.indexId,t,r.arrayValue,r.directionalValue))})).next((()=>i))}dn(e,t){let n=new Xi(_u);const r=this.on(t,e);if(null==r)return n;const i=ki(t);if(null!=i){const o=e.data.field(i.fieldPath);if(Ao(o))for(const i of o.arrayValue.values||[])n=n.add(new wu(t.indexId,e.key,this.nn(i),r))}else n=n.add(new wu(t.indexId,e.key,Eu,r));return n}_n(e,t,n,r,i){Hr("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const o=[];return function(e,t,n,r,i){const o=e.getIterator(),s=t.getIterator();let a=to(o),l=to(s);for(;a||l;){let e=!1,t=!1;if(a&&l){const r=n(a,l);r<0?t=!0:r>0&&(e=!0)}else null!=a?t=!0:e=!0;e?(r(l),l=to(s)):t?(i(a),a=to(o)):(a=to(o),l=to(s))}}(r,i,_u,(r=>{o.push(this.wn(e,t,n,r))}),(r=>{o.push(this.mn(e,t,n,r))})),Di.waitFor(o)}ln(e){let t=1;return Ou(e).J({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},((e,n,r)=>{r.done(),t=n.sequenceNumber+1})).next((()=>t))}createRange(e,t,n){n=n.sort(((e,t)=>_u(e,t))).filter(((e,t,n)=>!t||0!==_u(e,n[t-1])));const r=[];r.push(e);for(const o of n){const n=_u(o,e),i=_u(o,t);if(0===n)r[0]=e.Le();else if(n>0&&i<0)r.push(o),r.push(o.Le());else if(i>0)break}r.push(t);const i=[];for(let o=0;o<r.length;o+=2)i.push(IDBKeyRange.bound([r[o].indexId,this.uid,r[o].arrayValue,r[o].directionalValue,Eu,[]],[r[o+1].indexId,this.uid,r[o+1].arrayValue,r[o+1].directionalValue,Eu,[]]));return i}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(Nu)}getMinOffset(e,t){return Di.mapArray(this.Ye(t),(t=>this.Xe(e,t).next((e=>e||Zr())))).next(Nu)}}function Cu(e){return $l(e,"collectionParents")}function Au(e){return $l(e,"indexEntries")}function Ru(e){return $l(e,"indexConfiguration")}function Ou(e){return $l(e,"indexState")}function Nu(e){Yr(0!==e.length);let t=e[0].indexState.offset,n=t.largestBatchId;for(let r=1;r<e.length;r++){const i=e[r].indexState.offset;Ri(i,t)<0&&(t=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new Ai(t.readTime,t.documentKey,n)}
/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pu={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Du{constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}static withCacheSize(e){return new Du(e,Du.DEFAULT_COLLECTION_PERCENTILE,Du.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lu(e,t,n){const r=e.store("mutations"),i=e.store("documentMutations"),o=[],s=IDBKeyRange.only(n.batchId);let a=0;const l=r.J({range:s},((e,t,n)=>(a++,n.delete())));o.push(l.next((()=>{Yr(1===a)})));const u=[];for(const c of n.mutations){const e=Sl(t,c.key.path,n.batchId);o.push(i.delete(e)),u.push(c.key)}return Di.waitFor(o).next((()=>u))}function Fu(e){if(!e)return 0;let t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw Zr();t=e.noDocument}return JSON.stringify(t).length}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Du.DEFAULT_COLLECTION_PERCENTILE=10,Du.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Du.DEFAULT=new Du(41943040,Du.DEFAULT_COLLECTION_PERCENTILE,Du.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Du.DISABLED=new Du(-1,0,0);class Mu{constructor(e,t,n,r){this.userId=e,this.wt=t,this.indexManager=n,this.referenceDelegate=r,this.gn={}}static se(e,t,n,r){Yr(""!==e.uid);const i=e.isAuthenticated()?e.uid:"";return new Mu(i,t,n,r)}checkEmpty(e){let t=!0;const n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Uu(e).J({index:"userMutationsIndex",range:n},((e,n,r)=>{t=!1,r.done()})).next((()=>t))}addMutationBatch(e,t,n,r){const i=Bu(e),o=Uu(e);return o.add({}).next((s=>{Yr("number"==typeof s);const a=new Hl(s,t,n,r),l=function(e,t,n){const r=n.baseMutations.map((t=>el(e.ne,t))),i=n.mutations.map((t=>el(e.ne,t)));return{userId:t,batchId:n.batchId,localWriteTimeMs:n.localWriteTime.toMillis(),baseMutations:r,mutations:i}}(this.wt,this.userId,a),u=[];let c=new Xi(((e,t)=>di(e.canonicalString(),t.canonicalString())));for(const e of r){const t=Sl(this.userId,e.key.path,s);c=c.add(e.key.path.popLast()),u.push(o.put(l)),u.push(i.put(t,kl))}return c.forEach((t=>{u.push(this.indexManager.addToCollectionParentIndex(e,t))})),e.addOnCommittedListener((()=>{this.gn[s]=a.keys()})),Di.waitFor(u).next((()=>a))}))}lookupMutationBatch(e,t){return Uu(e).get(t).next((e=>e?(Yr(e.userId===this.userId),tu(this.wt,e)):null))}yn(e,t){return this.gn[t]?Di.resolve(this.gn[t]):this.lookupMutationBatch(e,t).next((e=>{if(e){const n=e.keys();return this.gn[t]=n,n}return null}))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=IDBKeyRange.lowerBound([this.userId,n]);let i=null;return Uu(e).J({index:"userMutationsIndex",range:r},((e,t,r)=>{t.userId===this.userId&&(Yr(t.batchId>=n),i=tu(this.wt,t)),r.done()})).next((()=>i))}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let n=-1;return Uu(e).J({index:"userMutationsIndex",range:t,reverse:!0},((e,t,r)=>{n=t.batchId,r.done()})).next((()=>n))}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Uu(e).K("userMutationsIndex",t).next((e=>e.map((e=>tu(this.wt,e)))))}getAllMutationBatchesAffectingDocumentKey(e,t){const n=_l(this.userId,t.path),r=IDBKeyRange.lowerBound(n),i=[];return Bu(e).J({range:r},((n,r,o)=>{const[s,a,l]=n,u=bl(a);if(s===this.userId&&t.path.isEqual(u))return Uu(e).get(l).next((e=>{if(!e)throw Zr();Yr(e.userId===this.userId),i.push(tu(this.wt,e))}));o.done()})).next((()=>i))}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new Xi(di);const r=[];return t.forEach((t=>{const i=_l(this.userId,t.path),o=IDBKeyRange.lowerBound(i),s=Bu(e).J({range:o},((e,r,i)=>{const[o,s,a]=e,l=bl(s);o===this.userId&&t.path.isEqual(l)?n=n.add(a):i.done()}));r.push(s)})),Di.waitFor(r).next((()=>this.pn(e,n)))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1,i=_l(this.userId,n),o=IDBKeyRange.lowerBound(i);let s=new Xi(di);return Bu(e).J({range:o},((e,t,i)=>{const[o,a,l]=e,u=bl(a);o===this.userId&&n.isPrefixOf(u)?u.length===r&&(s=s.add(l)):i.done()})).next((()=>this.pn(e,s)))}pn(e,t){const n=[],r=[];return t.forEach((t=>{r.push(Uu(e).get(t).next((e=>{if(null===e)throw Zr();Yr(e.userId===this.userId),n.push(tu(this.wt,e))})))})),Di.waitFor(r).next((()=>n))}removeMutationBatch(e,t){return Lu(e.ee,this.userId,t).next((n=>(e.addOnCommittedListener((()=>{this.In(t.batchId)})),Di.forEach(n,(t=>this.referenceDelegate.markPotentiallyOrphaned(e,t))))))}In(e){delete this.gn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next((t=>{if(!t)return Di.resolve();const n=IDBKeyRange.lowerBound([this.userId]),r=[];return Bu(e).J({range:n},((e,t,n)=>{if(e[0]===this.userId){const t=bl(e[1]);r.push(t)}else n.done()})).next((()=>{Yr(0===r.length)}))}))}containsKey(e,t){return qu(e,this.userId,t)}Tn(e){return Vu(e).get(this.userId).next((e=>e||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""}))}}function qu(e,t,n){const r=_l(t,n.path),i=r[1],o=IDBKeyRange.lowerBound(r);let s=!1;return Bu(e).J({range:o,H:!0},((e,n,r)=>{const[o,a,l]=e;o===t&&a===i&&(s=!0),r.done()})).next((()=>s))}function Uu(e){return $l(e,"mutations")}function Bu(e){return $l(e,"documentMutations")}function Vu(e){return $l(e,"mutationQueues")}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ju{constructor(e){this.En=e}next(){return this.En+=2,this.En}static An(){return new ju(0)}static Rn(){return new ju(-1)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zu{constructor(e,t){this.referenceDelegate=e,this.wt=t}allocateTargetId(e){return this.bn(e).next((t=>{const n=new ju(t.highestTargetId);return t.highestTargetId=n.next(),this.Pn(e,t).next((()=>t.highestTargetId))}))}getLastRemoteSnapshotVersion(e){return this.bn(e).next((e=>gi.fromTimestamp(new mi(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))))}getHighestSequenceNumber(e){return this.bn(e).next((e=>e.highestListenSequenceNumber))}setTargetsMetadata(e,t,n){return this.bn(e).next((r=>(r.highestListenSequenceNumber=t,n&&(r.lastRemoteSnapshotVersion=n.toTimestamp()),t>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=t),this.Pn(e,r))))}addTargetData(e,t){return this.vn(e,t).next((()=>this.bn(e).next((n=>(n.targetCount+=1,this.Vn(t,n),this.Pn(e,n))))))}updateTargetData(e,t){return this.vn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next((()=>$u(e).delete(t.targetId))).next((()=>this.bn(e))).next((t=>(Yr(t.targetCount>0),t.targetCount-=1,this.Pn(e,t))))}removeTargets(e,t,n){let r=0;const i=[];return $u(e).J(((o,s)=>{const a=nu(s);a.sequenceNumber<=t&&null===n.get(a.targetId)&&(r++,i.push(this.removeTargetData(e,a)))})).next((()=>Di.waitFor(i))).next((()=>r))}forEachTarget(e,t){return $u(e).J(((e,n)=>{const r=nu(n);t(r)}))}bn(e){return Hu(e).get("targetGlobalKey").next((e=>(Yr(null!==e),e)))}Pn(e,t){return Hu(e).put("targetGlobalKey",t)}vn(e,t){return $u(e).put(ru(this.wt,t))}Vn(e,t){let n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}getTargetCount(e){return this.bn(e).next((e=>e.targetCount))}getTargetData(e,t){const n=$o(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]);let i=null;return $u(e).J({range:r,index:"queryTargetsIndex"},((e,n,r)=>{const o=nu(n);Ko(t,o.target)&&(i=o,r.done())})).next((()=>i))}addMatchingKeys(e,t,n){const r=[],i=Ku(e);return t.forEach((t=>{const o=gl(t.path);r.push(i.put({targetId:n,path:o})),r.push(this.referenceDelegate.addReference(e,n,t))})),Di.waitFor(r)}removeMatchingKeys(e,t,n){const r=Ku(e);return Di.forEach(t,(t=>{const i=gl(t.path);return Di.waitFor([r.delete([n,i]),this.referenceDelegate.removeReference(e,n,t)])}))}removeMatchingKeysForTargetId(e,t){const n=Ku(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)}getMatchingKeysForTargetId(e,t){const n=IDBKeyRange.bound([t],[t+1],!1,!0),r=Ku(e);let i=ka();return r.J({range:n,H:!0},((e,t,n)=>{const r=bl(e[1]),o=new _i(r);i=i.add(o)})).next((()=>i))}containsKey(e,t){const n=gl(t.path),r=IDBKeyRange.bound([n],[pi(n)],!1,!0);let i=0;return Ku(e).J({index:"documentTargetsIndex",H:!0,range:r},(([e,t],n,r)=>{0!==e&&(i++,r.done())})).next((()=>i>0))}te(e,t){return $u(e).get(t).next((e=>e?nu(e):null))}}function $u(e){return $l(e,"targets")}function Hu(e){return $l(e,"targetGlobal")}function Ku(e){return $l(e,"targetDocuments")}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wu([e,t],[n,r]){const i=di(e,n);return 0===i?di(t,r):i}class Gu{constructor(e){this.Sn=e,this.buffer=new Xi(Wu),this.Dn=0}Cn(){return++this.Dn}xn(e){const t=[e,this.Cn()];if(this.buffer.size<this.Sn)this.buffer=this.buffer.add(t);else{const e=this.buffer.last();Wu(t,e)<0&&(this.buffer=this.buffer.delete(e).add(t))}}get maxValue(){return this.buffer.last()[0]}}class Zu{constructor(e,t,n){this.garbageCollector=e,this.asyncQueue=t,this.localStore=n,this.Nn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.kn(6e4)}stop(){this.Nn&&(this.Nn.cancel(),this.Nn=null)}get started(){return null!==this.Nn}kn(e){Hr("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Nn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Nn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){Ui(e)?Hr("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e):await Pi(e)}await this.kn(3e5)}))}}class Yu{constructor(e,t){this.Mn=e,this.params=t}calculateTargetCount(e,t){return this.Mn.On(e).next((e=>Math.floor(t/100*e)))}nthSequenceNumber(e,t){if(0===t)return Di.resolve(Ki.ot);const n=new Gu(t);return this.Mn.forEachTarget(e,(e=>n.xn(e.sequenceNumber))).next((()=>this.Mn.Fn(e,(e=>n.xn(e))))).next((()=>n.maxValue))}removeTargets(e,t,n){return this.Mn.removeTargets(e,t,n)}removeOrphanedDocuments(e,t){return this.Mn.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Hr("LruGarbageCollector","Garbage collection skipped; disabled"),Di.resolve(Pu)):this.getCacheSize(e).next((n=>n<this.params.cacheSizeCollectionThreshold?(Hr("LruGarbageCollector",`Garbage collection skipped; Cache size ${n} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Pu):this.$n(e,t)))}getCacheSize(e){return this.Mn.getCacheSize(e)}$n(e,t){let n,r,i,o,a,l,u;const c=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((t=>(t>this.params.maximumSequenceNumbersToCollect?(Hr("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${t}`),r=this.params.maximumSequenceNumbersToCollect):r=t,o=Date.now(),this.nthSequenceNumber(e,r)))).next((r=>(n=r,a=Date.now(),this.removeTargets(e,n,t)))).next((t=>(i=t,l=Date.now(),this.removeOrphanedDocuments(e,n)))).next((e=>(u=Date.now(),zr()<=s["in"].DEBUG&&Hr("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${o-c}ms\n\tDetermined least recently used ${r} in `+(a-o)+"ms\n"+`\tRemoved ${i} targets in `+(l-a)+"ms\n"+`\tRemoved ${e} documents in `+(u-l)+"ms\n"+`Total Duration: ${u-c}ms`),Di.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e}))))}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qu{constructor(e,t){this.db=e,this.garbageCollector=function(e,t){return new Yu(e,t)}(this,t)}On(e){const t=this.Bn(e);return this.db.getTargetCache().getTargetCount(e).next((e=>t.next((t=>e+t))))}Bn(e){let t=0;return this.Fn(e,(e=>{t++})).next((()=>t))}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Fn(e,t){return this.Ln(e,((e,n)=>t(n)))}addReference(e,t,n){return Ju(e,n)}removeReference(e,t,n){return Ju(e,n)}removeTargets(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)}markPotentiallyOrphaned(e,t){return Ju(e,t)}Un(e,t){return function(e,t){let n=!1;return Vu(e).Y((r=>qu(e,r,t).next((e=>(e&&(n=!0),Di.resolve(!e)))))).next((()=>n))}(e,t)}removeOrphanedDocuments(e,t){const n=this.db.getRemoteDocumentCache().newChangeBuffer(),r=[];let i=0;return this.Ln(e,((o,s)=>{if(s<=t){const t=this.Un(e,o).next((t=>{if(!t)return i++,n.getEntry(e,o).next((()=>(n.removeEntry(o,gi.min()),Ku(e).delete([0,gl(o.path)]))))}));r.push(t)}})).next((()=>Di.waitFor(r))).next((()=>n.apply(e))).next((()=>i))}removeTarget(e,t){const n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}updateLimboDocument(e,t){return Ju(e,t)}Ln(e,t){const n=Ku(e);let r,i=Ki.ot;return n.J({index:"documentTargetsIndex"},(([e,n],{path:o,sequenceNumber:s})=>{0===e?(i!==Ki.ot&&t(new _i(bl(r)),i),i=s,r=o):i=Ki.ot})).next((()=>{i!==Ki.ot&&t(new _i(bl(r)),i)}))}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Ju(e,t){return Ku(e).put(function(e,t){return{targetId:0,path:gl(e.path),sequenceNumber:t}}(t,e.currentSequenceNumber))}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xu{constructor(){this.changes=new da((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Vo.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return void 0!==n?Di.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ec{constructor(e){this.wt=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,n){return ic(e).put(n)}removeEntry(e,t,n){return ic(e).delete(function(e,t){const n=e.path.toArray();return[n.slice(0,n.length-2),n[n.length-2],Jl(t),n[n.length-1]]}(t,n))}updateMetadata(e,t){return this.getMetadata(e).next((n=>(n.byteSize+=t,this.qn(e,n))))}getEntry(e,t){let n=Vo.newInvalidDocument(t);return ic(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(oc(t))},((e,r)=>{n=this.Kn(t,r)})).next((()=>n))}Gn(e,t){let n={size:0,document:Vo.newInvalidDocument(t)};return ic(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(oc(t))},((e,r)=>{n={document:this.Kn(t,r),size:Fu(r)}})).next((()=>n))}getEntries(e,t){let n=pa();return this.Qn(e,t,((e,t)=>{const r=this.Kn(e,t);n=n.insert(e,r)})).next((()=>n))}jn(e,t){let n=pa(),r=new Yi(_i.comparator);return this.Qn(e,t,((e,t)=>{const i=this.Kn(e,t);n=n.insert(e,i),r=r.insert(e,Fu(t))})).next((()=>({documents:n,Wn:r})))}Qn(e,t,n){if(t.isEmpty())return Di.resolve();let r=new Xi(ac);t.forEach((e=>r=r.add(e)));const i=IDBKeyRange.bound(oc(r.first()),oc(r.last())),o=r.getIterator();let s=o.getNext();return ic(e).J({index:"documentKeyIndex",range:i},((e,t,r)=>{const i=_i.fromSegments([...t.prefixPath,t.collectionGroup,t.documentId]);for(;s&&ac(s,i)<0;)n(s,null),s=o.getNext();s&&s.isEqual(i)&&(n(s,t),s=o.hasNext()?o.getNext():null),s?r.q(oc(s)):r.done()})).next((()=>{for(;s;)n(s,null),s=o.hasNext()?o.getNext():null}))}getAllFromCollection(e,t,n){const r=[t.popLast().toArray(),t.lastSegment(),Jl(n.readTime),n.documentKey.path.isEmpty()?"":n.documentKey.path.lastSegment()],i=[t.popLast().toArray(),t.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return ic(e).K(IDBKeyRange.bound(r,i,!0)).next((e=>{let t=pa();for(const n of e){const e=this.Kn(_i.fromSegments(n.prefixPath.concat(n.collectionGroup,n.documentId)),n);t=t.insert(e.key,e)}return t}))}getAllFromCollectionGroup(e,t,n,r){let i=pa();const o=sc(t,n),s=sc(t,Ai.max());return ic(e).J({index:"collectionGroupIndex",range:IDBKeyRange.bound(o,s,!0)},((e,t,n)=>{const o=this.Kn(_i.fromSegments(t.prefixPath.concat(t.collectionGroup,t.documentId)),t);i=i.insert(o.key,o),i.size===r&&n.done()})).next((()=>i))}newChangeBuffer(e){return new nc(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next((e=>e.byteSize))}getMetadata(e){return rc(e).get("remoteDocumentGlobalKey").next((e=>(Yr(!!e),e)))}qn(e,t){return rc(e).put("remoteDocumentGlobalKey",t)}Kn(e,t){if(t){const e=Yl(this.wt,t);if(!e.isNoDocument()||!e.version.isEqual(gi.min()))return e}return Vo.newInvalidDocument(e)}}function tc(e){return new ec(e)}class nc extends Xu{constructor(e,t){super(),this.zn=e,this.trackRemovals=t,this.Hn=new da((e=>e.toString()),((e,t)=>e.isEqual(t)))}applyChanges(e){const t=[];let n=0,r=new Xi(((e,t)=>di(e.canonicalString(),t.canonicalString())));return this.changes.forEach(((i,o)=>{const s=this.Hn.get(i);if(t.push(this.zn.removeEntry(e,i,s.readTime)),o.isValidDocument()){const a=Ql(this.zn.wt,o);r=r.add(i.path.popLast());const l=Fu(a);n+=l-s.size,t.push(this.zn.addEntry(e,i,a))}else if(n-=s.size,this.trackRemovals){const n=Ql(this.zn.wt,o.convertToNoDocument(gi.min()));t.push(this.zn.addEntry(e,i,n))}})),r.forEach((n=>{t.push(this.zn.indexManager.addToCollectionParentIndex(e,n))})),t.push(this.zn.updateMetadata(e,n)),Di.waitFor(t)}getFromCache(e,t){return this.zn.Gn(e,t).next((e=>(this.Hn.set(t,{size:e.size,readTime:e.document.readTime}),e.document)))}getAllFromCache(e,t){return this.zn.jn(e,t).next((({documents:e,Wn:t})=>(t.forEach(((t,n)=>{this.Hn.set(t,{size:n,readTime:e.get(t).readTime})})),e)))}}function rc(e){return $l(e,"remoteDocumentGlobal")}function ic(e){return $l(e,"remoteDocumentsV14")}function oc(e){const t=e.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function sc(e,t){const n=t.documentKey.path.toArray();return[e,Jl(t.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function ac(e,t){const n=e.path.toArray(),r=t.path.toArray();let i=0;for(let o=0;o<n.length-2&&o<r.length-2;++o)if(i=di(n[o],r[o]),i)return i;return i=di(n.length,r.length),i||(i=di(n[n.length-2],r[r.length-2]),i||di(n[n.length-1],r[r.length-1]))
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}class lc{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uc{constructor(e,t,n,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=r}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next((r=>(n=r,this.getBaseDocument(e,t,n)))).next((e=>(null!==n&&Qs(n.mutation,e,no.empty(),mi.now()),e)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.getLocalViewOfDocuments(e,t,ka()).next((()=>t))))}getLocalViewOfDocuments(e,t,n=ka()){const r=ya();return this.populateOverlays(e,r,t).next((()=>this.computeViews(e,t,r,n).next((e=>{let t=ga();return e.forEach(((e,n)=>{t=t.insert(e,n.overlayedDocument)})),t}))))}getOverlayedDocuments(e,t){const n=ya();return this.populateOverlays(e,n,t).next((()=>this.computeViews(e,t,n,ka())))}populateOverlays(e,t,n){const r=[];return n.forEach((e=>{t.has(e)||r.push(e)})),this.documentOverlayCache.getOverlays(e,r).next((e=>{e.forEach(((e,n)=>{t.set(e,n)}))}))}computeViews(e,t,n,r){let i=pa();const o=wa(),s=wa();return t.forEach(((e,t)=>{const s=n.get(t.key);r.has(t.key)&&(void 0===s||s.mutation instanceof ta)?i=i.insert(t.key,t):void 0!==s&&(o.set(t.key,s.mutation.getFieldMask()),Qs(s.mutation,t,s.mutation.getFieldMask(),mi.now()))})),this.recalculateAndSaveOverlays(e,i).next((e=>(e.forEach(((e,t)=>o.set(e,t))),t.forEach(((e,t)=>{var n;return s.set(e,new lc(t,null!==(n=o.get(e))&&void 0!==n?n:null))})),s)))}recalculateAndSaveOverlays(e,t){const n=wa();let r=new Yi(((e,t)=>e-t)),i=ka();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((e=>{for(const i of e)i.keys().forEach((e=>{const o=t.get(e);if(null===o)return;let s=n.get(e)||no.empty();s=i.applyToLocalView(o,s),n.set(e,s);const a=(r.get(i.batchId)||ka()).add(e);r=r.insert(i.batchId,a)}))})).next((()=>{const o=[],s=r.getReverseIterator();for(;s.hasNext();){const r=s.getNext(),a=r.key,l=r.value,u=ba();l.forEach((e=>{if(!i.has(e)){const r=Zs(t.get(e),n.get(e));null!==r&&u.set(e,r),i=i.add(e)}})),o.push(this.documentOverlayCache.saveOverlays(e,a,u))}return Di.waitFor(o)})).next((()=>n))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.recalculateAndSaveOverlays(e,t)))}getDocumentsMatchingQuery(e,t,n){return function(e){return _i.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):vs(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n):this.getDocumentsMatchingCollectionQuery(e,t,n)}getNextDocuments(e,t,n,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next((i=>{const o=r-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-i.size):Di.resolve(ya());let s=-1,a=i;return o.next((t=>Di.forEach(t,((t,n)=>(s<n.largestBatchId&&(s=n.largestBatchId),i.get(t)?Di.resolve():this.getBaseDocument(e,t,n).next((e=>{a=a.insert(t,e)}))))).next((()=>this.populateOverlays(e,t,i))).next((()=>this.computeViews(e,a,t,ka()))).next((e=>({batchId:s,changes:va(e)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new _i(t)).next((e=>{let t=ga();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}getDocumentsMatchingCollectionGroupQuery(e,t,n){const r=t.collectionGroup;let i=ga();return this.indexManager.getCollectionParents(e,r).next((o=>Di.forEach(o,(o=>{const s=function(e,t){return new hs(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,o.child(r));return this.getDocumentsMatchingCollectionQuery(e,s,n).next((e=>{e.forEach(((e,t)=>{i=i.insert(e,t)}))}))})).next((()=>i))))}getDocumentsMatchingCollectionQuery(e,t,n){let r;return this.remoteDocumentCache.getAllFromCollection(e,t.path,n).next((i=>(r=i,this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId)))).next((e=>{e.forEach(((e,t)=>{const n=t.getKey();null===r.get(n)&&(r=r.insert(n,Vo.newInvalidDocument(n)))}));let n=ga();return r.forEach(((r,i)=>{const o=e.get(r);void 0!==o&&Qs(o.mutation,i,no.empty(),mi.now()),Is(t,i)&&(n=n.insert(r,i))})),n}))}getBaseDocument(e,t,n){return null===n||1===n.mutation.type?this.remoteDocumentCache.getEntry(e,t):Di.resolve(Vo.newInvalidDocument(t))}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cc{constructor(e){this.wt=e,this.Jn=new Map,this.Yn=new Map}getBundleMetadata(e,t){return Di.resolve(this.Jn.get(t))}saveBundleMetadata(e,t){var n;return this.Jn.set(t.id,{id:(n=t).id,version:n.version,createTime:Va(n.createTime)}),Di.resolve()}getNamedQuery(e,t){return Di.resolve(this.Yn.get(t))}saveNamedQuery(e,t){return this.Yn.set(t.name,function(e){return{name:e.name,query:iu(e.bundledQuery),readTime:Va(e.readTime)}}(t)),Di.resolve()}}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hc{constructor(){this.overlays=new Yi(_i.comparator),this.Xn=new Map}getOverlay(e,t){return Di.resolve(this.overlays.get(t))}getOverlays(e,t){const n=ya();return Di.forEach(t,(t=>this.getOverlay(e,t).next((e=>{null!==e&&n.set(t,e)})))).next((()=>n))}saveOverlays(e,t,n){return n.forEach(((n,r)=>{this.ie(e,t,r)})),Di.resolve()}removeOverlaysForBatchId(e,t,n){const r=this.Xn.get(n);return void 0!==r&&(r.forEach((e=>this.overlays=this.overlays.remove(e))),this.Xn.delete(n)),Di.resolve()}getOverlaysForCollection(e,t,n){const r=ya(),i=t.length+1,o=new _i(t.child("")),s=this.overlays.getIteratorFrom(o);for(;s.hasNext();){const e=s.getNext().value,o=e.getKey();if(!t.isPrefixOf(o.path))break;o.path.length===i&&e.largestBatchId>n&&r.set(e.getKey(),e)}return Di.resolve(r)}getOverlaysForCollectionGroup(e,t,n,r){let i=new Yi(((e,t)=>e-t));const o=this.overlays.getIterator();for(;o.hasNext();){const e=o.getNext().value;if(e.getKey().getCollectionGroup()===t&&e.largestBatchId>n){let t=i.get(e.largestBatchId);null===t&&(t=ya(),i=i.insert(e.largestBatchId,t)),t.set(e.getKey(),e)}}const s=ya(),a=i.getIterator();for(;a.hasNext();)if(a.getNext().value.forEach(((e,t)=>s.set(e,t))),s.size()>=r)break;return Di.resolve(s)}ie(e,t,n){const r=this.overlays.get(n.key);if(null!==r){const e=this.Xn.get(r.largestBatchId).delete(n.key);this.Xn.set(r.largestBatchId,e)}this.overlays=this.overlays.insert(n.key,new Wl(t,n));let i=this.Xn.get(t);void 0===i&&(i=ka(),this.Xn.set(t,i)),this.Xn.set(t,i.add(n.key))}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dc{constructor(){this.Zn=new Xi(fc.ts),this.es=new Xi(fc.ns)}isEmpty(){return this.Zn.isEmpty()}addReference(e,t){const n=new fc(e,t);this.Zn=this.Zn.add(n),this.es=this.es.add(n)}ss(e,t){e.forEach((e=>this.addReference(e,t)))}removeReference(e,t){this.rs(new fc(e,t))}os(e,t){e.forEach((e=>this.removeReference(e,t)))}us(e){const t=new _i(new yi([])),n=new fc(t,e),r=new fc(t,e+1),i=[];return this.es.forEachInRange([n,r],(e=>{this.rs(e),i.push(e.key)})),i}cs(){this.Zn.forEach((e=>this.rs(e)))}rs(e){this.Zn=this.Zn.delete(e),this.es=this.es.delete(e)}hs(e){const t=new _i(new yi([])),n=new fc(t,e),r=new fc(t,e+1);let i=ka();return this.es.forEachInRange([n,r],(e=>{i=i.add(e.key)})),i}containsKey(e){const t=new fc(e,0),n=this.Zn.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class fc{constructor(e,t){this.key=e,this.ls=t}static ts(e,t){return _i.comparator(e.key,t.key)||di(e.ls,t.ls)}static ns(e,t){return di(e.ls,t.ls)||_i.comparator(e.key,t.key)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pc{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.fs=1,this.ds=new Xi(fc.ts)}checkEmpty(e){return Di.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,n,r){const i=this.fs;this.fs++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new Hl(i,t,n,r);this.mutationQueue.push(o);for(const s of r)this.ds=this.ds.add(new fc(s.key,i)),this.indexManager.addToCollectionParentIndex(e,s.key.path.popLast());return Di.resolve(o)}lookupMutationBatch(e,t){return Di.resolve(this._s(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=this.ws(n),i=r<0?0:r;return Di.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return Di.resolve(0===this.mutationQueue.length?-1:this.fs-1)}getAllMutationBatches(e){return Di.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new fc(t,0),r=new fc(t,Number.POSITIVE_INFINITY),i=[];return this.ds.forEachInRange([n,r],(e=>{const t=this._s(e.ls);i.push(t)})),Di.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new Xi(di);return t.forEach((e=>{const t=new fc(e,0),r=new fc(e,Number.POSITIVE_INFINITY);this.ds.forEachInRange([t,r],(e=>{n=n.add(e.ls)}))})),Di.resolve(this.gs(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1;let i=n;_i.isDocumentKey(i)||(i=i.child(""));const o=new fc(new _i(i),0);let s=new Xi(di);return this.ds.forEachWhile((e=>{const t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(s=s.add(e.ls)),!0)}),o),Di.resolve(this.gs(s))}gs(e){const t=[];return e.forEach((e=>{const n=this._s(e);null!==n&&t.push(n)})),t}removeMutationBatch(e,t){Yr(0===this.ys(t.batchId,"removed")),this.mutationQueue.shift();let n=this.ds;return Di.forEach(t.mutations,(r=>{const i=new fc(r.key,t.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)})).next((()=>{this.ds=n}))}In(e){}containsKey(e,t){const n=new fc(t,0),r=this.ds.firstAfterOrEqual(n);return Di.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,Di.resolve()}ys(e,t){return this.ws(e)}ws(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}_s(e){const t=this.ws(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mc{constructor(e){this.ps=e,this.docs=new Yi(_i.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,r=this.docs.get(n),i=r?r.size:0,o=this.ps(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return Di.resolve(n?n.document.mutableCopy():Vo.newInvalidDocument(t))}getEntries(e,t){let n=pa();return t.forEach((e=>{const t=this.docs.get(e);n=n.insert(e,t?t.document.mutableCopy():Vo.newInvalidDocument(e))})),Di.resolve(n)}getAllFromCollection(e,t,n){let r=pa();const i=new _i(t.child("")),o=this.docs.getIteratorFrom(i);for(;o.hasNext();){const{key:e,value:{document:i}}=o.getNext();if(!t.isPrefixOf(e.path))break;e.path.length>t.length+1||Ri(Ci(i),n)<=0||(r=r.insert(i.key,i.mutableCopy()))}return Di.resolve(r)}getAllFromCollectionGroup(e,t,n,r){Zr()}Is(e,t){return Di.forEach(this.docs,(e=>t(e)))}newChangeBuffer(e){return new gc(this)}getSize(e){return Di.resolve(this.size)}}class gc extends Xu{constructor(e){super(),this.zn=e}applyChanges(e){const t=[];return this.changes.forEach(((n,r)=>{r.isValidDocument()?t.push(this.zn.addEntry(e,r)):this.zn.removeEntry(n)})),Di.waitFor(t)}getFromCache(e,t){return this.zn.getEntry(e,t)}getAllFromCache(e,t){return this.zn.getEntries(e,t)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vc{constructor(e){this.persistence=e,this.Ts=new da((e=>$o(e)),Ko),this.lastRemoteSnapshotVersion=gi.min(),this.highestTargetId=0,this.Es=0,this.As=new dc,this.targetCount=0,this.Rs=ju.An()}forEachTarget(e,t){return this.Ts.forEach(((e,n)=>t(n))),Di.resolve()}getLastRemoteSnapshotVersion(e){return Di.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Di.resolve(this.Es)}allocateTargetId(e){return this.highestTargetId=this.Rs.next(),Di.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Es&&(this.Es=t),Di.resolve()}vn(e){this.Ts.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Rs=new ju(t),this.highestTargetId=t),e.sequenceNumber>this.Es&&(this.Es=e.sequenceNumber)}addTargetData(e,t){return this.vn(t),this.targetCount+=1,Di.resolve()}updateTargetData(e,t){return this.vn(t),Di.resolve()}removeTargetData(e,t){return this.Ts.delete(t.target),this.As.us(t.targetId),this.targetCount-=1,Di.resolve()}removeTargets(e,t,n){let r=0;const i=[];return this.Ts.forEach(((o,s)=>{s.sequenceNumber<=t&&null===n.get(s.targetId)&&(this.Ts.delete(o),i.push(this.removeMatchingKeysForTargetId(e,s.targetId)),r++)})),Di.waitFor(i).next((()=>r))}getTargetCount(e){return Di.resolve(this.targetCount)}getTargetData(e,t){const n=this.Ts.get(t)||null;return Di.resolve(n)}addMatchingKeys(e,t,n){return this.As.ss(t,n),Di.resolve()}removeMatchingKeys(e,t,n){this.As.os(t,n);const r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((t=>{i.push(r.markPotentiallyOrphaned(e,t))})),Di.waitFor(i)}removeMatchingKeysForTargetId(e,t){return this.As.us(t),Di.resolve()}getMatchingKeysForTargetId(e,t){const n=this.As.hs(t);return Di.resolve(n)}containsKey(e,t){return Di.resolve(this.As.containsKey(t))}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yc{constructor(e,t){this.bs={},this.overlays={},this.Ps=new Ki(0),this.vs=!1,this.vs=!0,this.referenceDelegate=e(this),this.Vs=new vc(this),this.indexManager=new Iu,this.remoteDocumentCache=function(e){return new mc(e)}((e=>this.referenceDelegate.Ss(e))),this.wt=new Zl(t),this.Ds=new cc(this.wt)}start(){return Promise.resolve()}shutdown(){return this.vs=!1,Promise.resolve()}get started(){return this.vs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new hc,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.bs[e.toKey()];return n||(n=new pc(t,this.referenceDelegate),this.bs[e.toKey()]=n),n}getTargetCache(){return this.Vs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ds}runTransaction(e,t,n){Hr("MemoryPersistence","Starting transaction:",e);const r=new bc(this.Ps.next());return this.referenceDelegate.Cs(),n(r).next((e=>this.referenceDelegate.xs(r).next((()=>e)))).toPromise().then((e=>(r.raiseOnCommittedEvent(),e)))}Ns(e,t){return Di.or(Object.values(this.bs).map((n=>()=>n.containsKey(e,t))))}}class bc extends Ni{constructor(e){super(),this.currentSequenceNumber=e}}class wc{constructor(e){this.persistence=e,this.ks=new dc,this.Ms=null}static Os(e){return new wc(e)}get Fs(){if(this.Ms)return this.Ms;throw Zr()}addReference(e,t,n){return this.ks.addReference(n,t),this.Fs.delete(n.toString()),Di.resolve()}removeReference(e,t,n){return this.ks.removeReference(n,t),this.Fs.add(n.toString()),Di.resolve()}markPotentiallyOrphaned(e,t){return this.Fs.add(t.toString()),Di.resolve()}removeTarget(e,t){this.ks.us(t.targetId).forEach((e=>this.Fs.add(e.toString())));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next((e=>{e.forEach((e=>this.Fs.add(e.toString())))})).next((()=>n.removeTargetData(e,t)))}Cs(){this.Ms=new Set}xs(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Di.forEach(this.Fs,(n=>{const r=_i.fromPath(n);return this.$s(e,r).next((e=>{e||t.removeEntry(r,gi.min())}))})).next((()=>(this.Ms=null,t.apply(e))))}updateLimboDocument(e,t){return this.$s(e,t).next((e=>{e?this.Fs.delete(t.toString()):this.Fs.add(t.toString())}))}Ss(e){return 0}$s(e,t){return Di.or([()=>Di.resolve(this.ks.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ns(e,t)])}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _c{constructor(e){this.wt=e}M(e,t,n,r){const i=new Li("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore("owner")}(e),function(e){e.createObjectStore("mutationQueues",{keyPath:"userId"}),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",wl,{unique:!0}),e.createObjectStore("documentMutations")}(e),Sc(e),function(e){e.createObjectStore("remoteDocuments")}(e));let o=Di.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore("targetDocuments"),e.deleteObjectStore("targets"),e.deleteObjectStore("targetGlobal")}(e),Sc(e)),o=o.next((()=>function(e){const t=e.store("targetGlobal"),n={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:gi.min().toTimestamp(),targetCount:0};return t.put("targetGlobalKey",n)}(i)))),n<4&&r>=4&&(0!==n&&(o=o.next((()=>function(e,t){return t.store("mutations").K().next((n=>{e.deleteObjectStore("mutations"),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",wl,{unique:!0});const r=t.store("mutations"),i=n.map((e=>r.put(e)));return Di.waitFor(i)}))}(e,i)))),o=o.next((()=>{!function(e){e.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)}))),n<5&&r>=5&&(o=o.next((()=>this.Bs(i)))),n<6&&r>=6&&(o=o.next((()=>(function(e){e.createObjectStore("remoteDocumentGlobal")}(e),this.Ls(i))))),n<7&&r>=7&&(o=o.next((()=>this.Us(i)))),n<8&&r>=8&&(o=o.next((()=>this.qs(e,i)))),n<9&&r>=9&&(o=o.next((()=>{!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e)}))),n<10&&r>=10&&(o=o.next((()=>this.Ks(i)))),n<11&&r>=11&&(o=o.next((()=>{!function(e){e.createObjectStore("bundles",{keyPath:"bundleId"})}(e),function(e){e.createObjectStore("namedQueries",{keyPath:"name"})}(e)}))),n<12&&r>=12&&(o=o.next((()=>{!function(e){const t=e.createObjectStore("documentOverlays",{keyPath:Ll});t.createIndex("collectionPathOverlayIndex",Fl,{unique:!1}),t.createIndex("collectionGroupOverlayIndex",Ml,{unique:!1})}(e)}))),n<13&&r>=13&&(o=o.next((()=>function(e){const t=e.createObjectStore("remoteDocumentsV14",{keyPath:Il});t.createIndex("documentKeyIndex",xl),t.createIndex("collectionGroupIndex",El)}(e))).next((()=>this.Gs(e,i))).next((()=>e.deleteObjectStore("remoteDocuments")))),n<14&&r>=14&&(o=o.next((()=>this.Qs(e,i)))),n<15&&r>=15&&(o=o.next((()=>function(e){e.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),e.createObjectStore("indexState",{keyPath:Ol}).createIndex("sequenceNumberIndex",Nl,{unique:!1}),e.createObjectStore("indexEntries",{keyPath:Pl}).createIndex("documentKeyIndex",Dl,{unique:!1})}(e)))),o}Ls(e){let t=0;return e.store("remoteDocuments").J(((e,n)=>{t+=Fu(n)})).next((()=>{const n={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",n)}))}Bs(e){const t=e.store("mutationQueues"),n=e.store("mutations");return t.K().next((t=>Di.forEach(t,(t=>{const r=IDBKeyRange.bound([t.userId,-1],[t.userId,t.lastAcknowledgedBatchId]);return n.K("userMutationsIndex",r).next((n=>Di.forEach(n,(n=>{Yr(n.userId===t.userId);const r=tu(this.wt,n);return Lu(e,t.userId,r).next((()=>{}))}))))}))))}Us(e){const t=e.store("targetDocuments"),n=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next((e=>{const r=[];return n.J(((n,i)=>{const o=new yi(n),s=function(e){return[0,gl(e)]}(o);r.push(t.get(s).next((n=>n?Di.resolve():(n=>t.put({targetId:0,path:gl(n),sequenceNumber:e.highestListenSequenceNumber}))(o))))})).next((()=>Di.waitFor(r)))}))}qs(e,t){e.createObjectStore("collectionParents",{keyPath:Rl});const n=t.store("collectionParents"),r=new xu,i=e=>{if(r.add(e)){const t=e.lastSegment(),r=e.popLast();return n.put({collectionId:t,parent:gl(r)})}};return t.store("remoteDocuments").J({H:!0},((e,t)=>{const n=new yi(e);return i(n.popLast())})).next((()=>t.store("documentMutations").J({H:!0},(([e,t,n],r)=>{const o=bl(t);return i(o.popLast())}))))}Ks(e){const t=e.store("targets");return t.J(((e,n)=>{const r=nu(n),i=ru(this.wt,r);return t.put(i)}))}Gs(e,t){const n=t.store("remoteDocuments"),r=[];return n.J(((e,n)=>{const i=t.store("remoteDocumentsV14"),o=(s=n,s.document?new _i(yi.fromString(s.document.name).popFirst(5)):s.noDocument?_i.fromSegments(s.noDocument.path):s.unknownDocument?_i.fromSegments(s.unknownDocument.path):Zr()).path.toArray();var s;
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a={prefixPath:o.slice(0,o.length-2),collectionGroup:o[o.length-2],documentId:o[o.length-1],readTime:n.readTime||[0,0],unknownDocument:n.unknownDocument,noDocument:n.noDocument,document:n.document,hasCommittedMutations:!!n.hasCommittedMutations};r.push(i.put(a))})).next((()=>Di.waitFor(r)))}Qs(e,t){const n=t.store("mutations"),r=tc(this.wt),i=new yc(wc.Os,this.wt.ne);return n.K().next((e=>{const n=new Map;return e.forEach((e=>{var t;let r=null!==(t=n.get(e.userId))&&void 0!==t?t:ka();tu(this.wt,e).keys().forEach((e=>r=r.add(e))),n.set(e.userId,r)})),Di.forEach(n,((e,n)=>{const o=new Br(n),s=hu.se(this.wt,o),a=i.getIndexManager(o),l=Mu.se(o,this.wt,a,i.referenceDelegate);return new uc(r,l,s,a).recalculateAndSaveOverlaysForDocumentKeys(new zl(t,Ki.ot),e).next()}))}))}}function Sc(e){e.createObjectStore("targetDocuments",{keyPath:Cl}).createIndex("documentTargetsIndex",Al,{unique:!0}),e.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",Tl,{unique:!0}),e.createObjectStore("targetGlobal")}const kc="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class Ic{constructor(e,t,n,r,i,o,s,a,l,u,c=15){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=n,this.js=i,this.window=o,this.document=s,this.Ws=l,this.zs=u,this.Hs=c,this.Ps=null,this.vs=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Js=null,this.inForeground=!1,this.Ys=null,this.Xs=null,this.Zs=Number.NEGATIVE_INFINITY,this.ti=e=>Promise.resolve(),!Ic.V())throw new ei(Xr.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Qu(this,r),this.ei=t+"main",this.wt=new Zl(a),this.ni=new Fi(this.ei,this.Hs,new _c(this.wt)),this.Vs=new zu(this.referenceDelegate,this.wt),this.remoteDocumentCache=tc(this.wt),this.Ds=new lu,this.window&&this.window.localStorage?this.si=this.window.localStorage:(this.si=null,!1===u&&Kr("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.ii().then((()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new ei(Xr.FAILED_PRECONDITION,kc);return this.ri(),this.oi(),this.ui(),this.runTransaction("getHighestListenSequenceNumber","readonly",(e=>this.Vs.getHighestSequenceNumber(e)))})).then((e=>{this.Ps=new Ki(e,this.Ws)})).then((()=>{this.vs=!0})).catch((e=>(this.ni&&this.ni.close(),Promise.reject(e))))}ci(e){return this.ti=async t=>{if(this.started)return e(t)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.ni.F((async t=>{null===t.newVersion&&await e()}))}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.js.enqueueAndForget((async()=>{this.started&&await this.ii()})))}ii(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(e=>Ec(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next((()=>{if(this.isPrimary)return this.ai(e).next((e=>{e||(this.isPrimary=!1,this.js.enqueueRetryable((()=>this.ti(!1))))}))})).next((()=>this.hi(e))).next((t=>this.isPrimary&&!t?this.li(e).next((()=>!1)):!!t&&this.fi(e).next((()=>!0)))))).catch((e=>{if(Ui(e))return Hr("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Hr("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1})).then((e=>{this.isPrimary!==e&&this.js.enqueueRetryable((()=>this.ti(e))),this.isPrimary=e}))}ai(e){return xc(e).get("owner").next((e=>Di.resolve(this.di(e))))}_i(e){return Ec(e).delete(this.clientId)}async wi(){if(this.isPrimary&&!this.mi(this.Zs,18e5)){this.Zs=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(e=>{const t=$l(e,"clientMetadata");return t.K().next((e=>{const n=this.gi(e,18e5),r=e.filter((e=>-1===n.indexOf(e)));return Di.forEach(r,(e=>t.delete(e.clientId))).next((()=>r))}))})).catch((()=>[]));if(this.si)for(const t of e)this.si.removeItem(this.yi(t.clientId))}}ui(){this.Xs=this.js.enqueueAfterDelay("client_metadata_refresh",4e3,(()=>this.ii().then((()=>this.wi())).then((()=>this.ui()))))}di(e){return!!e&&e.ownerId===this.clientId}hi(e){return this.zs?Di.resolve(!0):xc(e).get("owner").next((t=>{if(null!==t&&this.mi(t.leaseTimestampMs,5e3)&&!this.pi(t.ownerId)){if(this.di(t)&&this.networkEnabled)return!0;if(!this.di(t)){if(!t.allowTabSynchronization)throw new ei(Xr.FAILED_PRECONDITION,kc);return!1}}return!(!this.networkEnabled||!this.inForeground)||Ec(e).K().next((e=>void 0===this.gi(e,5e3).find((e=>{if(this.clientId!==e.clientId){const t=!this.networkEnabled&&e.networkEnabled,n=!this.inForeground&&e.inForeground,r=this.networkEnabled===e.networkEnabled;if(t||n&&r)return!0}return!1}))))})).next((e=>(this.isPrimary!==e&&Hr("IndexedDbPersistence",`Client ${e?"is":"is not"} eligible for a primary lease.`),e)))}async shutdown(){this.vs=!1,this.Ii(),this.Xs&&(this.Xs.cancel(),this.Xs=null),this.Ti(),this.Ei(),await this.ni.runTransaction("shutdown","readwrite",["owner","clientMetadata"],(e=>{const t=new zl(e,Ki.ot);return this.li(t).next((()=>this._i(t)))})),this.ni.close(),this.Ai()}gi(e,t){return e.filter((e=>this.mi(e.updateTimeMs,t)&&!this.pi(e.clientId)))}Ri(){return this.runTransaction("getActiveClients","readonly",(e=>Ec(e).K().next((e=>this.gi(e,18e5).map((e=>e.clientId))))))}get started(){return this.vs}getMutationQueue(e,t){return Mu.se(e,this.wt,t,this.referenceDelegate)}getTargetCache(){return this.Vs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new Tu(e,this.wt.ne.databaseId)}getDocumentOverlayCache(e){return hu.se(this.wt,e)}getBundleCache(){return this.Ds}runTransaction(e,t,n){Hr("IndexedDbPersistence","Starting transaction:",e);const r="readonly"===t?"readonly":"readwrite",i=15===(o=this.Hs)?jl:14===o?Vl:13===o?Bl:12===o?Ul:11===o?ql:void Zr();var o;let s;return this.ni.runTransaction(e,r,i,(r=>(s=new zl(r,this.Ps?this.Ps.next():Ki.ot),"readwrite-primary"===t?this.ai(s).next((e=>!!e||this.hi(s))).next((t=>{if(!t)throw Kr(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.js.enqueueRetryable((()=>this.ti(!1))),new ei(Xr.FAILED_PRECONDITION,Oi);return n(s)})).next((e=>this.fi(s).next((()=>e)))):this.bi(s).next((()=>n(s)))))).then((e=>(s.raiseOnCommittedEvent(),e)))}bi(e){return xc(e).get("owner").next((e=>{if(null!==e&&this.mi(e.leaseTimestampMs,5e3)&&!this.pi(e.ownerId)&&!this.di(e)&&!(this.zs||this.allowTabSynchronization&&e.allowTabSynchronization))throw new ei(Xr.FAILED_PRECONDITION,kc)}))}fi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return xc(e).put("owner",t)}static V(){return Fi.V()}li(e){const t=xc(e);return t.get("owner").next((e=>this.di(e)?(Hr("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):Di.resolve()))}mi(e,t){const n=Date.now();return!(e<n-t)&&(!(e>n)||(Kr(`Detected an update time that is in the future: ${e} > ${n}`),!1))}ri(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Ys=()=>{this.js.enqueueAndForget((()=>(this.inForeground="visible"===this.document.visibilityState,this.ii())))},this.document.addEventListener("visibilitychange",this.Ys),this.inForeground="visible"===this.document.visibilityState)}Ti(){this.Ys&&(this.document.removeEventListener("visibilitychange",this.Ys),this.Ys=null)}oi(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Js=()=>{this.Ii(),(0,a.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.js.enterRestrictedMode(!0),this.js.enqueueAndForget((()=>this.shutdown()))},this.window.addEventListener("pagehide",this.Js))}Ei(){this.Js&&(this.window.removeEventListener("pagehide",this.Js),this.Js=null)}pi(e){var t;try{const n=null!==(null===(t=this.si)||void 0===t?void 0:t.getItem(this.yi(e)));return Hr("IndexedDbPersistence",`Client '${e}' ${n?"is":"is not"} zombied in LocalStorage`),n}catch(e){return Kr("IndexedDbPersistence","Failed to get zombied client id.",e),!1}}Ii(){if(this.si)try{this.si.setItem(this.yi(this.clientId),String(Date.now()))}catch(S){Kr("Failed to set zombie client id.",S)}}Ai(){if(this.si)try{this.si.removeItem(this.yi(this.clientId))}catch(S){}}yi(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function xc(e){return $l(e,"owner")}function Ec(e){return $l(e,"clientMetadata")}function Tc(e,t){let n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}class Cc{constructor(e,t,n,r){this.targetId=e,this.fromCache=t,this.Pi=n,this.vi=r}static Vi(e,t){let n=ka(),r=ka();for(const i of t.docChanges)switch(i.type){case 0:n=n.add(i.doc.key);break;case 1:r=r.add(i.doc.key)}return new Cc(e,t.fromCache,n,r)}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ac{constructor(){this.Si=!1}initialize(e,t){this.Di=e,this.indexManager=t,this.Si=!0}getDocumentsMatchingQuery(e,t,n,r){return this.Ci(e,t).next((i=>i||this.xi(e,t,r,n))).next((n=>n||this.Ni(e,t)))}Ci(e,t){if(ps(t))return Di.resolve(null);let n=bs(t);return this.indexManager.getIndexType(e,n).next((r=>0===r?null:(null!==t.limit&&1===r&&(t=ws(t,null,"F"),n=bs(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next((r=>{const i=ka(...r);return this.Di.getDocuments(e,i).next((r=>this.indexManager.getMinOffset(e,n).next((n=>{const o=this.ki(t,r);return this.Mi(t,o,i,n.readTime)?this.Ci(e,ws(t,null,"F")):this.Oi(e,o,t,n)}))))})))))}xi(e,t,n,r){return ps(t)||r.isEqual(gi.min())?this.Ni(e,t):this.Di.getDocuments(e,n).next((i=>{const o=this.ki(t,i);return this.Mi(t,o,n,r)?this.Ni(e,t):(zr()<=s["in"].DEBUG&&Hr("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),ks(t)),this.Oi(e,o,t,Ti(r,-1)))}))}ki(e,t){let n=new Xi(Es(e));return t.forEach(((t,r)=>{Is(e,r)&&(n=n.add(r))})),n}Mi(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;const i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}Ni(e,t){return zr()<=s["in"].DEBUG&&Hr("QueryEngine","Using full collection scan to execute query:",ks(t)),this.Di.getDocumentsMatchingQuery(e,t,Ai.min())}Oi(e,t,n,r){return this.Di.getDocumentsMatchingQuery(e,n,r).next((e=>(t.forEach((t=>{e=e.insert(t.key,t)})),e)))}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rc{constructor(e,t,n,r){this.persistence=e,this.Fi=t,this.wt=r,this.$i=new Yi(di),this.Bi=new da((e=>$o(e)),Ko),this.Li=new Map,this.Ui=e.getRemoteDocumentCache(),this.Vs=e.getTargetCache(),this.Ds=e.getBundleCache(),this.qi(n)}qi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new uc(this.Ui,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ui.setIndexManager(this.indexManager),this.Fi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.$i)))}}function Oc(e,t,n,r){return new Rc(e,t,n,r)}async function Nc(e,t){const n=Jr(e);return await n.persistence.runTransaction("Handle user change","readonly",(e=>{let r;return n.mutationQueue.getAllMutationBatches(e).next((i=>(r=i,n.qi(t),n.mutationQueue.getAllMutationBatches(e)))).next((t=>{const i=[],o=[];let s=ka();for(const e of r){i.push(e.batchId);for(const t of e.mutations)s=s.add(t.key)}for(const e of t){o.push(e.batchId);for(const t of e.mutations)s=s.add(t.key)}return n.localDocuments.getDocuments(e,s).next((e=>({Ki:e,removedBatchIds:i,addedBatchIds:o})))}))}))}function Pc(e,t){const n=Jr(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(e=>{const r=t.batch.keys(),i=n.Ui.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){const i=n.batch,o=i.keys();let s=Di.resolve();return o.forEach((e=>{s=s.next((()=>r.getEntry(t,e))).next((t=>{const o=n.docVersions.get(e);Yr(null!==o),t.version.compareTo(o)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),s.next((()=>e.mutationQueue.removeMutationBatch(t,i)))}(n,e,t,i).next((()=>i.apply(e))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){let t=ka();for(let n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t)))).next((()=>n.localDocuments.getDocuments(e,r)))}))}function Dc(e){const t=Jr(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(e=>t.Vs.getLastRemoteSnapshotVersion(e)))}function Lc(e,t){const n=Jr(e),r=t.snapshotVersion;let i=n.$i;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(e=>{const o=n.Ui.newChangeBuffer({trackRemovals:!0});i=n.$i;const s=[];t.targetChanges.forEach(((o,a)=>{const l=i.get(a);if(!l)return;s.push(n.Vs.removeMatchingKeys(e,o.removedDocuments,a).next((()=>n.Vs.addMatchingKeys(e,o.addedDocuments,a))));let u=l.withSequenceNumber(e.currentSequenceNumber);t.targetMismatches.has(a)?u=u.withResumeToken(io.EMPTY_BYTE_STRING,gi.min()).withLastLimboFreeSnapshotVersion(gi.min()):o.resumeToken.approximateByteSize()>0&&(u=u.withResumeToken(o.resumeToken,r)),i=i.insert(a,u),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(l,u,o)&&s.push(n.Vs.updateTargetData(e,u))}));let a=pa(),l=ka();if(t.documentUpdates.forEach((r=>{t.resolvedLimboDocuments.has(r)&&s.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),s.push(Fc(e,o,t.documentUpdates).next((e=>{a=e.Gi,l=e.Qi}))),!r.isEqual(gi.min())){const t=n.Vs.getLastRemoteSnapshotVersion(e).next((t=>n.Vs.setTargetsMetadata(e,e.currentSequenceNumber,r)));s.push(t)}return Di.waitFor(s).next((()=>o.apply(e))).next((()=>n.localDocuments.getLocalViewOfDocuments(e,a,l))).next((()=>a))})).then((e=>(n.$i=i,e)))}function Fc(e,t,n){let r=ka(),i=ka();return n.forEach((e=>r=r.add(e))),t.getEntries(e,r).next((e=>{let r=pa();return n.forEach(((n,o)=>{const s=e.get(n);o.isFoundDocument()!==s.isFoundDocument()&&(i=i.add(n)),o.isNoDocument()&&o.version.isEqual(gi.min())?(t.removeEntry(n,o.readTime),r=r.insert(n,o)):!s.isValidDocument()||o.version.compareTo(s.version)>0||0===o.version.compareTo(s.version)&&s.hasPendingWrites?(t.addEntry(o),r=r.insert(n,o)):Hr("LocalStore","Ignoring outdated watch update for ",n,". Current version:",s.version," Watch version:",o.version)})),{Gi:r,Qi:i}}))}function Mc(e,t){const n=Jr(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(e=>(void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t))))}function qc(e,t){const n=Jr(e);return n.persistence.runTransaction("Allocate target","readwrite",(e=>{let r;return n.Vs.getTargetData(e,t).next((i=>i?(r=i,Di.resolve(r)):n.Vs.allocateTargetId(e).next((i=>(r=new Gl(t,i,0,e.currentSequenceNumber),n.Vs.addTargetData(e,r).next((()=>r)))))))})).then((e=>{const r=n.$i.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.$i=n.$i.insert(e.targetId,e),n.Bi.set(t,e.targetId)),e}))}async function Uc(e,t,n){const r=Jr(e),i=r.$i.get(t),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,(e=>r.persistence.referenceDelegate.removeTarget(e,i)))}catch(e){if(!Ui(e))throw e;Hr("LocalStore",`Failed to update sequence numbers for target ${t}: ${e}`)}r.$i=r.$i.remove(t),r.Bi.delete(i.target)}function Bc(e,t,n){const r=Jr(e);let i=gi.min(),o=ka();return r.persistence.runTransaction("Execute query","readonly",(e=>function(e,t,n){const r=Jr(e),i=r.Bi.get(n);return void 0!==i?Di.resolve(r.$i.get(i)):r.Vs.getTargetData(t,n)}(r,e,bs(t)).next((t=>{if(t)return i=t.lastLimboFreeSnapshotVersion,r.Vs.getMatchingKeysForTargetId(e,t.targetId).next((e=>{o=e}))})).next((()=>r.Fi.getDocumentsMatchingQuery(e,t,n?i:gi.min(),n?o:ka()))).next((e=>(zc(r,xs(t),e),{documents:e,ji:o})))))}function Vc(e,t){const n=Jr(e),r=Jr(n.Vs),i=n.$i.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(e=>r.te(e,t).next((e=>e?e.target:null))))}function jc(e,t){const n=Jr(e),r=n.Li.get(t)||gi.min();return n.persistence.runTransaction("Get new document changes","readonly",(e=>n.Ui.getAllFromCollectionGroup(e,t,Ti(r,-1),Number.MAX_SAFE_INTEGER))).then((e=>(zc(n,t,e),e)))}function zc(e,t,n){let r=gi.min();n.forEach(((e,t)=>{t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.Li.set(t,r)}async function $c(e,t,n,r){const i=Jr(e);let o=ka(),s=pa();for(const u of n){const e=t.Wi(u.metadata.name);u.document&&(o=o.add(e));const n=t.zi(u);n.setReadTime(t.Hi(u.metadata.readTime)),s=s.insert(e,n)}const a=i.Ui.newChangeBuffer({trackRemovals:!0}),l=await qc(i,function(e){return bs(fs(yi.fromString(`__bundle__/docs/${e}`)))}(r));return i.persistence.runTransaction("Apply bundle documents","readwrite",(e=>Fc(e,a,s).next((t=>(a.apply(e),t))).next((t=>i.Vs.removeMatchingKeysForTargetId(e,l.targetId).next((()=>i.Vs.addMatchingKeys(e,o,l.targetId))).next((()=>i.localDocuments.getLocalViewOfDocuments(e,t.Gi,t.Qi))).next((()=>t.Gi))))))}async function Hc(e,t,n=ka()){const r=await qc(e,bs(iu(t.bundledQuery))),i=Jr(e);return i.persistence.runTransaction("Save named query","readwrite",(e=>{const o=Va(t.readTime);if(r.snapshotVersion.compareTo(o)>=0)return i.Ds.saveNamedQuery(e,t);const s=r.withResumeToken(io.EMPTY_BYTE_STRING,o);return i.$i=i.$i.insert(s.targetId,s),i.Vs.updateTargetData(e,s).next((()=>i.Vs.removeMatchingKeysForTargetId(e,r.targetId))).next((()=>i.Vs.addMatchingKeys(e,n,r.targetId))).next((()=>i.Ds.saveNamedQuery(e,t)))}))}function Kc(e,t){return`firestore_clients_${e}_${t}`}function Wc(e,t,n){let r=`firestore_mutations_${e}_${n}`;return t.isAuthenticated()&&(r+=`_${t.uid}`),r}function Gc(e,t){return`firestore_targets_${e}_${t}`}class Zc{constructor(e,t,n,r){this.user=e,this.batchId=t,this.state=n,this.error=r}static Ji(e,t,n){const r=JSON.parse(n);let i,o="object"==typeof r&&-1!==["pending","acknowledged","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return o&&r.error&&(o="string"==typeof r.error.message&&"string"==typeof r.error.code,o&&(i=new ei(r.error.code,r.error.message))),o?new Zc(e,t,r.state,i):(Kr("SharedClientState",`Failed to parse mutation state for ID '${t}': ${n}`),null)}Yi(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Yc{constructor(e,t,n){this.targetId=e,this.state=t,this.error=n}static Ji(e,t){const n=JSON.parse(t);let r,i="object"==typeof n&&-1!==["not-current","current","rejected"].indexOf(n.state)&&(void 0===n.error||"object"==typeof n.error);return i&&n.error&&(i="string"==typeof n.error.message&&"string"==typeof n.error.code,i&&(r=new ei(n.error.code,n.error.message))),i?new Yc(e,n.state,r):(Kr("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}Yi(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Qc{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Ji(e,t){const n=JSON.parse(t);let r="object"==typeof n&&n.activeTargetIds instanceof Array,i=xa();for(let o=0;r&&o<n.activeTargetIds.length;++o)r=vo(n.activeTargetIds[o]),i=i.add(n.activeTargetIds[o]);return r?new Qc(e,i):(Kr("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class Jc{constructor(e,t){this.clientId=e,this.onlineState=t}static Ji(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new Jc(t.clientId,t.onlineState):(Kr("SharedClientState",`Failed to parse online state: ${e}`),null)}}class Xc{constructor(){this.activeTargetIds=xa()}Xi(e){this.activeTargetIds=this.activeTargetIds.add(e)}Zi(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Yi(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class eh{constructor(e,t,n,r,i){this.window=e,this.js=t,this.persistenceKey=n,this.tr=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.er=this.nr.bind(this),this.sr=new Yi(di),this.started=!1,this.ir=[];const o=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.rr=Kc(this.persistenceKey,this.tr),this.ur=function(e){return`firestore_sequence_number_${e}`}
/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(this.persistenceKey),this.sr=this.sr.insert(this.tr,new Xc),this.cr=new RegExp(`^firestore_clients_${o}_([^_]*)$`),this.ar=new RegExp(`^firestore_mutations_${o}_(\\d+)(?:_(.*))?$`),this.hr=new RegExp(`^firestore_targets_${o}_(\\d+)$`),this.lr=function(e){return`firestore_online_state_${e}`}(this.persistenceKey),this.dr=function(e){return`firestore_bundle_loaded_v2_${e}`}(this.persistenceKey),this.window.addEventListener("storage",this.er)}static V(e){return!(!e||!e.localStorage)}async start(){const e=await this.syncEngine.Ri();for(const n of e){if(n===this.tr)continue;const e=this.getItem(Kc(this.persistenceKey,n));if(e){const t=Qc.Ji(n,e);t&&(this.sr=this.sr.insert(t.clientId,t))}}this._r();const t=this.storage.getItem(this.lr);if(t){const e=this.wr(t);e&&this.mr(e)}for(const n of this.ir)this.nr(n);this.ir=[],this.window.addEventListener("pagehide",(()=>this.shutdown())),this.started=!0}writeSequenceNumber(e){this.setItem(this.ur,JSON.stringify(e))}getAllActiveQueryTargets(){return this.gr(this.sr)}isActiveQueryTarget(e){let t=!1;return this.sr.forEach(((n,r)=>{r.activeTargetIds.has(e)&&(t=!0)})),t}addPendingMutation(e){this.yr(e,"pending")}updateMutationState(e,t,n){this.yr(e,t,n),this.pr(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const n=this.storage.getItem(Gc(this.persistenceKey,e));if(n){const r=Yc.Ji(e,n);r&&(t=r.state)}}return this.Ir.Xi(e),this._r(),t}removeLocalQueryTarget(e){this.Ir.Zi(e),this._r()}isLocalQueryTarget(e){return this.Ir.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(Gc(this.persistenceKey,e))}updateQueryState(e,t,n){this.Tr(e,t,n)}handleUserChange(e,t,n){t.forEach((e=>{this.pr(e)})),this.currentUser=e,n.forEach((e=>{this.addPendingMutation(e)}))}setOnlineState(e){this.Er(e)}notifyBundleLoaded(e){this.Ar(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.er),this.removeItem(this.rr),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return Hr("SharedClientState","READ",e,t),t}setItem(e,t){Hr("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){Hr("SharedClientState","REMOVE",e),this.storage.removeItem(e)}nr(e){const t=e;if(t.storageArea===this.storage){if(Hr("SharedClientState","EVENT",t.key,t.newValue),t.key===this.rr)return void Kr("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.js.enqueueRetryable((async()=>{if(this.started){if(null!==t.key)if(this.cr.test(t.key)){if(null==t.newValue){const e=this.Rr(t.key);return this.br(e,null)}{const e=this.Pr(t.key,t.newValue);if(e)return this.br(e.clientId,e)}}else if(this.ar.test(t.key)){if(null!==t.newValue){const e=this.vr(t.key,t.newValue);if(e)return this.Vr(e)}}else if(this.hr.test(t.key)){if(null!==t.newValue){const e=this.Sr(t.key,t.newValue);if(e)return this.Dr(e)}}else if(t.key===this.lr){if(null!==t.newValue){const e=this.wr(t.newValue);if(e)return this.mr(e)}}else if(t.key===this.ur){const e=function(e){let t=Ki.ot;if(null!=e)try{const n=JSON.parse(e);Yr("number"==typeof n),t=n}catch(e){Kr("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(t.newValue);e!==Ki.ot&&this.sequenceNumberHandler(e)}else if(t.key===this.dr){const e=this.Cr(t.newValue);await Promise.all(e.map((e=>this.syncEngine.Nr(e))))}}else this.ir.push(t)}))}}get Ir(){return this.sr.get(this.tr)}_r(){this.setItem(this.rr,this.Ir.Yi())}yr(e,t,n){const r=new Zc(this.currentUser,e,t,n),i=Wc(this.persistenceKey,this.currentUser,e);this.setItem(i,r.Yi())}pr(e){const t=Wc(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Er(e){const t={clientId:this.tr,onlineState:e};this.storage.setItem(this.lr,JSON.stringify(t))}Tr(e,t,n){const r=Gc(this.persistenceKey,e),i=new Yc(e,t,n);this.setItem(r,i.Yi())}Ar(e){const t=JSON.stringify(Array.from(e));this.setItem(this.dr,t)}Rr(e){const t=this.cr.exec(e);return t?t[1]:null}Pr(e,t){const n=this.Rr(e);return Qc.Ji(n,t)}vr(e,t){const n=this.ar.exec(e),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return Zc.Ji(new Br(i),r,t)}Sr(e,t){const n=this.hr.exec(e),r=Number(n[1]);return Yc.Ji(r,t)}wr(e){return Jc.Ji(e)}Cr(e){return JSON.parse(e)}async Vr(e){if(e.user.uid===this.currentUser.uid)return this.syncEngine.kr(e.batchId,e.state,e.error);Hr("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)}Dr(e){return this.syncEngine.Mr(e.targetId,e.state,e.error)}br(e,t){const n=t?this.sr.insert(e,t):this.sr.remove(e),r=this.gr(this.sr),i=this.gr(n),o=[],s=[];return i.forEach((e=>{r.has(e)||o.push(e)})),r.forEach((e=>{i.has(e)||s.push(e)})),this.syncEngine.Or(o,s).then((()=>{this.sr=n}))}mr(e){this.sr.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}gr(e){let t=xa();return e.forEach(((e,n)=>{t=t.unionWith(n.activeTargetIds)})),t}}class th{constructor(){this.Fr=new Xc,this.$r={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e){return this.Fr.Xi(e),this.$r[e]||"not-current"}updateQueryState(e,t,n){this.$r[e]=t}removeLocalQueryTarget(e){this.Fr.Zi(e)}isLocalQueryTarget(e){return this.Fr.activeTargetIds.has(e)}clearQueryState(e){delete this.$r[e]}getAllActiveQueryTargets(){return this.Fr.activeTargetIds}isActiveQueryTarget(e){return this.Fr.activeTargetIds.has(e)}start(){return this.Fr=new Xc,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nh{Br(e){}shutdown(){}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rh{constructor(){this.Lr=()=>this.Ur(),this.qr=()=>this.Kr(),this.Gr=[],this.Qr()}Br(e){this.Gr.push(e)}shutdown(){window.removeEventListener("online",this.Lr),window.removeEventListener("offline",this.qr)}Qr(){window.addEventListener("online",this.Lr),window.addEventListener("offline",this.qr)}Ur(){Hr("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Gr)e(0)}Kr(){Hr("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Gr)e(1)}static V(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ih={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oh{constructor(e){this.jr=e.jr,this.Wr=e.Wr}zr(e){this.Hr=e}Jr(e){this.Yr=e}onMessage(e){this.Xr=e}close(){this.Wr()}send(e){this.jr(e)}Zr(){this.Hr()}eo(e){this.Yr(e)}no(e){this.Xr(e)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sh extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http";this.so=t+"://"+e.host,this.io="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}ro(e,t,n,r,i){const o=this.oo(e,t);Hr("RestConnection","Sending: ",o,n);const s={};return this.uo(s,r,i),this.co(e,o,s,n).then((e=>(Hr("RestConnection","Received: ",e),e)),(t=>{throw Wr("RestConnection",`${e} failed with error: `,t,"url: ",o,"request:",n),t}))}ao(e,t,n,r,i,o){return this.ro(e,t,n,r,i)}uo(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+Vr,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((t,n)=>e[n]=t)),n&&n.headers.forEach(((t,n)=>e[n]=t))}oo(e,t){const n=ih[e];return`${this.so}/v1/${t}:${n}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}co(e,t,n,r){return new Promise(((i,o)=>{const s=new qr;s.listenOnce(Pr.COMPLETE,(()=>{try{switch(s.getLastErrorCode()){case Nr.NO_ERROR:const t=s.getResponseJson();Hr("Connection","XHR received:",JSON.stringify(t)),i(t);break;case Nr.TIMEOUT:Hr("Connection",'RPC "'+e+'" timed out'),o(new ei(Xr.DEADLINE_EXCEEDED,"Request time out"));break;case Nr.HTTP_ERROR:const n=s.getStatus();if(Hr("Connection",'RPC "'+e+'" failed with status:',n,"response text:",s.getResponseText()),n>0){const e=s.getResponseJson().error;if(e&&e.status&&e.message){const t=function(e){const t=e.toLowerCase().replace(/_/g,"-");return Object.values(Xr).indexOf(t)>=0?t:Xr.UNKNOWN}(e.status);o(new ei(t,e.message))}else o(new ei(Xr.UNKNOWN,"Server responded with status "+s.getStatus()))}else o(new ei(Xr.UNAVAILABLE,"Connection failed."));break;default:Zr()}}finally{Hr("Connection",'RPC "'+e+'" completed.')}}));const a=JSON.stringify(r);s.send(t,"POST",a,n,15)}))}ho(e,t,n){const r=[this.so,"/","google.firestore.v1.Firestore","/",e,"/channel"],i=Rr(),o=Or(),s={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(s.xmlHttpFactory=new Fr({})),this.uo(s.initMessageHeaders,t,n),(0,a.uI)()||(0,a.b$)()||(0,a.d)()||(0,a.w1)()||(0,a.Mn)()||(0,a.ru)()||(s.httpHeadersOverwriteParam="$httpHeaders");const l=r.join("");Hr("Connection","Creating WebChannel: "+l,s);const u=i.createWebChannel(l,s);let c=!1,h=!1;const d=new oh({jr:e=>{h?Hr("Connection","Not sending because WebChannel is closed:",e):(c||(Hr("Connection","Opening WebChannel transport."),u.open(),c=!0),Hr("Connection","WebChannel sending:",e),u.send(e))},Wr:()=>u.close()}),f=(e,t,n)=>{e.listen(t,(e=>{try{n(e)}catch(e){setTimeout((()=>{throw e}),0)}}))};return f(u,Mr.EventType.OPEN,(()=>{h||Hr("Connection","WebChannel transport opened.")})),f(u,Mr.EventType.CLOSE,(()=>{h||(h=!0,Hr("Connection","WebChannel transport closed"),d.eo())})),f(u,Mr.EventType.ERROR,(e=>{h||(h=!0,Wr("Connection","WebChannel transport errored:",e),d.eo(new ei(Xr.UNAVAILABLE,"The operation could not be completed")))})),f(u,Mr.EventType.MESSAGE,(e=>{var t;if(!h){const n=e.data[0];Yr(!!n);const r=n,i=r.error||(null===(t=r[0])||void 0===t?void 0:t.error);if(i){Hr("Connection","WebChannel received error:",i);const e=i.status;let t=function(e){const t=la[e];if(void 0!==t)return ha(t)}(e),n=i.message;void 0===t&&(t=Xr.INTERNAL,n="Unknown error status: "+e+" with message "+i.message),h=!0,d.eo(new ei(t,n)),u.close()}else Hr("Connection","WebChannel received:",n),d.no(n)}})),f(o,Dr.STAT_EVENT,(e=>{e.stat===Lr.PROXY?Hr("Connection","Detected buffering proxy"):e.stat===Lr.NOPROXY&&Hr("Connection","Detected no buffering proxy")})),setTimeout((()=>{d.Zr()}),0),d}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ah(){return"undefined"!=typeof window?window:null}function lh(){return"undefined"!=typeof document?document:null}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uh(e){return new Ma(e,!0)}class ch{constructor(e,t,n=1e3,r=1.5,i=6e4){this.js=e,this.timerId=t,this.lo=n,this.fo=r,this._o=i,this.wo=0,this.mo=null,this.yo=Date.now(),this.reset()}reset(){this.wo=0}po(){this.wo=this._o}Io(e){this.cancel();const t=Math.floor(this.wo+this.To()),n=Math.max(0,Date.now()-this.yo),r=Math.max(0,t-n);r>0&&Hr("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.wo} ms, delay with jitter: ${t} ms, last attempt: ${n} ms ago)`),this.mo=this.js.enqueueAfterDelay(this.timerId,r,(()=>(this.yo=Date.now(),e()))),this.wo*=this.fo,this.wo<this.lo&&(this.wo=this.lo),this.wo>this._o&&(this.wo=this._o)}Eo(){null!==this.mo&&(this.mo.skipDelay(),this.mo=null)}cancel(){null!==this.mo&&(this.mo.cancel(),this.mo=null)}To(){return(Math.random()-.5)*this.wo}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hh{constructor(e,t,n,r,i,o,s,a){this.js=e,this.Ao=n,this.Ro=r,this.bo=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=s,this.listener=a,this.state=0,this.Po=0,this.vo=null,this.Vo=null,this.stream=null,this.So=new ch(e,t)}Do(){return 1===this.state||5===this.state||this.Co()}Co(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.xo()}async stop(){this.Do()&&await this.close(0)}No(){this.state=0,this.So.reset()}ko(){this.Co()&&null===this.vo&&(this.vo=this.js.enqueueAfterDelay(this.Ao,6e4,(()=>this.Mo())))}Oo(e){this.Fo(),this.stream.send(e)}async Mo(){if(this.Co())return this.close(0)}Fo(){this.vo&&(this.vo.cancel(),this.vo=null)}$o(){this.Vo&&(this.Vo.cancel(),this.Vo=null)}async close(e,t){this.Fo(),this.$o(),this.So.cancel(),this.Po++,4!==e?this.So.reset():t&&t.code===Xr.RESOURCE_EXHAUSTED?(Kr(t.toString()),Kr("Using maximum backoff delay to prevent overloading the backend."),this.So.po()):t&&t.code===Xr.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.Bo(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Jr(t)}Bo(){}auth(){this.state=1;const e=this.Lo(this.Po),t=this.Po;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([e,n])=>{this.Po===t&&this.Uo(e,n)}),(t=>{e((()=>{const e=new ei(Xr.UNKNOWN,"Fetching auth token failed: "+t.message);return this.qo(e)}))}))}Uo(e,t){const n=this.Lo(this.Po);this.stream=this.Ko(e,t),this.stream.zr((()=>{n((()=>(this.state=2,this.Vo=this.js.enqueueAfterDelay(this.Ro,1e4,(()=>(this.Co()&&(this.state=3),Promise.resolve()))),this.listener.zr())))})),this.stream.Jr((e=>{n((()=>this.qo(e)))})),this.stream.onMessage((e=>{n((()=>this.onMessage(e)))}))}xo(){this.state=5,this.So.Io((async()=>{this.state=0,this.start()}))}qo(e){return Hr("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Lo(e){return t=>{this.js.enqueueAndForget((()=>this.Po===e?t():(Hr("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class dh extends hh{constructor(e,t,n,r,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,r,o),this.wt=i}Ko(e,t){return this.bo.ho("Listen",e,t)}onMessage(e){this.So.reset();const t=Xa(this.wt,e),n=function(e){if(!("targetChange"in e))return gi.min();const t=e.targetChange;return t.targetIds&&t.targetIds.length?gi.min():t.readTime?Va(t.readTime):gi.min()}(e);return this.listener.Go(t,n)}Qo(e){const t={};t.database=Ga(this.wt),t.addTarget=function(e,t){let n;const r=t.target;return n=Wo(r)?{documents:rl(e,r)}:{query:il(e,r)},n.targetId=t.targetId,t.resumeToken.approximateByteSize()>0?n.resumeToken=Ua(e,t.resumeToken):t.snapshotVersion.compareTo(gi.min())>0&&(n.readTime=qa(e,t.snapshotVersion.toTimestamp())),n}(this.wt,e);const n=sl(this.wt,e);n&&(t.labels=n),this.Oo(t)}jo(e){const t={};t.database=Ga(this.wt),t.removeTarget=e,this.Oo(t)}}class fh extends hh{constructor(e,t,n,r,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,r,o),this.wt=i,this.Wo=!1}get zo(){return this.Wo}start(){this.Wo=!1,this.lastStreamToken=void 0,super.start()}Bo(){this.Wo&&this.Ho([])}Ko(e,t){return this.bo.ho("Write",e,t)}onMessage(e){if(Yr(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Wo){this.So.reset();const t=nl(e.writeResults,e.commitTime),n=Va(e.commitTime);return this.listener.Jo(n,t)}return Yr(!e.writeResults||0===e.writeResults.length),this.Wo=!0,this.listener.Yo()}Xo(){const e={};e.database=Ga(this.wt),this.Oo(e)}Ho(e){const t={streamToken:this.lastStreamToken,writes:e.map((e=>el(this.wt,e)))};this.Oo(t)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ph extends class{}{constructor(e,t,n,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.bo=n,this.wt=r,this.Zo=!1}tu(){if(this.Zo)throw new ei(Xr.FAILED_PRECONDITION,"The client has already been terminated.")}ro(e,t,n){return this.tu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([r,i])=>this.bo.ro(e,t,n,r,i))).catch((e=>{throw"FirebaseError"===e.name?(e.code===Xr.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new ei(Xr.UNKNOWN,e.toString())}))}ao(e,t,n,r){return this.tu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([i,o])=>this.bo.ao(e,t,n,i,o,r))).catch((e=>{throw"FirebaseError"===e.name?(e.code===Xr.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new ei(Xr.UNKNOWN,e.toString())}))}terminate(){this.Zo=!0}}class mh{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.eu=0,this.nu=null,this.su=!0}iu(){0===this.eu&&(this.ru("Unknown"),this.nu=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.nu=null,this.ou("Backend didn't respond within 10 seconds."),this.ru("Offline"),Promise.resolve()))))}uu(e){"Online"===this.state?this.ru("Unknown"):(this.eu++,this.eu>=1&&(this.cu(),this.ou(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ru("Offline")))}set(e){this.cu(),this.eu=0,"Online"===e&&(this.su=!1),this.ru(e)}ru(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ou(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.su?(Kr(t),this.su=!1):Hr("OnlineStateTracker",t)}cu(){null!==this.nu&&(this.nu.cancel(),this.nu=null)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gh{constructor(e,t,n,r,i){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.au=[],this.hu=new Map,this.lu=new Set,this.fu=[],this.du=i,this.du.Br((e=>{n.enqueueAndForget((async()=>{xh(this)&&(Hr("RemoteStore","Restarting streams for network reachability change."),await async function(e){const t=Jr(e);t.lu.add(4),await yh(t),t._u.set("Unknown"),t.lu.delete(4),await vh(t)}(this))}))})),this._u=new mh(n,r)}}async function vh(e){if(xh(e))for(const t of e.fu)await t(!0)}async function yh(e){for(const t of e.fu)await t(!1)}function bh(e,t){const n=Jr(e);n.hu.has(t.targetId)||(n.hu.set(t.targetId,t),Ih(n)?kh(n):zh(n).Co()&&_h(n,t))}function wh(e,t){const n=Jr(e),r=zh(n);n.hu.delete(t),r.Co()&&Sh(n,t),0===n.hu.size&&(r.Co()?r.ko():xh(n)&&n._u.set("Unknown"))}function _h(e,t){e.wu.Nt(t.targetId),zh(e).Qo(t)}function Sh(e,t){e.wu.Nt(t),zh(e).jo(t)}function kh(e){e.wu=new Na({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),te:t=>e.hu.get(t)||null}),zh(e).start(),e._u.iu()}function Ih(e){return xh(e)&&!zh(e).Do()&&e.hu.size>0}function xh(e){return 0===Jr(e).lu.size}function Eh(e){e.wu=void 0}async function Th(e){e.hu.forEach(((t,n)=>{_h(e,t)}))}async function Ch(e,t){Eh(e),Ih(e)?(e._u.uu(t),kh(e)):e._u.set("Unknown")}async function Ah(e,t,n){if(e._u.set("Online"),t instanceof Ra&&2===t.state&&t.cause)try{await async function(e,t){const n=t.cause;for(const r of t.targetIds)e.hu.has(r)&&(await e.remoteSyncer.rejectListen(r,n),e.hu.delete(r),e.wu.removeTarget(r))}(e,t)}catch(n){Hr("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),n),await Rh(e,n)}else if(t instanceof Ca?e.wu.Ut(t):t instanceof Aa?e.wu.zt(t):e.wu.Gt(t),!n.isEqual(gi.min()))try{const t=await Dc(e.localStore);n.compareTo(t)>=0&&await function(e,t){const n=e.wu.Yt(t);return n.targetChanges.forEach(((n,r)=>{if(n.resumeToken.approximateByteSize()>0){const i=e.hu.get(r);i&&e.hu.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach((t=>{const n=e.hu.get(t);if(!n)return;e.hu.set(t,n.withResumeToken(io.EMPTY_BYTE_STRING,n.snapshotVersion)),Sh(e,t);const r=new Gl(n.target,t,1,n.sequenceNumber);_h(e,r)})),e.remoteSyncer.applyRemoteEvent(n)}(e,n)}catch(t){Hr("RemoteStore","Failed to raise snapshot:",t),await Rh(e,t)}}async function Rh(e,t,n){if(!Ui(t))throw t;e.lu.add(1),await yh(e),e._u.set("Offline"),n||(n=()=>Dc(e.localStore)),e.asyncQueue.enqueueRetryable((async()=>{Hr("RemoteStore","Retrying IndexedDB access"),await n(),e.lu.delete(1),await vh(e)}))}function Oh(e,t){return t().catch((n=>Rh(e,n,t)))}async function Nh(e){const t=Jr(e),n=$h(t);let r=t.au.length>0?t.au[t.au.length-1].batchId:-1;for(;Ph(t);)try{const e=await Mc(t.localStore,r);if(null===e){0===t.au.length&&n.ko();break}r=e.batchId,Dh(t,e)}catch(e){await Rh(t,e)}Lh(t)&&Fh(t)}function Ph(e){return xh(e)&&e.au.length<10}function Dh(e,t){e.au.push(t);const n=$h(e);n.Co()&&n.zo&&n.Ho(t.mutations)}function Lh(e){return xh(e)&&!$h(e).Do()&&e.au.length>0}function Fh(e){$h(e).start()}async function Mh(e){$h(e).Xo()}async function qh(e){const t=$h(e);for(const n of e.au)t.Ho(n.mutations)}async function Uh(e,t,n){const r=e.au.shift(),i=Kl.from(r,t,n);await Oh(e,(()=>e.remoteSyncer.applySuccessfulWrite(i))),await Nh(e)}async function Bh(e,t){t&&$h(e).zo&&await async function(e,t){if(n=t.code,ca(n)&&n!==Xr.ABORTED){const n=e.au.shift();$h(e).No(),await Oh(e,(()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t))),await Nh(e)}var n}(e,t),Lh(e)&&Fh(e)}async function Vh(e,t){const n=Jr(e);n.asyncQueue.verifyOperationInProgress(),Hr("RemoteStore","RemoteStore received new credentials");const r=xh(n);n.lu.add(3),await yh(n),r&&n._u.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.lu.delete(3),await vh(n)}async function jh(e,t){const n=Jr(e);t?(n.lu.delete(2),await vh(n)):t||(n.lu.add(2),await yh(n),n._u.set("Unknown"))}function zh(e){return e.mu||(e.mu=function(e,t,n){const r=Jr(e);return r.tu(),new dh(t,r.bo,r.authCredentials,r.appCheckCredentials,r.wt,n)
/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}(e.datastore,e.asyncQueue,{zr:Th.bind(null,e),Jr:Ch.bind(null,e),Go:Ah.bind(null,e)}),e.fu.push((async t=>{t?(e.mu.No(),Ih(e)?kh(e):e._u.set("Unknown")):(await e.mu.stop(),Eh(e))}))),e.mu}function $h(e){return e.gu||(e.gu=function(e,t,n){const r=Jr(e);return r.tu(),new fh(t,r.bo,r.authCredentials,r.appCheckCredentials,r.wt,n)}(e.datastore,e.asyncQueue,{zr:Mh.bind(null,e),Jr:Bh.bind(null,e),Yo:qh.bind(null,e),Jo:Uh.bind(null,e)}),e.fu.push((async t=>{t?(e.gu.No(),await Nh(e)):(await e.gu.stop(),e.au.length>0&&(Hr("RemoteStore",`Stopping write stream with ${e.au.length} pending writes`),e.au=[]))}))),e.gu
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}class Hh{constructor(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new ti,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((e=>{}))}static createAndSchedule(e,t,n,r,i){const o=Date.now()+n,s=new Hh(e,t,o,r,i);return s.start(n),s}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new ei(Xr.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Kh(e,t){if(Kr("AsyncQueue",`${t}: ${e}`),Ui(e))return new ei(Xr.UNAVAILABLE,`${t}: ${e}`);throw e}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wh{constructor(e){this.comparator=e?(t,n)=>e(t,n)||_i.comparator(t.key,n.key):(e,t)=>_i.comparator(e.key,t.key),this.keyedMap=ga(),this.sortedSet=new Yi(this.comparator)}static emptySet(e){return new Wh(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,n)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Wh))return!1;if(this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(!e.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const n=new Wh;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gh{constructor(){this.yu=new Yi(_i.comparator)}track(e){const t=e.doc.key,n=this.yu.get(t);n?0!==e.type&&3===n.type?this.yu=this.yu.insert(t,e):3===e.type&&1!==n.type?this.yu=this.yu.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.yu=this.yu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.yu=this.yu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.yu=this.yu.remove(t):1===e.type&&2===n.type?this.yu=this.yu.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.yu=this.yu.insert(t,{type:2,doc:e.doc}):Zr():this.yu=this.yu.insert(t,e)}pu(){const e=[];return this.yu.inorderTraversal(((t,n)=>{e.push(n)})),e}}class Zh{constructor(e,t,n,r,i,o,s,a){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=s,this.excludesMetadataChanges=a}static fromInitialDocuments(e,t,n,r){const i=[];return t.forEach((e=>{i.push({type:0,doc:e})})),new Zh(e,t,Wh.emptySet(t),i,n,r,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&_s(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yh{constructor(){this.Iu=void 0,this.listeners=[]}}class Qh{constructor(){this.queries=new da((e=>Ss(e)),_s),this.onlineState="Unknown",this.Tu=new Set}}async function Jh(e,t){const n=Jr(e),r=t.query;let i=!1,o=n.queries.get(r);if(o||(i=!0,o=new Yh),i)try{o.Iu=await n.onListen(r)}catch(e){const n=Kh(e,`Initialization of query '${ks(t.query)}' failed`);return void t.onError(n)}n.queries.set(r,o),o.listeners.push(t),t.Eu(n.onlineState),o.Iu&&t.Au(o.Iu)&&nd(n)}async function Xh(e,t){const n=Jr(e),r=t.query;let i=!1;const o=n.queries.get(r);if(o){const e=o.listeners.indexOf(t);e>=0&&(o.listeners.splice(e,1),i=0===o.listeners.length)}if(i)return n.queries.delete(r),n.onUnlisten(r)}function ed(e,t){const n=Jr(e);let r=!1;for(const i of t){const e=i.query,t=n.queries.get(e);if(t){for(const e of t.listeners)e.Au(i)&&(r=!0);t.Iu=i}}r&&nd(n)}function td(e,t,n){const r=Jr(e),i=r.queries.get(t);if(i)for(const o of i.listeners)o.onError(n);r.queries.delete(t)}function nd(e){e.Tu.forEach((e=>{e.next()}))}class rd{constructor(e,t,n){this.query=e,this.Ru=t,this.bu=!1,this.Pu=null,this.onlineState="Unknown",this.options=n||{}}Au(e){if(!this.options.includeMetadataChanges){const t=[];for(const n of e.docChanges)3!==n.type&&t.push(n);e=new Zh(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let t=!1;return this.bu?this.vu(e)&&(this.Ru.next(e),t=!0):this.Vu(e,this.onlineState)&&(this.Su(e),t=!0),this.Pu=e,t}onError(e){this.Ru.error(e)}Eu(e){this.onlineState=e;let t=!1;return this.Pu&&!this.bu&&this.Vu(this.Pu,e)&&(this.Su(this.Pu),t=!0),t}Vu(e,t){if(!e.fromCache)return!0;const n="Offline"!==t;return(!this.options.Du||!n)&&(!e.docs.isEmpty()||"Offline"===t)}vu(e){if(e.docChanges.length>0)return!0;const t=this.Pu&&this.Pu.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}Su(e){e=Zh.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.bu=!0,this.Ru.next(e)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class id{constructor(e,t){this.payload=e,this.byteLength=t}Cu(){return"metadata"in this.payload}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class od{constructor(e){this.wt=e}Wi(e){return Ha(this.wt,e)}zi(e){return e.metadata.exists?Qa(this.wt,e.document,!1):Vo.newNoDocument(this.Wi(e.metadata.name),this.Hi(e.metadata.readTime))}Hi(e){return Va(e)}}class sd{constructor(e,t,n){this.xu=e,this.localStore=t,this.wt=n,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=ad(e)}Nu(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.payload.namedQuery)this.queries.push(e.payload.namedQuery);else if(e.payload.documentMetadata){this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t;const n=yi.fromString(e.payload.documentMetadata.name);this.collectionGroups.add(n.get(n.length-2))}else e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}ku(e){const t=new Map,n=new od(this.wt);for(const r of e)if(r.metadata.queries){const e=n.Wi(r.metadata.name);for(const n of r.metadata.queries){const r=(t.get(n)||ka()).add(e);t.set(n,r)}}return t}async complete(){const e=await $c(this.localStore,new od(this.wt),this.documents,this.xu.id),t=this.ku(this.documents);for(const n of this.queries)await Hc(this.localStore,n,t.get(n.name));return this.progress.taskState="Success",{progress:this.progress,Mu:this.collectionGroups,Ou:e}}}function ad(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ld{constructor(e){this.key=e}}class ud{constructor(e){this.key=e}}class cd{constructor(e,t){this.query=e,this.Fu=t,this.$u=null,this.current=!1,this.Bu=ka(),this.mutatedKeys=ka(),this.Lu=Es(e),this.Uu=new Wh(this.Lu)}get qu(){return this.Fu}Ku(e,t){const n=t?t.Gu:new Gh,r=t?t.Uu:this.Uu;let i=t?t.mutatedKeys:this.mutatedKeys,o=r,s=!1;const a="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,l="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal(((e,t)=>{const u=r.get(e),c=Is(this.query,t)?t:null,h=!!u&&this.mutatedKeys.has(u.key),d=!!c&&(c.hasLocalMutations||this.mutatedKeys.has(c.key)&&c.hasCommittedMutations);let f=!1;u&&c?u.data.isEqual(c.data)?h!==d&&(n.track({type:3,doc:c}),f=!0):this.Qu(u,c)||(n.track({type:2,doc:c}),f=!0,(a&&this.Lu(c,a)>0||l&&this.Lu(c,l)<0)&&(s=!0)):!u&&c?(n.track({type:0,doc:c}),f=!0):u&&!c&&(n.track({type:1,doc:u}),f=!0,(a||l)&&(s=!0)),f&&(c?(o=o.add(c),i=d?i.add(e):i.delete(e)):(o=o.delete(e),i=i.delete(e)))})),null!==this.query.limit)for(;o.size>this.query.limit;){const e="F"===this.query.limitType?o.last():o.first();o=o.delete(e.key),i=i.delete(e.key),n.track({type:1,doc:e})}return{Uu:o,Gu:n,Mi:s,mutatedKeys:i}}Qu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n){const r=this.Uu;this.Uu=e.Uu,this.mutatedKeys=e.mutatedKeys;const i=e.Gu.pu();i.sort(((e,t)=>function(e,t){const n=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Zr()}};return n(e)-n(t)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(e.type,t.type)||this.Lu(e.doc,t.doc))),this.ju(n);const o=t?this.Wu():[],s=0===this.Bu.size&&this.current?1:0,a=s!==this.$u;return this.$u=s,0!==i.length||a?{snapshot:new Zh(this.query,e.Uu,r,i,e.mutatedKeys,0===s,a,!1),zu:o}:{zu:o}}Eu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Uu:this.Uu,Gu:new Gh,mutatedKeys:this.mutatedKeys,Mi:!1},!1)):{zu:[]}}Hu(e){return!this.Fu.has(e)&&!!this.Uu.has(e)&&!this.Uu.get(e).hasLocalMutations}ju(e){e&&(e.addedDocuments.forEach((e=>this.Fu=this.Fu.add(e))),e.modifiedDocuments.forEach((e=>{})),e.removedDocuments.forEach((e=>this.Fu=this.Fu.delete(e))),this.current=e.current)}Wu(){if(!this.current)return[];const e=this.Bu;this.Bu=ka(),this.Uu.forEach((e=>{this.Hu(e.key)&&(this.Bu=this.Bu.add(e.key))}));const t=[];return e.forEach((e=>{this.Bu.has(e)||t.push(new ud(e))})),this.Bu.forEach((n=>{e.has(n)||t.push(new ld(n))})),t}Ju(e){this.Fu=e.ji,this.Bu=ka();const t=this.Ku(e.documents);return this.applyChanges(t,!0)}Yu(){return Zh.fromInitialDocuments(this.query,this.Uu,this.mutatedKeys,0===this.$u)}}class hd{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class dd{constructor(e){this.key=e,this.Xu=!1}}class fd{constructor(e,t,n,r,i,o){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.Zu={},this.tc=new da((e=>Ss(e)),_s),this.ec=new Map,this.nc=new Set,this.sc=new Yi(_i.comparator),this.ic=new Map,this.rc=new dc,this.oc={},this.uc=new Map,this.cc=ju.Rn(),this.onlineState="Unknown",this.ac=void 0}get isPrimaryClient(){return!0===this.ac}}async function pd(e,t){const n=zd(e);let r,i;const o=n.tc.get(t);if(o)r=o.targetId,n.sharedClientState.addLocalQueryTarget(r),i=o.view.Yu();else{const e=await qc(n.localStore,bs(t));n.isPrimaryClient&&bh(n.remoteStore,e);const o=n.sharedClientState.addLocalQueryTarget(e.targetId);r=e.targetId,i=await md(n,t,r,"current"===o)}return i}async function md(e,t,n,r){e.hc=(t,n,r)=>async function(e,t,n,r){let i=t.view.Ku(n);i.Mi&&(i=await Bc(e.localStore,t.query,!1).then((({documents:e})=>t.view.Ku(e,i))));const o=r&&r.targetChanges.get(t.targetId),s=t.view.applyChanges(i,e.isPrimaryClient,o);return Cd(e,t.targetId,s.zu),s.snapshot}(e,t,n,r);const i=await Bc(e.localStore,t,!0),o=new cd(t,i.ji),s=o.Ku(i.documents),a=Ta.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState),l=o.applyChanges(s,e.isPrimaryClient,a);Cd(e,n,l.zu);const u=new hd(t,n,o);return e.tc.set(t,u),e.ec.has(n)?e.ec.get(n).push(t):e.ec.set(n,[t]),l.snapshot}async function gd(e,t){const n=Jr(e),r=n.tc.get(t),i=n.ec.get(r.targetId);if(i.length>1)return n.ec.set(r.targetId,i.filter((e=>!_s(e,t)))),void n.tc.delete(t);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await Uc(n.localStore,r.targetId,!1).then((()=>{n.sharedClientState.clearQueryState(r.targetId),wh(n.remoteStore,r.targetId),Ed(n,r.targetId)})).catch(Pi)):(Ed(n,r.targetId),await Uc(n.localStore,r.targetId,!0))}async function vd(e,t,n){const r=$d(e);try{const e=await function(e,t){const n=Jr(e),r=mi.now(),i=t.reduce(((e,t)=>e.add(t.key)),ka());let o,s;return n.persistence.runTransaction("Locally write mutations","readwrite",(e=>{let a=pa(),l=ka();return n.Ui.getEntries(e,i).next((e=>{a=e,a.forEach(((e,t)=>{t.isValidDocument()||(l=l.add(e))}))})).next((()=>n.localDocuments.getOverlayedDocuments(e,a))).next((i=>{o=i;const s=[];for(const e of t){const t=Js(e,o.get(e.key).overlayedDocument);null!=t&&s.push(new ta(e.key,t,Bo(t.value.mapValue),Ks.exists(!0)))}return n.mutationQueue.addMutationBatch(e,r,s,t)})).next((t=>{s=t;const r=t.applyToLocalDocumentSet(o,l);return n.documentOverlayCache.saveOverlays(e,t.batchId,r)}))})).then((()=>({batchId:s.batchId,changes:va(o)})))}(r.localStore,t);r.sharedClientState.addPendingMutation(e.batchId),function(e,t,n){let r=e.oc[e.currentUser.toKey()];r||(r=new Yi(di)),r=r.insert(t,n),e.oc[e.currentUser.toKey()]=r}(r,e.batchId,n),await Od(r,e.changes),await Nh(r.remoteStore)}catch(e){const t=Kh(e,"Failed to persist write");n.reject(t)}}async function yd(e,t){const n=Jr(e);try{const e=await Lc(n.localStore,t);t.targetChanges.forEach(((e,t)=>{const r=n.ic.get(t);r&&(Yr(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?r.Xu=!0:e.modifiedDocuments.size>0?Yr(r.Xu):e.removedDocuments.size>0&&(Yr(r.Xu),r.Xu=!1))})),await Od(n,e,t)}catch(e){await Pi(e)}}function bd(e,t,n){const r=Jr(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const e=[];r.tc.forEach(((n,r)=>{const i=r.view.Eu(t);i.snapshot&&e.push(i.snapshot)})),function(e,t){const n=Jr(e);n.onlineState=t;let r=!1;n.queries.forEach(((e,n)=>{for(const i of n.listeners)i.Eu(t)&&(r=!0)})),r&&nd(n)}(r.eventManager,t),e.length&&r.Zu.Go(e),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function wd(e,t,n){const r=Jr(e);r.sharedClientState.updateQueryState(t,"rejected",n);const i=r.ic.get(t),o=i&&i.key;if(o){let e=new Yi(_i.comparator);e=e.insert(o,Vo.newNoDocument(o,gi.min()));const n=ka().add(o),i=new Ea(gi.min(),new Map,new Xi(di),e,n);await yd(r,i),r.sc=r.sc.remove(o),r.ic.delete(t),Rd(r)}else await Uc(r.localStore,t,!1).then((()=>Ed(r,t,n))).catch(Pi)}async function _d(e,t){const n=Jr(e),r=t.batch.batchId;try{const e=await Pc(n.localStore,t);xd(n,r,null),Id(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Od(n,e)}catch(e){await Pi(e)}}async function Sd(e,t,n){const r=Jr(e);try{const e=await function(e,t){const n=Jr(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(e=>{let r;return n.mutationQueue.lookupMutationBatch(e,t).next((t=>(Yr(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t)))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r))).next((()=>n.localDocuments.getDocuments(e,r)))}))}(r.localStore,t);xd(r,t,n),Id(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await Od(r,e)}catch(n){await Pi(n)}}async function kd(e,t){const n=Jr(e);xh(n.remoteStore)||Hr("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const e=await function(e){const t=Jr(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(e=>t.mutationQueue.getHighestUnacknowledgedBatchId(e)))}(n.localStore);if(-1===e)return void t.resolve();const r=n.uc.get(e)||[];r.push(t),n.uc.set(e,r)}catch(e){const n=Kh(e,"Initialization of waitForPendingWrites() operation failed");t.reject(n)}}function Id(e,t){(e.uc.get(t)||[]).forEach((e=>{e.resolve()})),e.uc.delete(t)}function xd(e,t,n){const r=Jr(e);let i=r.oc[r.currentUser.toKey()];if(i){const e=i.get(t);e&&(n?e.reject(n):e.resolve(),i=i.remove(t)),r.oc[r.currentUser.toKey()]=i}}function Ed(e,t,n=null){e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.ec.get(t))e.tc.delete(r),n&&e.Zu.lc(r,n);e.ec.delete(t),e.isPrimaryClient&&e.rc.us(t).forEach((t=>{e.rc.containsKey(t)||Td(e,t)}))}function Td(e,t){e.nc.delete(t.path.canonicalString());const n=e.sc.get(t);null!==n&&(wh(e.remoteStore,n),e.sc=e.sc.remove(t),e.ic.delete(n),Rd(e))}function Cd(e,t,n){for(const r of n)r instanceof ld?(e.rc.addReference(r.key,t),Ad(e,r)):r instanceof ud?(Hr("SyncEngine","Document no longer in limbo: "+r.key),e.rc.removeReference(r.key,t),e.rc.containsKey(r.key)||Td(e,r.key)):Zr()}function Ad(e,t){const n=t.key,r=n.path.canonicalString();e.sc.get(n)||e.nc.has(r)||(Hr("SyncEngine","New document in limbo: "+n),e.nc.add(r),Rd(e))}function Rd(e){for(;e.nc.size>0&&e.sc.size<e.maxConcurrentLimboResolutions;){const t=e.nc.values().next().value;e.nc.delete(t);const n=new _i(yi.fromString(t)),r=e.cc.next();e.ic.set(r,new dd(n)),e.sc=e.sc.insert(n,r),bh(e.remoteStore,new Gl(bs(fs(n.path)),r,2,Ki.ot))}}async function Od(e,t,n){const r=Jr(e),i=[],o=[],s=[];r.tc.isEmpty()||(r.tc.forEach(((e,a)=>{s.push(r.hc(a,t,n).then((e=>{if(e){r.isPrimaryClient&&r.sharedClientState.updateQueryState(a.targetId,e.fromCache?"not-current":"current"),i.push(e);const t=Cc.Vi(a.targetId,e);o.push(t)}})))})),await Promise.all(s),r.Zu.Go(i),await async function(e,t){const n=Jr(e);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(e=>Di.forEach(t,(t=>Di.forEach(t.Pi,(r=>n.persistence.referenceDelegate.addReference(e,t.targetId,r))).next((()=>Di.forEach(t.vi,(r=>n.persistence.referenceDelegate.removeReference(e,t.targetId,r)))))))))}catch(e){if(!Ui(e))throw e;Hr("LocalStore","Failed to update sequence numbers: "+e)}for(const r of t){const e=r.targetId;if(!r.fromCache){const t=n.$i.get(e),r=t.snapshotVersion,i=t.withLastLimboFreeSnapshotVersion(r);n.$i=n.$i.insert(e,i)}}}(r.localStore,o))}async function Nd(e,t){const n=Jr(e);if(!n.currentUser.isEqual(t)){Hr("SyncEngine","User change. New user:",t.toKey());const e=await Nc(n.localStore,t);n.currentUser=t,function(e,t){e.uc.forEach((e=>{e.forEach((e=>{e.reject(new ei(Xr.CANCELLED,t))}))})),e.uc.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await Od(n,e.Ki)}}function Pd(e,t){const n=Jr(e),r=n.ic.get(t);if(r&&r.Xu)return ka().add(r.key);{let e=ka();const r=n.ec.get(t);if(!r)return e;for(const t of r){const r=n.tc.get(t);e=e.unionWith(r.view.qu)}return e}}async function Dd(e,t){const n=Jr(e),r=await Bc(n.localStore,t.query,!0),i=t.view.Ju(r);return n.isPrimaryClient&&Cd(n,t.targetId,i.zu),i}async function Ld(e,t){const n=Jr(e);return jc(n.localStore,t).then((e=>Od(n,e)))}async function Fd(e,t,n,r){const i=Jr(e),o=await function(e,t){const n=Jr(e),r=Jr(n.mutationQueue);return n.persistence.runTransaction("Lookup mutation documents","readonly",(e=>r.yn(e,t).next((t=>t?n.localDocuments.getDocuments(e,t):Di.resolve(null)))))}(i.localStore,t);null!==o?("pending"===n?await Nh(i.remoteStore):"acknowledged"===n||"rejected"===n?(xd(i,t,r||null),Id(i,t),function(e,t){Jr(Jr(e).mutationQueue).In(t)}(i.localStore,t)):Zr(),await Od(i,o)):Hr("SyncEngine","Cannot apply mutation batch with id: "+t)}async function Md(e,t){const n=Jr(e);if(zd(n),$d(n),!0===t&&!0!==n.ac){const e=n.sharedClientState.getAllActiveQueryTargets(),t=await qd(n,e.toArray());n.ac=!0,await jh(n.remoteStore,!0);for(const r of t)bh(n.remoteStore,r)}else if(!1===t&&!1!==n.ac){const e=[];let t=Promise.resolve();n.ec.forEach(((r,i)=>{n.sharedClientState.isLocalQueryTarget(i)?e.push(i):t=t.then((()=>(Ed(n,i),Uc(n.localStore,i,!0)))),wh(n.remoteStore,i)})),await t,await qd(n,e),function(e){const t=Jr(e);t.ic.forEach(((e,n)=>{wh(t.remoteStore,n)})),t.rc.cs(),t.ic=new Map,t.sc=new Yi(_i.comparator)}(n),n.ac=!1,await jh(n.remoteStore,!1)}}async function qd(e,t,n){const r=Jr(e),i=[],o=[];for(const s of t){let e;const t=r.ec.get(s);if(t&&0!==t.length){e=await qc(r.localStore,bs(t[0]));for(const e of t){const t=r.tc.get(e),n=await Dd(r,t);n.snapshot&&o.push(n.snapshot)}}else{const t=await Vc(r.localStore,s);e=await qc(r.localStore,t),await md(r,Ud(t),s,!1)}i.push(e)}return r.Zu.Go(o),i}function Ud(e){return ds(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function Bd(e){const t=Jr(e);return Jr(Jr(t.localStore).persistence).Ri()}async function Vd(e,t,n,r){const i=Jr(e);if(i.ac)return void Hr("SyncEngine","Ignoring unexpected query state notification.");const o=i.ec.get(t);if(o&&o.length>0)switch(n){case"current":case"not-current":{const e=await jc(i.localStore,xs(o[0])),r=Ea.createSynthesizedRemoteEventForCurrentChange(t,"current"===n);await Od(i,e,r);break}case"rejected":await Uc(i.localStore,t,!0),Ed(i,t,r);break;default:Zr()}}async function jd(e,t,n){const r=zd(e);if(r.ac){for(const e of t){if(r.ec.has(e)){Hr("SyncEngine","Adding an already active target "+e);continue}const t=await Vc(r.localStore,e),n=await qc(r.localStore,t);await md(r,Ud(t),n.targetId,!1),bh(r.remoteStore,n)}for(const e of n)r.ec.has(e)&&await Uc(r.localStore,e,!1).then((()=>{wh(r.remoteStore,e),Ed(r,e)})).catch(Pi)}}function zd(e){const t=Jr(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=yd.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=Pd.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=wd.bind(null,t),t.Zu.Go=ed.bind(null,t.eventManager),t.Zu.lc=td.bind(null,t.eventManager),t}function $d(e){const t=Jr(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=_d.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=Sd.bind(null,t),t}function Hd(e,t,n){const r=Jr(e);(async function(e,t,n){try{const r=await t.getMetadata();if(await function(e,t){const n=Jr(e),r=Va(t.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",(e=>n.Ds.getBundleMetadata(e,t.id))).then((e=>!!e&&e.createTime.compareTo(r)>=0))}(e.localStore,r))return await t.close(),n._completeWith(function(e){return{taskState:"Success",documentsLoaded:e.totalDocuments,bytesLoaded:e.totalBytes,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}(r)),Promise.resolve(new Set);n._updateProgress(ad(r));const i=new sd(r,e.localStore,t.wt);let o=await t.fc();for(;o;){const e=await i.Nu(o);e&&n._updateProgress(e),o=await t.fc()}const s=await i.complete();return await Od(e,s.Ou,void 0),await function(e,t){const n=Jr(e);return n.persistence.runTransaction("Save bundle","readwrite",(e=>n.Ds.saveBundleMetadata(e,t)))}(e.localStore,r),n._completeWith(s.progress),Promise.resolve(s.Mu)}catch(e){return Wr("SyncEngine",`Loading bundle failed with ${e}`),n._failWith(e),Promise.resolve(new Set)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */)(r,t,n).then((e=>{r.sharedClientState.notifyBundleLoaded(e)}))}class Kd{constructor(){this.synchronizeTabs=!1}async initialize(e){this.wt=uh(e.databaseInfo.databaseId),this.sharedClientState=this.dc(e),this.persistence=this._c(e),await this.persistence.start(),this.localStore=this.wc(e),this.gcScheduler=this.mc(e,this.localStore),this.indexBackfillerScheduler=this.gc(e,this.localStore)}mc(e,t){return null}gc(e,t){return null}wc(e){return Oc(this.persistence,new Ac,e.initialUser,this.wt)}_c(e){return new yc(wc.Os,this.wt)}dc(e){return new th}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class Wd extends Kd{constructor(e,t,n){super(),this.yc=e,this.cacheSizeBytes=t,this.forceOwnership=n,this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.yc.initialize(this,e),await $d(this.yc.syncEngine),await Nh(this.yc.remoteStore),await this.persistence.ci((()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve())))}wc(e){return Oc(this.persistence,new Ac,e.initialUser,this.wt)}mc(e,t){const n=this.persistence.referenceDelegate.garbageCollector;return new Zu(n,e.asyncQueue,t)}gc(e,t){const n=new Hi(t,this.persistence);return new $i(e.asyncQueue,n)}_c(e){const t=Tc(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?Du.withCacheSize(this.cacheSizeBytes):Du.DEFAULT;return new Ic(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,ah(),lh(),this.wt,this.sharedClientState,!!this.forceOwnership)}dc(e){return new th}}class Gd extends Wd{constructor(e,t){super(e,t,!1),this.yc=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}async initialize(e){await super.initialize(e);const t=this.yc.syncEngine;this.sharedClientState instanceof eh&&(this.sharedClientState.syncEngine={kr:Fd.bind(null,t),Mr:Vd.bind(null,t),Or:jd.bind(null,t),Ri:Bd.bind(null,t),Nr:Ld.bind(null,t)},await this.sharedClientState.start()),await this.persistence.ci((async e=>{await Md(this.yc.syncEngine,e),this.gcScheduler&&(e&&!this.gcScheduler.started?this.gcScheduler.start():e||this.gcScheduler.stop()),this.indexBackfillerScheduler&&(e&&!this.indexBackfillerScheduler.started?this.indexBackfillerScheduler.start():e||this.indexBackfillerScheduler.stop())}))}dc(e){const t=ah();if(!eh.V(t))throw new ei(Xr.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const n=Tc(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new eh(t,e.asyncQueue,n,e.clientId,e.initialUser)}}class Zd{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>bd(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=Nd.bind(null,this.syncEngine),await jh(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new Qh}createDatastore(e){const t=uh(e.databaseInfo.databaseId),n=(r=e.databaseInfo,new sh(r));var r;return function(e,t,n,r){return new ph(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=e=>bd(this.syncEngine,e,0),o=rh.V()?new rh:new nh,new gh(t,n,r,i,o);var t,n,r,i,o}createSyncEngine(e,t){return function(e,t,n,r,i,o,s){const a=new fd(e,t,n,r,i,o);return s&&(a.ac=!0),a}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return async function(e){const t=Jr(e);Hr("RemoteStore","RemoteStore shutting down."),t.lu.add(5),await yh(t),t.du.shutdown(),t._u.set("Unknown")}(this.remoteStore)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yd(e,t=10240){let n=0;return{async read(){if(n<e.byteLength){const r={value:e.slice(n,n+t),done:!1};return n+=t,r}return{done:!0}},async cancel(){},releaseLock(){},closed:Promise.reject("unimplemented")}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qd{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ic(this.observer.next,e)}error(e){this.observer.error?this.Ic(this.observer.error,e):Kr("Uncaught Error in snapshot listener:",e)}Tc(){this.muted=!0}Ic(e,t){this.muted||setTimeout((()=>{this.muted||e(t)}),0)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jd{constructor(e,t){this.Ec=e,this.wt=t,this.metadata=new ti,this.buffer=new Uint8Array,this.Ac=new TextDecoder("utf-8"),this.Rc().then((e=>{e&&e.Cu()?this.metadata.resolve(e.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==e?void 0:e.payload)}`))}),(e=>this.metadata.reject(e)))}close(){return this.Ec.cancel()}async getMetadata(){return this.metadata.promise}async fc(){return await this.getMetadata(),this.Rc()}async Rc(){const e=await this.bc();if(null===e)return null;const t=this.Ac.decode(e),n=Number(t);isNaN(n)&&this.Pc(`length string (${t}) is not valid number`);const r=await this.vc(n);return new id(JSON.parse(r),e.length+n)}Vc(){return this.buffer.findIndex((e=>e==="{".charCodeAt(0)))}async bc(){for(;this.Vc()<0;)if(await this.Sc())break;if(0===this.buffer.length)return null;const e=this.Vc();e<0&&this.Pc("Reached the end of bundle when a length string is expected.");const t=this.buffer.slice(0,e);return this.buffer=this.buffer.slice(e),t}async vc(e){for(;this.buffer.length<e;)await this.Sc()&&this.Pc("Reached the end of bundle when more is expected.");const t=this.Ac.decode(this.buffer.slice(0,e));return this.buffer=this.buffer.slice(e),t}Pc(e){throw this.Ec.cancel(),new Error(`Invalid bundle format: ${e}`)}async Sc(){const e=await this.Ec.read();if(!e.done){const t=new Uint8Array(this.buffer.length+e.value.length);t.set(this.buffer),t.set(e.value,this.buffer.length),this.buffer=t}return e.done}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xd{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new ei(Xr.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const t=await async function(e,t){const n=Jr(e),r=Ga(n.wt)+"/documents",i={documents:t.map((e=>$a(n.wt,e)))},o=await n.ao("BatchGetDocuments",r,i,t.length),s=new Map;o.forEach((e=>{const t=Ja(n.wt,e);s.set(t.key.toString(),t)}));const a=[];return t.forEach((e=>{const t=s.get(e.toString());Yr(!!t),a.push(t)})),a}(this.datastore,e);return t.forEach((e=>this.recordVersion(e))),t}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastWriteError=e}this.writtenDocs.add(e.toString())}delete(e){this.write(new oa(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;const e=this.readVersions;this.mutations.forEach((t=>{e.delete(t.key.toString())})),e.forEach(((e,t)=>{const n=_i.fromPath(t);this.mutations.push(new sa(n,this.precondition(n)))})),await async function(e,t){const n=Jr(e),r=Ga(n.wt)+"/documents",i={writes:t.map((e=>el(n.wt,e)))};await n.ro("Commit",r,i)}(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw Zr();t=gi.min()}const n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new ei(Xr.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?Ks.updateTime(t):Ks.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(gi.min()))throw new ei(Xr.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Ks.updateTime(t)}return Ks.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ef{constructor(e,t,n,r,i){this.asyncQueue=e,this.datastore=t,this.options=n,this.updateFunction=r,this.deferred=i,this.Dc=n.maxAttempts,this.So=new ch(this.asyncQueue,"transaction_retry")}run(){this.Dc-=1,this.Cc()}Cc(){this.So.Io((async()=>{const e=new Xd(this.datastore),t=this.xc(e);t&&t.then((t=>{this.asyncQueue.enqueueAndForget((()=>e.commit().then((()=>{this.deferred.resolve(t)})).catch((e=>{this.Nc(e)}))))})).catch((e=>{this.Nc(e)}))}))}xc(e){try{const t=this.updateFunction(e);return!mo(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}Nc(e){this.Dc>0&&this.kc(e)?(this.Dc-=1,this.asyncQueue.enqueueAndForget((()=>(this.Cc(),Promise.resolve())))):this.deferred.reject(e)}kc(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||!ca(t)}return!1}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tf{constructor(e,t,n,r){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=Br.UNAUTHENTICATED,this.clientId=hi.I(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(n,(async e=>{Hr("FirestoreClient","Received user=",e.uid),await this.authCredentialListener(e),this.user=e})),this.appCheckCredentials.start(n,(e=>(Hr("FirestoreClient","Received new app check token=",e),this.appCheckCredentialListener(e,this.user))))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new ei(Xr.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ti;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this.onlineComponents&&await this.onlineComponents.terminate(),this.offlineComponents&&await this.offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const n=Kh(t,"Failed to shutdown persistence");e.reject(n)}})),e.promise}}async function nf(e,t){e.asyncQueue.verifyOperationInProgress(),Hr("FirestoreClient","Initializing OfflineComponentProvider");const n=await e.getConfiguration();await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener((async e=>{r.isEqual(e)||(await Nc(t.localStore,e),r=e)})),t.persistence.setDatabaseDeletedListener((()=>e.terminate())),e.offlineComponents=t}async function rf(e,t){e.asyncQueue.verifyOperationInProgress();const n=await of(e);Hr("FirestoreClient","Initializing OnlineComponentProvider");const r=await e.getConfiguration();await t.initialize(n,r),e.setCredentialChangeListener((e=>Vh(t.remoteStore,e))),e.setAppCheckTokenChangeListener(((e,n)=>Vh(t.remoteStore,n))),e.onlineComponents=t}async function of(e){return e.offlineComponents||(Hr("FirestoreClient","Using default OfflineComponentProvider"),await nf(e,new Kd)),e.offlineComponents}async function sf(e){return e.onlineComponents||(Hr("FirestoreClient","Using default OnlineComponentProvider"),await rf(e,new Zd)),e.onlineComponents}function af(e){return of(e).then((e=>e.persistence))}function lf(e){return of(e).then((e=>e.localStore))}function uf(e){return sf(e).then((e=>e.remoteStore))}function cf(e){return sf(e).then((e=>e.syncEngine))}async function hf(e){const t=await sf(e),n=t.eventManager;return n.onListen=pd.bind(null,t.syncEngine),n.onUnlisten=gd.bind(null,t.syncEngine),n}function df(e){return e.asyncQueue.enqueue((async()=>{const t=await af(e),n=await uf(e);return t.setNetworkEnabled(!0),function(e){const t=Jr(e);return t.lu.delete(0),vh(t)}(n)}))}function ff(e){return e.asyncQueue.enqueue((async()=>{const t=await af(e),n=await uf(e);return t.setNetworkEnabled(!1),async function(e){const t=Jr(e);t.lu.add(0),await yh(t),t._u.set("Offline")}(n)}))}function pf(e,t){const n=new ti;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t,n){try{const r=await function(e,t){const n=Jr(e);return n.persistence.runTransaction("read document","readonly",(e=>n.localDocuments.getDocument(e,t)))}(e,t);r.isFoundDocument()?n.resolve(r):r.isNoDocument()?n.resolve(null):n.reject(new ei(Xr.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(e){const r=Kh(e,`Failed to get document '${t} from cache`);n.reject(r)}}(await lf(e),t,n))),n.promise}function mf(e,t,n={}){const r=new ti;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,r,i){const o=new Qd({next:o=>{t.enqueueAndForget((()=>Xh(e,s)));const a=o.docs.has(n);!a&&o.fromCache?i.reject(new ei(Xr.UNAVAILABLE,"Failed to get document because the client is offline.")):a&&o.fromCache&&r&&"server"===r.source?i.reject(new ei(Xr.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(o)},error:e=>i.reject(e)}),s=new rd(fs(n.path),o,{includeMetadataChanges:!0,Du:!0});return Jh(e,s)}(await hf(e),e.asyncQueue,t,n,r))),r.promise}function gf(e,t){const n=new ti;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t,n){try{const r=await Bc(e,t,!0),i=new cd(t,r.ji),o=i.Ku(r.documents),s=i.applyChanges(o,!1);n.resolve(s.snapshot)}catch(e){const r=Kh(e,`Failed to execute query '${t} against cache`);n.reject(r)}}(await lf(e),t,n))),n.promise}function vf(e,t,n={}){const r=new ti;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,r,i){const o=new Qd({next:n=>{t.enqueueAndForget((()=>Xh(e,s))),n.fromCache&&"server"===r.source?i.reject(new ei(Xr.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:e=>i.reject(e)}),s=new rd(n,o,{includeMetadataChanges:!0,Du:!0});return Jh(e,s)}(await hf(e),e.asyncQueue,t,n,r))),r.promise}function yf(e,t){const n=new Qd(t);return e.asyncQueue.enqueueAndForget((async()=>function(e,t){Jr(e).Tu.add(t),t.next()}(await hf(e),n))),()=>{n.Tc(),e.asyncQueue.enqueueAndForget((async()=>function(e,t){Jr(e).Tu.delete(t)}(await hf(e),n)))}}function bf(e,t,n){const r=new ti;return e.asyncQueue.enqueueAndForget((async()=>{const i=await function(e){return sf(e).then((e=>e.datastore))}(e);new ef(e.asyncQueue,i,n,t,r).run()})),r.promise}function wf(e,t,n,r){const i=function(e,t){let n;return n="string"==typeof e?(new TextEncoder).encode(e):e,function(e,t){return new Jd(e,t)}(function(e,t){if(e instanceof Uint8Array)return Yd(e,t);if(e instanceof ArrayBuffer)return Yd(new Uint8Array(e),t);if(e instanceof ReadableStream)return e.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(n),t)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(n,uh(t));e.asyncQueue.enqueueAndForget((async()=>{Hd(await cf(e),i,r)}))}function _f(e,t){return e.asyncQueue.enqueue((async()=>function(e,t){const n=Jr(e);return n.persistence.runTransaction("Get named query","readonly",(e=>n.Ds.getNamedQuery(e,t)))}(await lf(e),t)))}const Sf=new Map;
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kf(e,t,n){if(!n)throw new ei(Xr.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function If(e,t,n,r){if(!0===t&&!0===r)throw new ei(Xr.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)}function xf(e){if(!_i.isDocumentKey(e))throw new ei(Xr.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function Ef(e){if(_i.isDocumentKey(e))throw new ei(Xr.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function Tf(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const t=function(e){return e.constructor?e.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return"function"==typeof e?"a function":Zr()}function Cf(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new ei(Xr.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Tf(e);throw new ei(Xr.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}function Af(e,t){if(t<=0)throw new ei(Xr.INVALID_ARGUMENT,`Function ${e}() requires a positive number, but it was: ${t}.`)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rf{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new ei(Xr.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new ei(Xr.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,If("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Of{constructor(e,t,n){this._authCredentials=t,this._appCheckCredentials=n,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Rf({}),this._settingsFrozen=!1,e instanceof po?this._databaseId=e:(this._app=e,this._databaseId=function(e){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new ei(Xr.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new po(e.options.projectId)}(e))}get app(){if(!this._app)throw new ei(Xr.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new ei(Xr.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Rf(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new ri;switch(e.type){case"gapi":const t=e.client;return Yr(!("object"!=typeof t||null===t||!t.auth||!t.auth.getAuthHeaderValueForFirstParty)),new ai(t,e.sessionIndex||"0",e.iamToken||null);case"provider":return e.client;default:throw new ei(Xr.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=Sf.get(e);t&&(Hr("ComponentProvider","Removing Datastore"),Sf.delete(e),t.terminate())}(this),Promise.resolve()}}function Nf(e,t,n,r={}){var i;const o=(e=Cf(e,Of))._getSettings();if("firestore.googleapis.com"!==o.host&&o.host!==t&&Wr("Host has been set in both settings() and useEmulator(), emulator host will be used"),e._setSettings(Object.assign(Object.assign({},o),{host:`${t}:${n}`,ssl:!1})),r.mockUserToken){let t,n;if("string"==typeof r.mockUserToken)t=r.mockUserToken,n=Br.MOCK_USER;else{t=(0,a.Sg)(r.mockUserToken,null===(i=e._app)||void 0===i?void 0:i.options.projectId);const o=r.mockUserToken.sub||r.mockUserToken.user_id;if(!o)throw new ei(Xr.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new Br(o)}e._authCredentials=new ii(new ni(t,n))}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pf{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Lf(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Pf(this.firestore,e,this._key)}}class Df{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new Df(this.firestore,e,this._query)}}class Lf extends Df{constructor(e,t,n){super(e,t,fs(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Pf(this.firestore,null,new _i(e))}withConverter(e){return new Lf(this.firestore,e,this._path)}}function Ff(e,t,...n){if(e=(0,a.m9)(e),kf("collection","path",t),e instanceof Of){const r=yi.fromString(t,...n);return Ef(r),new Lf(e,null,r)}{if(!(e instanceof Pf||e instanceof Lf))throw new ei(Xr.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(yi.fromString(t,...n));return Ef(r),new Lf(e.firestore,null,r)}}function Mf(e,t){if(e=Cf(e,Of),kf("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new ei(Xr.INVALID_ARGUMENT,`Invalid collection ID '${t}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Df(e,null,function(e){return new hs(yi.emptyPath(),e)}(t))}function qf(e,t,...n){if(e=(0,a.m9)(e),1===arguments.length&&(t=hi.I()),kf("doc","path",t),e instanceof Of){const r=yi.fromString(t,...n);return xf(r),new Pf(e,null,new _i(r))}{if(!(e instanceof Pf||e instanceof Lf))throw new ei(Xr.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(yi.fromString(t,...n));return xf(r),new Pf(e.firestore,e instanceof Lf?e.converter:null,new _i(r))}}function Uf(e,t){return e=(0,a.m9)(e),t=(0,a.m9)(t),(e instanceof Pf||e instanceof Lf)&&(t instanceof Pf||t instanceof Lf)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function Bf(e,t){return e=(0,a.m9)(e),t=(0,a.m9)(t),e instanceof Df&&t instanceof Df&&e.firestore===t.firestore&&_s(e._query,t._query)&&e.converter===t.converter
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}class Vf{constructor(){this.Mc=Promise.resolve(),this.Oc=[],this.Fc=!1,this.$c=[],this.Bc=null,this.Lc=!1,this.Uc=!1,this.qc=[],this.So=new ch(this,"async_queue_retry"),this.Kc=()=>{const e=lh();e&&Hr("AsyncQueue","Visibility state changed to "+e.visibilityState),this.So.Eo()};const e=lh();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Kc)}get isShuttingDown(){return this.Fc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Gc(),this.Qc(e)}enterRestrictedMode(e){if(!this.Fc){this.Fc=!0,this.Uc=e||!1;const t=lh();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Kc)}}enqueue(e){if(this.Gc(),this.Fc)return new Promise((()=>{}));const t=new ti;return this.Qc((()=>this.Fc&&this.Uc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Oc.push(e),this.jc())))}async jc(){if(0!==this.Oc.length){try{await this.Oc[0](),this.Oc.shift(),this.So.reset()}catch(S){if(!Ui(S))throw S;Hr("AsyncQueue","Operation failed with retryable error: "+S)}this.Oc.length>0&&this.So.Io((()=>this.jc()))}}Qc(e){const t=this.Mc.then((()=>(this.Lc=!0,e().catch((e=>{this.Bc=e,this.Lc=!1;const t=function(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(e);throw Kr("INTERNAL UNHANDLED ERROR: ",t),e})).then((e=>(this.Lc=!1,e))))));return this.Mc=t,t}enqueueAfterDelay(e,t,n){this.Gc(),this.qc.indexOf(e)>-1&&(t=0);const r=Hh.createAndSchedule(this,e,t,n,(e=>this.Wc(e)));return this.$c.push(r),r}Gc(){this.Bc&&Zr()}verifyOperationInProgress(){}async zc(){let e;do{e=this.Mc,await e}while(e!==this.Mc)}Hc(e){for(const t of this.$c)if(t.timerId===e)return!0;return!1}Jc(e){return this.zc().then((()=>{this.$c.sort(((e,t)=>e.targetTimeMs-t.targetTimeMs));for(const t of this.$c)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.zc()}))}Yc(e){this.qc.push(e)}Wc(e){const t=this.$c.indexOf(e);this.$c.splice(t,1)}}function jf(e){return function(e,t){if("object"!=typeof e||null===e)return!1;const n=e;for(const r of t)if(r in n&&"function"==typeof n[r])return!0;return!1}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(e,["next","error","complete"])}class zf{constructor(){this._progressObserver={},this._taskCompletionResolver=new ti,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,n){this._progressObserver={next:e,error:t,complete:n}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $f=-1;class Hf extends Of{constructor(e,t,n){super(e,t,n),this.type="firestore",this._queue=new Vf,this._persistenceKey="name"in e?e.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||Wf(this),this._firestoreClient.terminate()}}function Kf(e){return e._firestoreClient||Wf(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function Wf(e){var t;const n=e._freezeSettings(),r=function(e,t,n,r){return new fo(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new tf(e._authCredentials,e._appCheckCredentials,e._queue,r)}function Gf(e,t){rp(e=Cf(e,Hf));const n=Kf(e),r=e._freezeSettings(),i=new Zd;return Yf(n,i,new Wd(i,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}function Zf(e){rp(e=Cf(e,Hf));const t=Kf(e),n=e._freezeSettings(),r=new Zd;return Yf(t,r,new Gd(r,n.cacheSizeBytes))}function Yf(e,t,n){const r=new ti;return e.asyncQueue.enqueue((async()=>{try{await nf(e,n),await rf(e,t),r.resolve()}catch(e){const n=e;if(!function(e){return"FirebaseError"===e.name?e.code===Xr.FAILED_PRECONDITION||e.code===Xr.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||(22===e.code||20===e.code||11===e.code)}(n))throw n;Wr("Error enabling offline persistence. Falling back to persistence disabled: "+n),r.reject(n)}})).then((()=>r.promise))}function Qf(e){if(e._initialized&&!e._terminated)throw new ei(Xr.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const t=new ti;return e._queue.enqueueAndForgetEvenWhileRestricted((async()=>{try{await async function(e){if(!Fi.V())return Promise.resolve();const t=e+"main";await Fi.delete(t)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(Tc(e._databaseId,e._persistenceKey)),t.resolve()}catch(e){t.reject(e)}})),t.promise}function Jf(e){return function(e){const t=new ti;return e.asyncQueue.enqueueAndForget((async()=>kd(await cf(e),t))),t.promise}(Kf(e=Cf(e,Hf)))}function Xf(e){return df(Kf(e=Cf(e,Hf)))}function ep(e){return ff(Kf(e=Cf(e,Hf)))}function tp(e,t){const n=Kf(e=Cf(e,Hf)),r=new zf;return wf(n,e._databaseId,t,r),r}function np(e,t){return _f(Kf(e=Cf(e,Hf)),t).then((t=>t?new Df(e,null,t.query):null))}function rp(e){if(e._initialized||e._terminated)throw new ei(Xr.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ip{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new ei(Xr.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new wi(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class op{constructor(e){this._byteString=e}static fromBase64String(e){try{return new op(io.fromBase64String(e))}catch(e){throw new ei(Xr.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new op(io.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sp{constructor(e){this._methodName=e}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ap{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new ei(Xr.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new ei(Xr.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return di(this._lat,e._lat)||di(this._long,e._long)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lp=/^__.*__$/;class up{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return null!==this.fieldMask?new ta(e,this.data,this.fieldMask,t,this.fieldTransforms):new ea(e,this.data,t,this.fieldTransforms)}}class cp{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new ta(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function hp(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Zr()}}class dp{constructor(e,t,n,r,i,o){this.settings=e,this.databaseId=t,this.wt=n,this.ignoreUndefinedProperties=r,void 0===i&&this.Xc(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Zc(){return this.settings.Zc}ta(e){return new dp(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.wt,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ea(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.ta({path:n,na:!1});return r.sa(e),r}ia(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.ta({path:n,na:!1});return r.Xc(),r}ra(e){return this.ta({path:void 0,na:!0})}oa(e){return Np(e,this.settings.methodName,this.settings.ua||!1,this.path,this.settings.ca)}contains(e){return void 0!==this.fieldMask.find((t=>e.isPrefixOf(t)))||void 0!==this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))}Xc(){if(this.path)for(let e=0;e<this.path.length;e++)this.sa(this.path.get(e))}sa(e){if(0===e.length)throw this.oa("Document fields must not be empty");if(hp(this.Zc)&&lp.test(e))throw this.oa('Document fields cannot begin and end with "__"')}}class fp{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.wt=n||uh(e)}aa(e,t,n,r=!1){return new dp({Zc:e,methodName:t,ca:n,path:wi.emptyPath(),na:!1,ua:r},this.databaseId,this.wt,this.ignoreUndefinedProperties)}}function pp(e){const t=e._freezeSettings(),n=uh(e._databaseId);return new fp(e._databaseId,!!t.ignoreUndefinedProperties,n)}function mp(e,t,n,r,i,o={}){const s=e.aa(o.merge||o.mergeFields?2:0,t,n,i);Cp("Data must be an object, but it was:",s,r);const a=Ep(r,s);let l,u;if(o.merge)l=new no(s.fieldMask),u=s.fieldTransforms;else if(o.mergeFields){const e=[];for(const r of o.mergeFields){const i=Ap(t,r,n);if(!s.contains(i))throw new ei(Xr.INVALID_ARGUMENT,`Field '${i}' is specified in your field mask but missing from your input data.`);Pp(e,i)||e.push(i)}l=new no(e),u=s.fieldTransforms.filter((e=>l.covers(e.field)))}else l=null,u=s.fieldTransforms;return new up(new Uo(a),l,u)}class gp extends sp{_toFieldTransform(e){if(2!==e.Zc)throw 1===e.Zc?e.oa(`${this._methodName}() can only appear at the top level of your update data`):e.oa(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof gp}}function vp(e,t,n){return new dp({Zc:3,ca:t.settings.ca,methodName:e._methodName,na:n},t.databaseId,t.wt,t.ignoreUndefinedProperties)}class yp extends sp{_toFieldTransform(e){return new zs(e.path,new Ls)}isEqual(e){return e instanceof yp}}class bp extends sp{constructor(e,t){super(e),this.ha=t}_toFieldTransform(e){const t=vp(this,e,!0),n=this.ha.map((e=>xp(e,t))),r=new Fs(n);return new zs(e.path,r)}isEqual(e){return this===e}}class wp extends sp{constructor(e,t){super(e),this.ha=t}_toFieldTransform(e){const t=vp(this,e,!0),n=this.ha.map((e=>xp(e,t))),r=new qs(n);return new zs(e.path,r)}isEqual(e){return this===e}}class _p extends sp{constructor(e,t){super(e),this.la=t}_toFieldTransform(e){const t=new Bs(e.wt,Rs(e.wt,this.la));return new zs(e.path,t)}isEqual(e){return this===e}}function Sp(e,t,n,r){const i=e.aa(1,t,n);Cp("Data must be an object, but it was:",i,r);const o=[],s=Uo.empty();Gi(r,((e,r)=>{const l=Op(t,e,n);r=(0,a.m9)(r);const u=i.ia(l);if(r instanceof gp)o.push(l);else{const e=xp(r,u);null!=e&&(o.push(l),s.set(l,e))}}));const l=new no(o);return new cp(s,l,i.fieldTransforms)}function kp(e,t,n,r,i,o){const s=e.aa(1,t,n),l=[Ap(t,r,n)],u=[i];if(o.length%2!=0)throw new ei(Xr.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let a=0;a<o.length;a+=2)l.push(Ap(t,o[a])),u.push(o[a+1]);const c=[],h=Uo.empty();for(let f=l.length-1;f>=0;--f)if(!Pp(c,l[f])){const e=l[f];let t=u[f];t=(0,a.m9)(t);const n=s.ia(e);if(t instanceof gp)c.push(e);else{const r=xp(t,n);null!=r&&(c.push(e),h.set(e,r))}}const d=new no(c);return new cp(h,d,s.fieldTransforms)}function Ip(e,t,n,r=!1){return xp(n,e.aa(r?4:3,t))}function xp(e,t){if(Tp(e=(0,a.m9)(e)))return Cp("Unsupported field value:",t,e),Ep(e,t);if(e instanceof sp)return function(e,t){if(!hp(t.Zc))throw t.oa(`${e._methodName}() can only be used with update() and set()`);if(!t.path)throw t.oa(`${e._methodName}() is not currently supported inside arrays`);const n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.na&&4!==t.Zc)throw t.oa("Nested arrays are not supported");return function(e,t){const n=[];let r=0;for(const i of e){let e=xp(i,t.ra(r));null==e&&(e={nullValue:"NULL_VALUE"}),n.push(e),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=(0,a.m9)(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return Rs(t.wt,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const n=mi.fromDate(e);return{timestampValue:qa(t.wt,n)}}if(e instanceof mi){const n=new mi(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:qa(t.wt,n)}}if(e instanceof ap)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof op)return{bytesValue:Ua(t.wt,e._byteString)};if(e instanceof Pf){const n=t.databaseId,r=e.firestore._databaseId;if(!r.isEqual(n))throw t.oa(`Document reference is for database ${r.projectId}/${r.database} but should be for database ${n.projectId}/${n.database}`);return{referenceValue:ja(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.oa(`Unsupported field value: ${Tf(e)}`)}(e,t)}function Ep(e,t){const n={};return Zi(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Gi(e,((e,r)=>{const i=xp(r,t.ea(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function Tp(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof mi||e instanceof ap||e instanceof op||e instanceof Pf||e instanceof sp)}function Cp(e,t,n){if(!Tp(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){const r=Tf(n);throw"an object"===r?t.oa(e+" a custom object"):t.oa(e+" "+r)}}function Ap(e,t,n){if((t=(0,a.m9)(t))instanceof ip)return t._internalPath;if("string"==typeof t)return Op(e,t);throw Np("Field path arguments must be of type string or ",e,!1,void 0,n)}const Rp=new RegExp("[~\\*/\\[\\]]");function Op(e,t,n){if(t.search(Rp)>=0)throw Np(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new ip(...t.split("."))._internalPath}catch(r){throw Np(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function Np(e,t,n,r,i){const o=r&&!r.isEmpty(),s=void 0!==i;let a=`Function ${t}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(o||s)&&(l+=" (found",o&&(l+=` in field ${r}`),s&&(l+=` in document ${i}`),l+=")"),new ei(Xr.INVALID_ARGUMENT,a+e+l)}function Pp(e,t){return e.some((e=>e.isEqual(t)))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dp{constructor(e,t,n,r,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new Pf(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Lp(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Fp("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class Lp extends Dp{data(){return super.data()}}function Fp(e,t){return"string"==typeof t?Op(e,t):t instanceof ip?t._internalPath:t._delegate._internalPath}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mp{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class qp extends Dp{constructor(e,t,n,r,i,o){super(e,t,n,r,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Up(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const n=this._document.data.field(Fp("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}class Up extends qp{data(e={}){return super.data(e)}}class Bp{constructor(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new Mp(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach((n=>{e.call(t,new Up(this._firestore,this._userDataWriter,n.key,n,new Mp(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new ei(Xr.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map((n=>({type:"added",doc:new Up(e._firestore,e._userDataWriter,n.doc.key,n.doc,new Mp(e._snapshot.mutatedKeys.has(n.doc.key),e._snapshot.fromCache),e.query.converter),oldIndex:-1,newIndex:t++})))}{let n=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((e=>t||3!==e.type)).map((t=>{const r=new Up(e._firestore,e._userDataWriter,t.doc.key,t.doc,new Mp(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);let i=-1,o=-1;return 0!==t.type&&(i=n.indexOf(t.doc.key),n=n.delete(t.doc.key)),1!==t.type&&(n=n.add(t.doc),o=n.indexOf(t.doc.key)),{type:Vp(t.type),doc:r,oldIndex:i,newIndex:o}}))}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function Vp(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Zr()}}function jp(e,t){return e instanceof qp&&t instanceof qp?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof Bp&&t instanceof Bp&&e._firestore===t._firestore&&Bf(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zp(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new ei(Xr.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class $p{}function Hp(e,...t){for(const n of t)e=n._apply(e);return e}class Kp extends $p{constructor(e,t,n){super(),this.fa=e,this.da=t,this._a=n,this.type="where"}_apply(e){const t=pp(e.firestore),n=function(e,t,n,r,i,o,s){let a;if(i.isKeyField()){if("array-contains"===o||"array-contains-any"===o)throw new ei(Xr.INVALID_ARGUMENT,`Invalid Query. You can't perform '${o}' queries on documentId().`);if("in"===o||"not-in"===o){am(s,o);const t=[];for(const n of s)t.push(sm(r,e,n));a={arrayValue:{values:t}}}else a=sm(r,e,s)}else"in"!==o&&"not-in"!==o&&"array-contains-any"!==o||am(s,o),a=Ip(n,t,s,"in"===o||"not-in"===o);const l=Qo.create(i,o,a);return function(e,t){if(t.ht()){const n=gs(e);if(null!==n&&!n.isEqual(t.field))throw new ei(Xr.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${n.toString()}' and '${t.field.toString()}'`);const r=ms(e);null!==r&&lm(e,t.field,r)}const n=function(e,t){for(const n of e.filters)if(t.indexOf(n.op)>=0)return n.op;return null}(e,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==n)throw n===t.op?new ei(Xr.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new ei(Xr.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}(e,l),l}(e._query,"where",t,e.firestore._databaseId,this.fa,this.da,this._a);return new Df(e.firestore,e.converter,function(e,t){const n=e.filters.concat([t]);return new hs(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}(e._query,n))}}function Wp(e,t,n){const r=t,i=Fp("where",e);return new Kp(i,r,n)}class Gp extends $p{constructor(e,t){super(),this.fa=e,this.wa=t,this.type="orderBy"}_apply(e){const t=function(e,t,n){if(null!==e.startAt)throw new ei(Xr.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new ei(Xr.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const r=new as(t,n);return function(e,t){if(null===ms(e)){const n=gs(e);null!==n&&lm(e,n,t.field)}}(e,r),r}(e._query,this.fa,this.wa);return new Df(e.firestore,e.converter,function(e,t){const n=e.explicitOrderBy.concat([t]);return new hs(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}function Zp(e,t="asc"){const n=t,r=Fp("orderBy",e);return new Gp(r,n)}class Yp extends $p{constructor(e,t,n){super(),this.type=e,this.ma=t,this.ga=n}_apply(e){return new Df(e.firestore,e.converter,ws(e._query,this.ma,this.ga))}}function Qp(e){return Af("limit",e),new Yp("limit",e,"F")}function Jp(e){return Af("limitToLast",e),new Yp("limitToLast",e,"L")}class Xp extends $p{constructor(e,t,n){super(),this.type=e,this.ya=t,this.pa=n}_apply(e){const t=om(e,this.type,this.ya,this.pa);return new Df(e.firestore,e.converter,function(e,t){return new hs(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))}}function em(...e){return new Xp("startAt",e,!0)}function tm(...e){return new Xp("startAfter",e,!1)}class nm extends $p{constructor(e,t,n){super(),this.type=e,this.ya=t,this.pa=n}_apply(e){const t=om(e,this.type,this.ya,this.pa);return new Df(e.firestore,e.converter,function(e,t){return new hs(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))}}function rm(...e){return new nm("endBefore",e,!1)}function im(...e){return new nm("endAt",e,!0)}function om(e,t,n,r){if(n[0]=(0,a.m9)(n[0]),n[0]instanceof Dp)return function(e,t,n,r,i){if(!r)throw new ei(Xr.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${n}().`);const o=[];for(const s of ys(e))if(s.field.isKeyField())o.push(To(t,r.key));else{const e=r.data.field(s.field);if(uo(e))throw new ei(Xr.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+s.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===e){const e=s.field.canonicalString();throw new ei(Xr.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${e}' (used as the orderBy) does not exist.`)}o.push(e)}return new ss(o,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);{const i=pp(e.firestore);return function(e,t,n,r,i,o){const s=e.explicitOrderBy;if(i.length>s.length)throw new ei(Xr.INVALID_ARGUMENT,`Too many arguments provided to ${r}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const a=[];for(let l=0;l<i.length;l++){const o=i[l];if(s[l].field.isKeyField()){if("string"!=typeof o)throw new ei(Xr.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${r}(), but got a ${typeof o}`);if(!vs(e)&&-1!==o.indexOf("/"))throw new ei(Xr.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${r}() must be a plain document ID, but '${o}' contains a slash.`);const n=e.path.child(yi.fromString(o));if(!_i.isDocumentKey(n))throw new ei(Xr.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${r}() must result in a valid document path, but '${n}' is not because it contains an odd number of segments.`);const i=new _i(n);a.push(To(t,i))}else{const e=Ip(n,r,o);a.push(e)}}return new ss(a,o)}(e._query,e.firestore._databaseId,i,t,n,r)}}function sm(e,t,n){if("string"==typeof(n=(0,a.m9)(n))){if(""===n)throw new ei(Xr.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!vs(t)&&-1!==n.indexOf("/"))throw new ei(Xr.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=t.path.child(yi.fromString(n));if(!_i.isDocumentKey(r))throw new ei(Xr.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return To(e,new _i(r))}if(n instanceof Pf)return To(e,n._key);throw new ei(Xr.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Tf(n)}.`)}function am(e,t){if(!Array.isArray(e)||0===e.length)throw new ei(Xr.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`);if(e.length>10)throw new ei(Xr.INVALID_ARGUMENT,`Invalid Query. '${t.toString()}' filters support a maximum of 10 elements in the value array.`)}function lm(e,t,n){if(!n.isEqual(t))throw new ei(Xr.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${t.toString()}' and so you must also use '${t.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${n.toString()}' instead.`)}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const um={maxAttempts:5};
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cm{convertValue(e,t="none"){switch(wo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ao(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(lo(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Zr()}}convertObject(e,t){const n={};return Gi(e.fields,((e,r)=>{n[e]=this.convertValue(r,t)})),n}convertGeoPoint(e){return new ap(ao(e.latitude),ao(e.longitude))}convertArray(e,t){return(e.values||[]).map((e=>this.convertValue(e,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const n=co(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(ho(e));default:return null}}convertTimestamp(e){const t=so(e);return new mi(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=yi.fromString(e);Yr(ml(n));const r=new po(n.get(1),n.get(3)),i=new _i(n.popFirst(5));return r.isEqual(t)||Kr(`Document ${i} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),i}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hm(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}class dm extends cm{constructor(e){super(),this.firestore=e}convertBytes(e){return new op(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Pf(this.firestore,null,t)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fm{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=pp(e)}set(e,t,n){this._verifyNotCommitted();const r=pm(e,this._firestore),i=hm(r.converter,t,n),o=mp(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(o.toMutation(r._key,Ks.none())),this}update(e,t,n,...r){this._verifyNotCommitted();const i=pm(e,this._firestore);let o;return o="string"==typeof(t=(0,a.m9)(t))||t instanceof ip?kp(this._dataReader,"WriteBatch.update",i._key,t,n,r):Sp(this._dataReader,"WriteBatch.update",i._key,t),this._mutations.push(o.toMutation(i._key,Ks.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=pm(e,this._firestore);return this._mutations=this._mutations.concat(new oa(t._key,Ks.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new ei(Xr.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function pm(e,t){if((e=(0,a.m9)(e)).firestore!==t)throw new ei(Xr.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mm(e){e=Cf(e,Pf);const t=Cf(e.firestore,Hf);return mf(Kf(t),e._key).then((n=>Am(t,e,n)))}class gm extends cm{constructor(e){super(),this.firestore=e}convertBytes(e){return new op(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Pf(this.firestore,null,t)}}function vm(e){e=Cf(e,Pf);const t=Cf(e.firestore,Hf),n=Kf(t),r=new gm(t);return pf(n,e._key).then((n=>new qp(t,r,e._key,n,new Mp(null!==n&&n.hasLocalMutations,!0),e.converter)))}function ym(e){e=Cf(e,Pf);const t=Cf(e.firestore,Hf);return mf(Kf(t),e._key,{source:"server"}).then((n=>Am(t,e,n)))}function bm(e){e=Cf(e,Df);const t=Cf(e.firestore,Hf),n=Kf(t),r=new gm(t);return zp(e._query),vf(n,e._query).then((n=>new Bp(t,r,e,n)))}function wm(e){e=Cf(e,Df);const t=Cf(e.firestore,Hf),n=Kf(t),r=new gm(t);return gf(n,e._query).then((n=>new Bp(t,r,e,n)))}function _m(e){e=Cf(e,Df);const t=Cf(e.firestore,Hf),n=Kf(t),r=new gm(t);return vf(n,e._query,{source:"server"}).then((n=>new Bp(t,r,e,n)))}function Sm(e,t,n){e=Cf(e,Pf);const r=Cf(e.firestore,Hf),i=hm(e.converter,t,n);return Cm(r,[mp(pp(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,Ks.none())])}function km(e,t,n,...r){e=Cf(e,Pf);const i=Cf(e.firestore,Hf),o=pp(i);let s;return s="string"==typeof(t=(0,a.m9)(t))||t instanceof ip?kp(o,"updateDoc",e._key,t,n,r):Sp(o,"updateDoc",e._key,t),Cm(i,[s.toMutation(e._key,Ks.exists(!0))])}function Im(e){return Cm(Cf(e.firestore,Hf),[new oa(e._key,Ks.none())])}function xm(e,t){const n=Cf(e.firestore,Hf),r=qf(e),i=hm(e.converter,t);return Cm(n,[mp(pp(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,Ks.exists(!1))]).then((()=>r))}function Em(e,...t){var n,r,i;e=(0,a.m9)(e);let o={includeMetadataChanges:!1},s=0;"object"!=typeof t[s]||jf(t[s])||(o=t[s],s++);const l={includeMetadataChanges:o.includeMetadataChanges};if(jf(t[s])){const e=t[s];t[s]=null===(n=e.next)||void 0===n?void 0:n.bind(e),t[s+1]=null===(r=e.error)||void 0===r?void 0:r.bind(e),t[s+2]=null===(i=e.complete)||void 0===i?void 0:i.bind(e)}let u,c,h;if(e instanceof Pf)c=Cf(e.firestore,Hf),h=fs(e._key.path),u={next:n=>{t[s]&&t[s](Am(c,e,n))},error:t[s+1],complete:t[s+2]};else{const n=Cf(e,Df);c=Cf(n.firestore,Hf),h=n._query;const r=new gm(c);u={next:e=>{t[s]&&t[s](new Bp(c,r,n,e))},error:t[s+1],complete:t[s+2]},zp(e._query)}return function(e,t,n,r){const i=new Qd(r),o=new rd(t,i,n);return e.asyncQueue.enqueueAndForget((async()=>Jh(await hf(e),o))),()=>{i.Tc(),e.asyncQueue.enqueueAndForget((async()=>Xh(await hf(e),o)))}}(Kf(c),h,l,u)}function Tm(e,t){return yf(Kf(e=Cf(e,Hf)),jf(t)?t:{next:t})}function Cm(e,t){return function(e,t){const n=new ti;return e.asyncQueue.enqueueAndForget((async()=>vd(await cf(e),t,n))),n.promise}(Kf(e),t)}function Am(e,t,n){const r=n.docs.get(t._key),i=new gm(e);return new qp(e,i,t._key,r,new Mp(n.hasPendingWrites,n.fromCache),t.converter)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rm extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=pp(e)}get(e){const t=pm(e,this._firestore),n=new dm(this._firestore);return this._transaction.lookup([t._key]).then((e=>{if(!e||1!==e.length)return Zr();const r=e[0];if(r.isFoundDocument())return new Dp(this._firestore,n,r.key,r,t.converter);if(r.isNoDocument())return new Dp(this._firestore,n,t._key,null,t.converter);throw Zr()}))}set(e,t,n){const r=pm(e,this._firestore),i=hm(r.converter,t,n),o=mp(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,o),this}update(e,t,n,...r){const i=pm(e,this._firestore);let o;return o="string"==typeof(t=(0,a.m9)(t))||t instanceof ip?kp(this._dataReader,"Transaction.update",i._key,t,n,r):Sp(this._dataReader,"Transaction.update",i._key,t),this._transaction.update(i._key,o),this}delete(e){const t=pm(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=pm(e,this._firestore),n=new gm(this._firestore);return super.get(e).then((e=>new qp(this._firestore,n,t._key,e._document,new Mp(!1,!1),t.converter)))}}function Om(e,t,n){e=Cf(e,Hf);const r=Object.assign(Object.assign({},um),n);return function(e){if(e.maxAttempts<1)throw new ei(Xr.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),bf(Kf(e),(n=>t(new Rm(e,n))),r)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nm(){return new gp("deleteField")}function Pm(){return new yp("serverTimestamp")}function Dm(...e){return new bp("arrayUnion",e)}function Lm(...e){return new wp("arrayRemove",e)}function Fm(e){return new _p("increment",e)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */!function(e,t=!0){!function(e){Vr=e}(i.SDK_VERSION),(0,i._registerComponent)(new o.wA("firestore",((e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=new Hf(r,new oi(e.getProvider("auth-internal")),new ui(e.getProvider("app-check-internal")));return n=Object.assign({useFetchStreams:t},n),i._setSettings(n),i}),"PUBLIC")),(0,i.registerVersion)(Ur,"3.4.14",e),(0,i.registerVersion)(Ur,"3.4.14","esm2017")}()},5505:(e,t,n)=>{"use strict";n.d(t,{BH:()=>h,G6:()=>S,L:()=>a,LL:()=>T,Mn:()=>_,Sg:()=>d,UG:()=>m,ZB:()=>u,ZR:()=>E,b$:()=>y,d:()=>b,eu:()=>I,hl:()=>k,jU:()=>g,m9:()=>V,ne:()=>M,pd:()=>F,r3:()=>R,ru:()=>v,tV:()=>l,uI:()=>p,vZ:()=>N,w1:()=>w,xO:()=>D,xb:()=>O,z$:()=>f,zd:()=>L});
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const r=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},i=function(e){const t=[];let n=0,r=0;while(n<e.length){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){const o=e[n++],s=e[n++],a=e[n++],l=((7&i)<<18|(63&o)<<12|(63&s)<<6|63&a)-65536;t[r++]=String.fromCharCode(55296+(l>>10)),t[r++]=String.fromCharCode(56320+(1023&l))}else{const o=e[n++],s=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&s)}}return t.join("")},o={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const t=e[i],o=i+1<e.length,s=o?e[i+1]:0,a=i+2<e.length,l=a?e[i+2]:0,u=t>>2,c=(3&t)<<4|s>>4;let h=(15&s)<<2|l>>6,d=63&l;a||(d=64,o||(h=64)),r.push(n[u],n[c],n[h],n[d])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(r(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):i(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const t=n[e.charAt(i++)],o=i<e.length,s=o?n[e.charAt(i)]:0;++i;const a=i<e.length,l=a?n[e.charAt(i)]:64;++i;const u=i<e.length,c=u?n[e.charAt(i)]:64;if(++i,null==t||null==s||null==l||null==c)throw Error();const h=t<<2|s>>4;if(r.push(h),64!==l){const e=s<<4&240|l>>2;if(r.push(e),64!==c){const e=l<<6&192|c;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},s=function(e){const t=r(e);return o.encodeByteArray(t,!0)},a=function(e){return s(e).replace(/\./g,"")},l=function(e){try{return o.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:const n=t;return new Date(n.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(const n in t)t.hasOwnProperty(n)&&c(n)&&(e[n]=u(e[n],t[n]));return e}function c(e){return"__proto__"!==e}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"===typeof e&&(this.promise.catch((()=>{})),1===e.length?e(t):e(t,n))}}}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=t||"demo-project",i=e.iat||0,o=e.sub||e.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},e),l="";return[a(JSON.stringify(n)),a(JSON.stringify(s)),l].join(".")}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f(){return"undefined"!==typeof navigator&&"string"===typeof navigator["userAgent"]?navigator["userAgent"]:""}function p(){return"undefined"!==typeof window&&!!(window["cordova"]||window["phonegap"]||window["PhoneGap"])&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(f())}function m(){try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(e){return!1}}function g(){return"object"===typeof self&&self.self===self}function v(){const e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function y(){return"object"===typeof navigator&&"ReactNative"===navigator["product"]}function b(){return f().indexOf("Electron/")>=0}function w(){const e=f();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function _(){return f().indexOf("MSAppHost/")>=0}function S(){return!m()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function k(){return"object"===typeof indexedDB}function I(){return new Promise(((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(n){t(n)}}))}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const x="FirebaseError";class E extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name=x,Object.setPrototypeOf(this,E.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,T.prototype.create)}}class T{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e,...t){const n=t[0]||{},r=`${this.service}/${e}`,i=this.errors[e],o=i?C(i,n):"Error",s=`${this.serviceName}: ${o} (${r}).`,a=new E(r,s,n);return a}}function C(e,t){return e.replace(A,((e,n)=>{const r=t[n];return null!=r?String(r):`<${n}?>`}))}const A=/\{\$([^}]+)}/g;
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function R(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function O(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function N(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const n=e[i],o=t[i];if(P(n)&&P(o)){if(!N(n,o))return!1}else if(n!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function P(e){return null!==e&&"object"===typeof e}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function D(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach((e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function L(e){const t={},n=e.replace(/^\?/,"").split("&");return n.forEach((e=>{if(e){const[n,r]=e.split("=");t[decodeURIComponent(n)]=decodeURIComponent(r)}})),t}function F(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M(e,t){const n=new q(e,t);return n.subscribe.bind(n)}class q{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then((()=>{e(this)})).catch((e=>{this.error(e)}))}next(e){this.forEachObserver((t=>{t.next(e)}))}error(e){this.forEachObserver((t=>{t.error(e)})),this.close(e)}complete(){this.forEachObserver((e=>{e.complete()})),this.close()}subscribe(e,t,n){let r;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");r=U(e,["next","error","complete"])?e:{next:e,error:t,complete:n},void 0===r.next&&(r.next=B),void 0===r.error&&(r.error=B),void 0===r.complete&&(r.complete=B);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch(e){}})),this.observers.push(r),i}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then((()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(n){"undefined"!==typeof console&&console.error&&console.error(n)}}))}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((()=>{this.observers=void 0,this.onNoObservers=void 0})))}}function U(e,t){if("object"!==typeof e||null===e)return!1;for(const n of t)if(n in e&&"function"===typeof e[n])return!0;return!1}function B(){}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function V(e){return e&&e._delegate?e._delegate:e}},9984:e=>{e.exports=function(e,t,n){const r=void 0!==e.__vccOpts?e.__vccOpts:e,i=r[t];if(void 0===i)r[t]=n;else for(const o in n)void 0===i[o]&&(i[o]=n[o])}},499:(e,t,n)=>{"use strict";n.d(t,{Bj:()=>o,Fl:()=>$e,IU:()=>Ce,Jd:()=>k,PG:()=>Ie,SU:()=>Ue,Um:()=>_e,WL:()=>Ve,X$:()=>T,X3:()=>Te,XI:()=>Fe,Xl:()=>Ae,dq:()=>De,iH:()=>Le,j:()=>x,lk:()=>I,qj:()=>we,qq:()=>b,yT:()=>Ee});var r=n(6970);let i;class o{constructor(e=!1){this.active=!0,this.effects=[],this.cleanups=[],!e&&i&&(this.parent=i,this.index=(i.scopes||(i.scopes=[])).push(this)-1)}run(e){if(this.active){const t=i;try{return i=this,e()}finally{i=t}}else 0}on(){i=this}off(){i=this.parent}stop(e){if(this.active){let t,n;for(t=0,n=this.effects.length;t<n;t++)this.effects[t].stop();for(t=0,n=this.cleanups.length;t<n;t++)this.cleanups[t]();if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].stop(!0);if(this.parent&&!e){const e=this.parent.scopes.pop();e&&e!==this&&(this.parent.scopes[this.index]=e,e.index=this.index)}this.active=!1}}}function s(e,t=i){t&&t.active&&t.effects.push(e)}const a=e=>{const t=new Set(e);return t.w=0,t.n=0,t},l=e=>(e.w&p)>0,u=e=>(e.n&p)>0,c=({deps:e})=>{if(e.length)for(let t=0;t<e.length;t++)e[t].w|=p},h=e=>{const{deps:t}=e;if(t.length){let n=0;for(let r=0;r<t.length;r++){const i=t[r];l(i)&&!u(i)?i.delete(e):t[n++]=i,i.w&=~p,i.n&=~p}t.length=n}},d=new WeakMap;let f=0,p=1;const m=30;let g;const v=Symbol(""),y=Symbol("");class b{constructor(e,t=null,n){this.fn=e,this.scheduler=t,this.active=!0,this.deps=[],this.parent=void 0,s(this,n)}run(){if(!this.active)return this.fn();let e=g,t=_;while(e){if(e===this)return;e=e.parent}try{return this.parent=g,g=this,_=!0,p=1<<++f,f<=m?c(this):w(this),this.fn()}finally{f<=m&&h(this),p=1<<--f,g=this.parent,_=t,this.parent=void 0,this.deferStop&&this.stop()}}stop(){g===this?this.deferStop=!0:this.active&&(w(this),this.onStop&&this.onStop(),this.active=!1)}}function w(e){const{deps:t}=e;if(t.length){for(let n=0;n<t.length;n++)t[n].delete(e);t.length=0}}let _=!0;const S=[];function k(){S.push(_),_=!1}function I(){const e=S.pop();_=void 0===e||e}function x(e,t,n){if(_&&g){let t=d.get(e);t||d.set(e,t=new Map);let r=t.get(n);r||t.set(n,r=a());const i=void 0;E(r,i)}}function E(e,t){let n=!1;f<=m?u(e)||(e.n|=p,n=!l(e)):n=!e.has(g),n&&(e.add(g),g.deps.push(e))}function T(e,t,n,i,o,s){const l=d.get(e);if(!l)return;let u=[];if("clear"===t)u=[...l.values()];else if("length"===n&&(0,r.kJ)(e))l.forEach(((e,t)=>{("length"===t||t>=i)&&u.push(e)}));else switch(void 0!==n&&u.push(l.get(n)),t){case"add":(0,r.kJ)(e)?(0,r.S0)(n)&&u.push(l.get("length")):(u.push(l.get(v)),(0,r._N)(e)&&u.push(l.get(y)));break;case"delete":(0,r.kJ)(e)||(u.push(l.get(v)),(0,r._N)(e)&&u.push(l.get(y)));break;case"set":(0,r._N)(e)&&u.push(l.get(v));break}if(1===u.length)u[0]&&C(u[0]);else{const e=[];for(const t of u)t&&e.push(...t);C(a(e))}}function C(e,t){const n=(0,r.kJ)(e)?e:[...e];for(const r of n)r.computed&&A(r,t);for(const r of n)r.computed||A(r,t)}function A(e,t){(e!==g||e.allowRecurse)&&(e.scheduler?e.scheduler():e.run())}const R=(0,r.fY)("__proto__,__v_isRef,__isVue"),O=new Set(Object.getOwnPropertyNames(Symbol).filter((e=>"arguments"!==e&&"caller"!==e)).map((e=>Symbol[e])).filter(r.yk)),N=M(),P=M(!1,!0),D=M(!0),L=F();function F(){const e={};return["includes","indexOf","lastIndexOf"].forEach((t=>{e[t]=function(...e){const n=Ce(this);for(let t=0,i=this.length;t<i;t++)x(n,"get",t+"");const r=n[t](...e);return-1===r||!1===r?n[t](...e.map(Ce)):r}})),["push","pop","shift","unshift","splice"].forEach((t=>{e[t]=function(...e){k();const n=Ce(this)[t].apply(this,e);return I(),n}})),e}function M(e=!1,t=!1){return function(n,i,o){if("__v_isReactive"===i)return!e;if("__v_isReadonly"===i)return e;if("__v_isShallow"===i)return t;if("__v_raw"===i&&o===(e?t?ve:ge:t?me:pe).get(n))return n;const s=(0,r.kJ)(n);if(!e&&s&&(0,r.RI)(L,i))return Reflect.get(L,i,o);const a=Reflect.get(n,i,o);return((0,r.yk)(i)?O.has(i):R(i))?a:(e||x(n,"get",i),t?a:De(a)?s&&(0,r.S0)(i)?a:a.value:(0,r.Kn)(a)?e?Se(a):we(a):a)}}const q=B(),U=B(!0);function B(e=!1){return function(t,n,i,o){let s=t[n];if(xe(s)&&De(s)&&!De(i))return!1;if(!e&&(Ee(i)||xe(i)||(s=Ce(s),i=Ce(i)),!(0,r.kJ)(t)&&De(s)&&!De(i)))return s.value=i,!0;const a=(0,r.kJ)(t)&&(0,r.S0)(n)?Number(n)<t.length:(0,r.RI)(t,n),l=Reflect.set(t,n,i,o);return t===Ce(o)&&(a?(0,r.aU)(i,s)&&T(t,"set",n,i,s):T(t,"add",n,i)),l}}function V(e,t){const n=(0,r.RI)(e,t),i=e[t],o=Reflect.deleteProperty(e,t);return o&&n&&T(e,"delete",t,void 0,i),o}function j(e,t){const n=Reflect.has(e,t);return(0,r.yk)(t)&&O.has(t)||x(e,"has",t),n}function z(e){return x(e,"iterate",(0,r.kJ)(e)?"length":v),Reflect.ownKeys(e)}const $={get:N,set:q,deleteProperty:V,has:j,ownKeys:z},H={get:D,set(e,t){return!0},deleteProperty(e,t){return!0}},K=(0,r.l7)({},$,{get:P,set:U}),W=e=>e,G=e=>Reflect.getPrototypeOf(e);function Z(e,t,n=!1,r=!1){e=e["__v_raw"];const i=Ce(e),o=Ce(t);n||(t!==o&&x(i,"get",t),x(i,"get",o));const{has:s}=G(i),a=r?W:n?Oe:Re;return s.call(i,t)?a(e.get(t)):s.call(i,o)?a(e.get(o)):void(e!==i&&e.get(t))}function Y(e,t=!1){const n=this["__v_raw"],r=Ce(n),i=Ce(e);return t||(e!==i&&x(r,"has",e),x(r,"has",i)),e===i?n.has(e):n.has(e)||n.has(i)}function Q(e,t=!1){return e=e["__v_raw"],!t&&x(Ce(e),"iterate",v),Reflect.get(e,"size",e)}function J(e){e=Ce(e);const t=Ce(this),n=G(t),r=n.has.call(t,e);return r||(t.add(e),T(t,"add",e,e)),this}function X(e,t){t=Ce(t);const n=Ce(this),{has:i,get:o}=G(n);let s=i.call(n,e);s||(e=Ce(e),s=i.call(n,e));const a=o.call(n,e);return n.set(e,t),s?(0,r.aU)(t,a)&&T(n,"set",e,t,a):T(n,"add",e,t),this}function ee(e){const t=Ce(this),{has:n,get:r}=G(t);let i=n.call(t,e);i||(e=Ce(e),i=n.call(t,e));const o=r?r.call(t,e):void 0,s=t.delete(e);return i&&T(t,"delete",e,void 0,o),s}function te(){const e=Ce(this),t=0!==e.size,n=void 0,r=e.clear();return t&&T(e,"clear",void 0,void 0,n),r}function ne(e,t){return function(n,r){const i=this,o=i["__v_raw"],s=Ce(o),a=t?W:e?Oe:Re;return!e&&x(s,"iterate",v),o.forEach(((e,t)=>n.call(r,a(e),a(t),i)))}}function re(e,t,n){return function(...i){const o=this["__v_raw"],s=Ce(o),a=(0,r._N)(s),l="entries"===e||e===Symbol.iterator&&a,u="keys"===e&&a,c=o[e](...i),h=n?W:t?Oe:Re;return!t&&x(s,"iterate",u?y:v),{next(){const{value:e,done:t}=c.next();return t?{value:e,done:t}:{value:l?[h(e[0]),h(e[1])]:h(e),done:t}},[Symbol.iterator](){return this}}}}function ie(e){return function(...t){return"delete"!==e&&this}}function oe(){const e={get(e){return Z(this,e)},get size(){return Q(this)},has:Y,add:J,set:X,delete:ee,clear:te,forEach:ne(!1,!1)},t={get(e){return Z(this,e,!1,!0)},get size(){return Q(this)},has:Y,add:J,set:X,delete:ee,clear:te,forEach:ne(!1,!0)},n={get(e){return Z(this,e,!0)},get size(){return Q(this,!0)},has(e){return Y.call(this,e,!0)},add:ie("add"),set:ie("set"),delete:ie("delete"),clear:ie("clear"),forEach:ne(!0,!1)},r={get(e){return Z(this,e,!0,!0)},get size(){return Q(this,!0)},has(e){return Y.call(this,e,!0)},add:ie("add"),set:ie("set"),delete:ie("delete"),clear:ie("clear"),forEach:ne(!0,!0)},i=["keys","values","entries",Symbol.iterator];return i.forEach((i=>{e[i]=re(i,!1,!1),n[i]=re(i,!0,!1),t[i]=re(i,!1,!0),r[i]=re(i,!0,!0)})),[e,n,t,r]}const[se,ae,le,ue]=oe();function ce(e,t){const n=t?e?ue:le:e?ae:se;return(t,i,o)=>"__v_isReactive"===i?!e:"__v_isReadonly"===i?e:"__v_raw"===i?t:Reflect.get((0,r.RI)(n,i)&&i in t?n:t,i,o)}const he={get:ce(!1,!1)},de={get:ce(!1,!0)},fe={get:ce(!0,!1)};const pe=new WeakMap,me=new WeakMap,ge=new WeakMap,ve=new WeakMap;function ye(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function be(e){return e["__v_skip"]||!Object.isExtensible(e)?0:ye((0,r.W7)(e))}function we(e){return xe(e)?e:ke(e,!1,$,he,pe)}function _e(e){return ke(e,!1,K,de,me)}function Se(e){return ke(e,!0,H,fe,ge)}function ke(e,t,n,i,o){if(!(0,r.Kn)(e))return e;if(e["__v_raw"]&&(!t||!e["__v_isReactive"]))return e;const s=o.get(e);if(s)return s;const a=be(e);if(0===a)return e;const l=new Proxy(e,2===a?i:n);return o.set(e,l),l}function Ie(e){return xe(e)?Ie(e["__v_raw"]):!(!e||!e["__v_isReactive"])}function xe(e){return!(!e||!e["__v_isReadonly"])}function Ee(e){return!(!e||!e["__v_isShallow"])}function Te(e){return Ie(e)||xe(e)}function Ce(e){const t=e&&e["__v_raw"];return t?Ce(t):e}function Ae(e){return(0,r.Nj)(e,"__v_skip",!0),e}const Re=e=>(0,r.Kn)(e)?we(e):e,Oe=e=>(0,r.Kn)(e)?Se(e):e;function Ne(e){_&&g&&(e=Ce(e),E(e.dep||(e.dep=a())))}function Pe(e,t){e=Ce(e),e.dep&&C(e.dep)}function De(e){return!(!e||!0!==e.__v_isRef)}function Le(e){return Me(e,!1)}function Fe(e){return Me(e,!0)}function Me(e,t){return De(e)?e:new qe(e,t)}class qe{constructor(e,t){this.__v_isShallow=t,this.dep=void 0,this.__v_isRef=!0,this._rawValue=t?e:Ce(e),this._value=t?e:Re(e)}get value(){return Ne(this),this._value}set value(e){const t=this.__v_isShallow||Ee(e)||xe(e);e=t?e:Ce(e),(0,r.aU)(e,this._rawValue)&&(this._rawValue=e,this._value=t?e:Re(e),Pe(this,e))}}function Ue(e){return De(e)?e.value:e}const Be={get:(e,t,n)=>Ue(Reflect.get(e,t,n)),set:(e,t,n,r)=>{const i=e[t];return De(i)&&!De(n)?(i.value=n,!0):Reflect.set(e,t,n,r)}};function Ve(e){return Ie(e)?e:new Proxy(e,Be)}var je;class ze{constructor(e,t,n,r){this._setter=t,this.dep=void 0,this.__v_isRef=!0,this[je]=!1,this._dirty=!0,this.effect=new b(e,(()=>{this._dirty||(this._dirty=!0,Pe(this))})),this.effect.computed=this,this.effect.active=this._cacheable=!r,this["__v_isReadonly"]=n}get value(){const e=Ce(this);return Ne(e),!e._dirty&&e._cacheable||(e._dirty=!1,e._value=e.effect.run()),e._value}set value(e){this._setter(e)}}function $e(e,t,n=!1){let i,o;const s=(0,r.mf)(e);s?(i=e,o=r.dG):(i=e.get,o=e.set);const a=new ze(i,o,s||!o,n);return a}je="__v_isReadonly"},9835:(e,t,n)=>{"use strict";n.d(t,{$d:()=>s,Ah:()=>Te,FN:()=>_n,Fl:()=>Mn,HY:()=>Bt,JJ:()=>$,Jd:()=>Ee,Ko:()=>Ve,Ob:()=>de,P$:()=>te,Q2:()=>qe,Q6:()=>ae,U2:()=>re,Uk:()=>cn,Us:()=>Tt,Wm:()=>sn,Xn:()=>Ie,Y3:()=>y,Y8:()=>J,YP:()=>W,_:()=>on,aZ:()=>le,bv:()=>ke,dl:()=>pe,f3:()=>H,h:()=>qn,iD:()=>Qt,ic:()=>xe,j4:()=>Jt,kq:()=>hn,lR:()=>Ut,nK:()=>se,se:()=>me,up:()=>Fe,w5:()=>L,wF:()=>Se,wg:()=>Kt,wy:()=>Ne});var r=n(499),i=n(6970);function o(e,t,n,r){let i;try{i=r?e(...r):e()}catch(o){a(o,t,n)}return i}function s(e,t,n,r){if((0,i.mf)(e)){const s=o(e,t,n,r);return s&&(0,i.tI)(s)&&s.catch((e=>{a(e,t,n)})),s}const l=[];for(let i=0;i<e.length;i++)l.push(s(e[i],t,n,r));return l}function a(e,t,n,r=!0){const i=t?t.vnode:null;if(t){let r=t.parent;const i=t.proxy,s=n;while(r){const t=r.ec;if(t)for(let n=0;n<t.length;n++)if(!1===t[n](e,i,s))return;r=r.parent}const a=t.appContext.config.errorHandler;if(a)return void o(a,null,10,[e,i,s])}l(e,n,i,r)}function l(e,t,n,r=!0){console.error(e)}let u=!1,c=!1;const h=[];let d=0;const f=[];let p=null,m=0;const g=Promise.resolve();let v=null;function y(e){const t=v||g;return e?t.then(this?e.bind(this):e):t}function b(e){let t=d+1,n=h.length;while(t<n){const r=t+n>>>1,i=E(h[r]);i<e?t=r+1:n=r}return t}function w(e){h.length&&h.includes(e,u&&e.allowRecurse?d+1:d)||(null==e.id?h.push(e):h.splice(b(e.id),0,e),_())}function _(){u||c||(c=!0,v=g.then(C))}function S(e){const t=h.indexOf(e);t>d&&h.splice(t,1)}function k(e){(0,i.kJ)(e)?f.push(...e):p&&p.includes(e,e.allowRecurse?m+1:m)||f.push(e),_()}function I(e,t=d){for(0;t<h.length;t++){const e=h[t];e&&e.pre&&(h.splice(t,1),t--,e())}}function x(e){if(f.length){const e=[...new Set(f)];if(f.length=0,p)return void p.push(...e);for(p=e,p.sort(((e,t)=>E(e)-E(t))),m=0;m<p.length;m++)p[m]();p=null,m=0}}const E=e=>null==e.id?1/0:e.id,T=(e,t)=>{const n=E(e)-E(t);if(0===n){if(e.pre&&!t.pre)return-1;if(t.pre&&!e.pre)return 1}return n};function C(e){c=!1,u=!0,h.sort(T);i.dG;try{for(d=0;d<h.length;d++){const e=h[d];e&&!1!==e.active&&o(e,null,14)}}finally{d=0,h.length=0,x(e),u=!1,v=null,(h.length||f.length)&&C(e)}}new Set;new Map;function A(e,t,...n){if(e.isUnmounted)return;const r=e.vnode.props||i.kT;let o=n;const a=t.startsWith("update:"),l=a&&t.slice(7);if(l&&l in r){const e=`${"modelValue"===l?"model":l}Modifiers`,{number:t,trim:s}=r[e]||i.kT;s&&(o=n.map((e=>e.trim()))),t&&(o=n.map(i.He))}let u;let c=r[u=(0,i.hR)(t)]||r[u=(0,i.hR)((0,i._A)(t))];!c&&a&&(c=r[u=(0,i.hR)((0,i.rs)(t))]),c&&s(c,e,6,o);const h=r[u+"Once"];if(h){if(e.emitted){if(e.emitted[u])return}else e.emitted={};e.emitted[u]=!0,s(h,e,6,o)}}function R(e,t,n=!1){const r=t.emitsCache,o=r.get(e);if(void 0!==o)return o;const s=e.emits;let a={},l=!1;if(!(0,i.mf)(e)){const r=e=>{const n=R(e,t,!0);n&&(l=!0,(0,i.l7)(a,n))};!n&&t.mixins.length&&t.mixins.forEach(r),e.extends&&r(e.extends),e.mixins&&e.mixins.forEach(r)}return s||l?((0,i.kJ)(s)?s.forEach((e=>a[e]=null)):(0,i.l7)(a,s),(0,i.Kn)(e)&&r.set(e,a),a):((0,i.Kn)(e)&&r.set(e,null),null)}function O(e,t){return!(!e||!(0,i.F7)(t))&&(t=t.slice(2).replace(/Once$/,""),(0,i.RI)(e,t[0].toLowerCase()+t.slice(1))||(0,i.RI)(e,(0,i.rs)(t))||(0,i.RI)(e,t))}let N=null,P=null;function D(e){const t=N;return N=e,P=e&&e.type.__scopeId||null,t}function L(e,t=N,n){if(!t)return e;if(e._n)return e;const r=(...n)=>{r._d&&Zt(-1);const i=D(t),o=e(...n);return D(i),r._d&&Zt(1),o};return r._n=!0,r._c=!0,r._d=!0,r}function F(e){const{type:t,vnode:n,proxy:r,withProxy:o,props:s,propsOptions:[l],slots:u,attrs:c,emit:h,render:d,renderCache:f,data:p,setupState:m,ctx:g,inheritAttrs:v}=e;let y,b;const w=D(e);try{if(4&n.shapeFlag){const e=o||r;y=dn(d.call(e,e,f,s,m,p,g)),b=c}else{const e=t;0,y=dn(e.length>1?e(s,{attrs:c,slots:u,emit:h}):e(s,null)),b=t.props?c:M(c)}}catch(S){$t.length=0,a(S,e,1),y=sn(jt)}let _=y;if(b&&!1!==v){const e=Object.keys(b),{shapeFlag:t}=_;e.length&&7&t&&(l&&e.some(i.tR)&&(b=q(b,l)),_=un(_,b))}return n.dirs&&(_=un(_),_.dirs=_.dirs?_.dirs.concat(n.dirs):n.dirs),n.transition&&(_.transition=n.transition),y=_,D(w),y}const M=e=>{let t;for(const n in e)("class"===n||"style"===n||(0,i.F7)(n))&&((t||(t={}))[n]=e[n]);return t},q=(e,t)=>{const n={};for(const r in e)(0,i.tR)(r)&&r.slice(9)in t||(n[r]=e[r]);return n};function U(e,t,n){const{props:r,children:i,component:o}=e,{props:s,children:a,patchFlag:l}=t,u=o.emitsOptions;if(t.dirs||t.transition)return!0;if(!(n&&l>=0))return!(!i&&!a||a&&a.$stable)||r!==s&&(r?!s||B(r,s,u):!!s);if(1024&l)return!0;if(16&l)return r?B(r,s,u):!!s;if(8&l){const e=t.dynamicProps;for(let t=0;t<e.length;t++){const n=e[t];if(s[n]!==r[n]&&!O(u,n))return!0}}return!1}function B(e,t,n){const r=Object.keys(t);if(r.length!==Object.keys(e).length)return!0;for(let i=0;i<r.length;i++){const o=r[i];if(t[o]!==e[o]&&!O(n,o))return!0}return!1}function V({vnode:e,parent:t},n){while(t&&t.subTree===e)(e=t.vnode).el=n,t=t.parent}const j=e=>e.__isSuspense;function z(e,t){t&&t.pendingBranch?(0,i.kJ)(e)?t.effects.push(...e):t.effects.push(e):k(e)}function $(e,t){if(wn){let n=wn.provides;const r=wn.parent&&wn.parent.provides;r===n&&(n=wn.provides=Object.create(r)),n[e]=t}else 0}function H(e,t,n=!1){const r=wn||N;if(r){const o=null==r.parent?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides;if(o&&e in o)return o[e];if(arguments.length>1)return n&&(0,i.mf)(t)?t.call(r.proxy):t}else 0}const K={};function W(e,t,n){return G(e,t,n)}function G(e,t,{immediate:n,deep:a,flush:l,onTrack:u,onTrigger:c}=i.kT){const h=wn;let d,f,p=!1,m=!1;if((0,r.dq)(e)?(d=()=>e.value,p=(0,r.yT)(e)):(0,r.PG)(e)?(d=()=>e,a=!0):(0,i.kJ)(e)?(m=!0,p=e.some((e=>(0,r.PG)(e)||(0,r.yT)(e))),d=()=>e.map((e=>(0,r.dq)(e)?e.value:(0,r.PG)(e)?Q(e):(0,i.mf)(e)?o(e,h,2):void 0))):d=(0,i.mf)(e)?t?()=>o(e,h,2):()=>{if(!h||!h.isUnmounted)return f&&f(),s(e,h,3,[g])}:i.dG,t&&a){const e=d;d=()=>Q(e())}let g=e=>{f=_.onStop=()=>{o(e,h,4)}};if(Tn)return g=i.dG,t?n&&s(t,h,3,[d(),m?[]:void 0,g]):d(),i.dG;let v=m?[]:K;const y=()=>{if(_.active)if(t){const e=_.run();(a||p||(m?e.some(((e,t)=>(0,i.aU)(e,v[t]))):(0,i.aU)(e,v)))&&(f&&f(),s(t,h,3,[e,v===K?void 0:v,g]),v=e)}else _.run()};let b;y.allowRecurse=!!t,"sync"===l?b=y:"post"===l?b=()=>Et(y,h&&h.suspense):(y.pre=!0,h&&(y.id=h.uid),b=()=>w(y));const _=new r.qq(d,b);return t?n?y():v=_.run():"post"===l?Et(_.run.bind(_),h&&h.suspense):_.run(),()=>{_.stop(),h&&h.scope&&(0,i.Od)(h.scope.effects,_)}}function Z(e,t,n){const r=this.proxy,o=(0,i.HD)(e)?e.includes(".")?Y(r,e):()=>r[e]:e.bind(r,r);let s;(0,i.mf)(t)?s=t:(s=t.handler,n=t);const a=wn;Sn(this);const l=G(o,s.bind(r),n);return a?Sn(a):kn(),l}function Y(e,t){const n=t.split(".");return()=>{let t=e;for(let e=0;e<n.length&&t;e++)t=t[n[e]];return t}}function Q(e,t){if(!(0,i.Kn)(e)||e["__v_skip"])return e;if(t=t||new Set,t.has(e))return e;if(t.add(e),(0,r.dq)(e))Q(e.value,t);else if((0,i.kJ)(e))for(let n=0;n<e.length;n++)Q(e[n],t);else if((0,i.DM)(e)||(0,i._N)(e))e.forEach((e=>{Q(e,t)}));else if((0,i.PO)(e))for(const n in e)Q(e[n],t);return e}function J(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return ke((()=>{e.isMounted=!0})),Ee((()=>{e.isUnmounting=!0})),e}const X=[Function,Array],ee={name:"BaseTransition",props:{mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:X,onEnter:X,onAfterEnter:X,onEnterCancelled:X,onBeforeLeave:X,onLeave:X,onAfterLeave:X,onLeaveCancelled:X,onBeforeAppear:X,onAppear:X,onAfterAppear:X,onAppearCancelled:X},setup(e,{slots:t}){const n=_n(),i=J();let o;return()=>{const s=t.default&&ae(t.default(),!0);if(!s||!s.length)return;let a=s[0];if(s.length>1){let e=!1;for(const t of s)if(t.type!==jt){0,a=t,e=!0;break}}const l=(0,r.IU)(e),{mode:u}=l;if(i.isLeaving)return ie(a);const c=oe(a);if(!c)return ie(a);const h=re(c,l,i,n);se(c,h);const d=n.subTree,f=d&&oe(d);let p=!1;const{getTransitionKey:m}=c.type;if(m){const e=m();void 0===o?o=e:e!==o&&(o=e,p=!0)}if(f&&f.type!==jt&&(!en(c,f)||p)){const e=re(f,l,i,n);if(se(f,e),"out-in"===u)return i.isLeaving=!0,e.afterLeave=()=>{i.isLeaving=!1,n.update()},ie(a);"in-out"===u&&c.type!==jt&&(e.delayLeave=(e,t,n)=>{const r=ne(i,f);r[String(f.key)]=f,e._leaveCb=()=>{t(),e._leaveCb=void 0,delete h.delayedLeave},h.delayedLeave=n})}return a}}},te=ee;function ne(e,t){const{leavingVNodes:n}=e;let r=n.get(t.type);return r||(r=Object.create(null),n.set(t.type,r)),r}function re(e,t,n,r){const{appear:o,mode:a,persisted:l=!1,onBeforeEnter:u,onEnter:c,onAfterEnter:h,onEnterCancelled:d,onBeforeLeave:f,onLeave:p,onAfterLeave:m,onLeaveCancelled:g,onBeforeAppear:v,onAppear:y,onAfterAppear:b,onAppearCancelled:w}=t,_=String(e.key),S=ne(n,e),k=(e,t)=>{e&&s(e,r,9,t)},I=(e,t)=>{const n=t[1];k(e,t),(0,i.kJ)(e)?e.every((e=>e.length<=1))&&n():e.length<=1&&n()},x={mode:a,persisted:l,beforeEnter(t){let r=u;if(!n.isMounted){if(!o)return;r=v||u}t._leaveCb&&t._leaveCb(!0);const i=S[_];i&&en(e,i)&&i.el._leaveCb&&i.el._leaveCb(),k(r,[t])},enter(e){let t=c,r=h,i=d;if(!n.isMounted){if(!o)return;t=y||c,r=b||h,i=w||d}let s=!1;const a=e._enterCb=t=>{s||(s=!0,k(t?i:r,[e]),x.delayedLeave&&x.delayedLeave(),e._enterCb=void 0)};t?I(t,[e,a]):a()},leave(t,r){const i=String(e.key);if(t._enterCb&&t._enterCb(!0),n.isUnmounting)return r();k(f,[t]);let o=!1;const s=t._leaveCb=n=>{o||(o=!0,r(),k(n?g:m,[t]),t._leaveCb=void 0,S[i]===e&&delete S[i])};S[i]=e,p?I(p,[t,s]):s()},clone(e){return re(e,t,n,r)}};return x}function ie(e){if(ce(e))return e=un(e),e.children=null,e}function oe(e){return ce(e)?e.children?e.children[0]:void 0:e}function se(e,t){6&e.shapeFlag&&e.component?se(e.component.subTree,t):128&e.shapeFlag?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function ae(e,t=!1,n){let r=[],i=0;for(let o=0;o<e.length;o++){let s=e[o];const a=null==n?s.key:String(n)+String(null!=s.key?s.key:o);s.type===Bt?(128&s.patchFlag&&i++,r=r.concat(ae(s.children,t,a))):(t||s.type!==jt)&&r.push(null!=a?un(s,{key:a}):s)}if(i>1)for(let o=0;o<r.length;o++)r[o].patchFlag=-2;return r}function le(e){return(0,i.mf)(e)?{setup:e,name:e.name}:e}const ue=e=>!!e.type.__asyncLoader;const ce=e=>e.type.__isKeepAlive,he={name:"KeepAlive",__isKeepAlive:!0,props:{include:[String,RegExp,Array],exclude:[String,RegExp,Array],max:[String,Number]},setup(e,{slots:t}){const n=_n(),r=n.ctx;if(!r.renderer)return()=>{const e=t.default&&t.default();return e&&1===e.length?e[0]:e};const o=new Map,s=new Set;let a=null;const l=n.suspense,{renderer:{p:u,m:c,um:h,o:{createElement:d}}}=r,f=d("div");function p(e){ye(e),h(e,n,l,!0)}function m(e){o.forEach(((t,n)=>{const r=Ln(t.type);!r||e&&e(r)||g(n)}))}function g(e){const t=o.get(e);a&&t.type===a.type?a&&ye(a):p(t),o.delete(e),s.delete(e)}r.activate=(e,t,n,r,o)=>{const s=e.component;c(e,t,n,0,l),u(s.vnode,e,t,n,s,l,r,e.slotScopeIds,o),Et((()=>{s.isDeactivated=!1,s.a&&(0,i.ir)(s.a);const t=e.props&&e.props.onVnodeMounted;t&&gn(t,s.parent,e)}),l)},r.deactivate=e=>{const t=e.component;c(e,f,null,1,l),Et((()=>{t.da&&(0,i.ir)(t.da);const n=e.props&&e.props.onVnodeUnmounted;n&&gn(n,t.parent,e),t.isDeactivated=!0}),l)},W((()=>[e.include,e.exclude]),(([e,t])=>{e&&m((t=>fe(e,t))),t&&m((e=>!fe(t,e)))}),{flush:"post",deep:!0});let v=null;const y=()=>{null!=v&&o.set(v,be(n.subTree))};return ke(y),xe(y),Ee((()=>{o.forEach((e=>{const{subTree:t,suspense:r}=n,i=be(t);if(e.type!==i.type)p(e);else{ye(i);const e=i.component.da;e&&Et(e,r)}}))})),()=>{if(v=null,!t.default)return null;const n=t.default(),r=n[0];if(n.length>1)return a=null,n;if(!Xt(r)||!(4&r.shapeFlag)&&!(128&r.shapeFlag))return a=null,r;let i=be(r);const l=i.type,u=Ln(ue(i)?i.type.__asyncResolved||{}:l),{include:c,exclude:h,max:d}=e;if(c&&(!u||!fe(c,u))||h&&u&&fe(h,u))return a=i,r;const f=null==i.key?l:i.key,p=o.get(f);return i.el&&(i=un(i),128&r.shapeFlag&&(r.ssContent=i)),v=f,p?(i.el=p.el,i.component=p.component,i.transition&&se(i,i.transition),i.shapeFlag|=512,s.delete(f),s.add(f)):(s.add(f),d&&s.size>parseInt(d,10)&&g(s.values().next().value)),i.shapeFlag|=256,a=i,j(r.type)?r:i}}},de=he;function fe(e,t){return(0,i.kJ)(e)?e.some((e=>fe(e,t))):(0,i.HD)(e)?e.split(",").includes(t):!!e.test&&e.test(t)}function pe(e,t){ge(e,"a",t)}function me(e,t){ge(e,"da",t)}function ge(e,t,n=wn){const r=e.__wdc||(e.__wdc=()=>{let t=n;while(t){if(t.isDeactivated)return;t=t.parent}return e()});if(we(t,r,n),n){let e=n.parent;while(e&&e.parent)ce(e.parent.vnode)&&ve(r,t,n,e),e=e.parent}}function ve(e,t,n,r){const o=we(t,e,r,!0);Te((()=>{(0,i.Od)(r[t],o)}),n)}function ye(e){let t=e.shapeFlag;256&t&&(t-=256),512&t&&(t-=512),e.shapeFlag=t}function be(e){return 128&e.shapeFlag?e.ssContent:e}function we(e,t,n=wn,i=!1){if(n){const o=n[e]||(n[e]=[]),a=t.__weh||(t.__weh=(...i)=>{if(n.isUnmounted)return;(0,r.Jd)(),Sn(n);const o=s(t,n,e,i);return kn(),(0,r.lk)(),o});return i?o.unshift(a):o.push(a),a}}const _e=e=>(t,n=wn)=>(!Tn||"sp"===e)&&we(e,t,n),Se=_e("bm"),ke=_e("m"),Ie=_e("bu"),xe=_e("u"),Ee=_e("bum"),Te=_e("um"),Ce=_e("sp"),Ae=_e("rtg"),Re=_e("rtc");function Oe(e,t=wn){we("ec",e,t)}function Ne(e,t){const n=N;if(null===n)return e;const r=Dn(n)||n.proxy,o=e.dirs||(e.dirs=[]);for(let s=0;s<t.length;s++){let[e,n,a,l=i.kT]=t[s];(0,i.mf)(e)&&(e={mounted:e,updated:e}),e.deep&&Q(n),o.push({dir:e,instance:r,value:n,oldValue:void 0,arg:a,modifiers:l})}return e}function Pe(e,t,n,i){const o=e.dirs,a=t&&t.dirs;for(let l=0;l<o.length;l++){const u=o[l];a&&(u.oldValue=a[l].value);let c=u.dir[i];c&&((0,r.Jd)(),s(c,n,8,[e.el,u,e,t]),(0,r.lk)())}}const De="components",Le="directives";function Fe(e,t){return Ue(De,e,!0,t)||e}const Me=Symbol();function qe(e){return Ue(Le,e)}function Ue(e,t,n=!0,r=!1){const o=N||wn;if(o){const n=o.type;if(e===De){const e=Ln(n,!1);if(e&&(e===t||e===(0,i._A)(t)||e===(0,i.kC)((0,i._A)(t))))return n}const s=Be(o[e]||n[e],t)||Be(o.appContext[e],t);return!s&&r?n:s}}function Be(e,t){return e&&(e[t]||e[(0,i._A)(t)]||e[(0,i.kC)((0,i._A)(t))])}function Ve(e,t,n,r){let o;const s=n&&n[r];if((0,i.kJ)(e)||(0,i.HD)(e)){o=new Array(e.length);for(let n=0,r=e.length;n<r;n++)o[n]=t(e[n],n,void 0,s&&s[n])}else if("number"===typeof e){0,o=new Array(e);for(let n=0;n<e;n++)o[n]=t(n+1,n,void 0,s&&s[n])}else if((0,i.Kn)(e))if(e[Symbol.iterator])o=Array.from(e,((e,n)=>t(e,n,void 0,s&&s[n])));else{const n=Object.keys(e);o=new Array(n.length);for(let r=0,i=n.length;r<i;r++){const i=n[r];o[r]=t(e[i],i,r,s&&s[r])}}else o=[];return n&&(n[r]=o),o}const je=e=>e?In(e)?Dn(e)||e.proxy:je(e.parent):null,ze=(0,i.l7)(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>je(e.parent),$root:e=>je(e.root),$emit:e=>e.emit,$options:e=>Ye(e),$forceUpdate:e=>e.f||(e.f=()=>w(e.update)),$nextTick:e=>e.n||(e.n=y.bind(e.proxy)),$watch:e=>Z.bind(e)}),$e={get({_:e},t){const{ctx:n,setupState:o,data:s,props:a,accessCache:l,type:u,appContext:c}=e;let h;if("$"!==t[0]){const r=l[t];if(void 0!==r)switch(r){case 1:return o[t];case 2:return s[t];case 4:return n[t];case 3:return a[t]}else{if(o!==i.kT&&(0,i.RI)(o,t))return l[t]=1,o[t];if(s!==i.kT&&(0,i.RI)(s,t))return l[t]=2,s[t];if((h=e.propsOptions[0])&&(0,i.RI)(h,t))return l[t]=3,a[t];if(n!==i.kT&&(0,i.RI)(n,t))return l[t]=4,n[t];He&&(l[t]=0)}}const d=ze[t];let f,p;return d?("$attrs"===t&&(0,r.j)(e,"get",t),d(e)):(f=u.__cssModules)&&(f=f[t])?f:n!==i.kT&&(0,i.RI)(n,t)?(l[t]=4,n[t]):(p=c.config.globalProperties,(0,i.RI)(p,t)?p[t]:void 0)},set({_:e},t,n){const{data:r,setupState:o,ctx:s}=e;return o!==i.kT&&(0,i.RI)(o,t)?(o[t]=n,!0):r!==i.kT&&(0,i.RI)(r,t)?(r[t]=n,!0):!(0,i.RI)(e.props,t)&&(("$"!==t[0]||!(t.slice(1)in e))&&(s[t]=n,!0))},has({_:{data:e,setupState:t,accessCache:n,ctx:r,appContext:o,propsOptions:s}},a){let l;return!!n[a]||e!==i.kT&&(0,i.RI)(e,a)||t!==i.kT&&(0,i.RI)(t,a)||(l=s[0])&&(0,i.RI)(l,a)||(0,i.RI)(r,a)||(0,i.RI)(ze,a)||(0,i.RI)(o.config.globalProperties,a)},defineProperty(e,t,n){return null!=n.get?e._.accessCache[t]=0:(0,i.RI)(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}};let He=!0;function Ke(e){const t=Ye(e),n=e.proxy,o=e.ctx;He=!1,t.beforeCreate&&Ge(t.beforeCreate,e,"bc");const{data:s,computed:a,methods:l,watch:u,provide:c,inject:h,created:d,beforeMount:f,mounted:p,beforeUpdate:m,updated:g,activated:v,deactivated:y,beforeDestroy:b,beforeUnmount:w,destroyed:_,unmounted:S,render:k,renderTracked:I,renderTriggered:x,errorCaptured:E,serverPrefetch:T,expose:C,inheritAttrs:A,components:R,directives:O,filters:N}=t,P=null;if(h&&We(h,o,P,e.appContext.config.unwrapInjectedRef),l)for(const r in l){const e=l[r];(0,i.mf)(e)&&(o[r]=e.bind(n))}if(s){0;const t=s.call(n,n);0,(0,i.Kn)(t)&&(e.data=(0,r.qj)(t))}if(He=!0,a)for(const r in a){const e=a[r],t=(0,i.mf)(e)?e.bind(n,n):(0,i.mf)(e.get)?e.get.bind(n,n):i.dG;0;const s=!(0,i.mf)(e)&&(0,i.mf)(e.set)?e.set.bind(n):i.dG,l=Mn({get:t,set:s});Object.defineProperty(o,r,{enumerable:!0,configurable:!0,get:()=>l.value,set:e=>l.value=e})}if(u)for(const r in u)Ze(u[r],o,n,r);if(c){const e=(0,i.mf)(c)?c.call(n):c;Reflect.ownKeys(e).forEach((t=>{$(t,e[t])}))}function D(e,t){(0,i.kJ)(t)?t.forEach((t=>e(t.bind(n)))):t&&e(t.bind(n))}if(d&&Ge(d,e,"c"),D(Se,f),D(ke,p),D(Ie,m),D(xe,g),D(pe,v),D(me,y),D(Oe,E),D(Re,I),D(Ae,x),D(Ee,w),D(Te,S),D(Ce,T),(0,i.kJ)(C))if(C.length){const t=e.exposed||(e.exposed={});C.forEach((e=>{Object.defineProperty(t,e,{get:()=>n[e],set:t=>n[e]=t})}))}else e.exposed||(e.exposed={});k&&e.render===i.dG&&(e.render=k),null!=A&&(e.inheritAttrs=A),R&&(e.components=R),O&&(e.directives=O)}function We(e,t,n=i.dG,o=!1){(0,i.kJ)(e)&&(e=tt(e));for(const s in e){const n=e[s];let a;a=(0,i.Kn)(n)?"default"in n?H(n.from||s,n.default,!0):H(n.from||s):H(n),(0,r.dq)(a)&&o?Object.defineProperty(t,s,{enumerable:!0,configurable:!0,get:()=>a.value,set:e=>a.value=e}):t[s]=a}}function Ge(e,t,n){s((0,i.kJ)(e)?e.map((e=>e.bind(t.proxy))):e.bind(t.proxy),t,n)}function Ze(e,t,n,r){const o=r.includes(".")?Y(n,r):()=>n[r];if((0,i.HD)(e)){const n=t[e];(0,i.mf)(n)&&W(o,n)}else if((0,i.mf)(e))W(o,e.bind(n));else if((0,i.Kn)(e))if((0,i.kJ)(e))e.forEach((e=>Ze(e,t,n,r)));else{const r=(0,i.mf)(e.handler)?e.handler.bind(n):t[e.handler];(0,i.mf)(r)&&W(o,r,e)}else 0}function Ye(e){const t=e.type,{mixins:n,extends:r}=t,{mixins:o,optionsCache:s,config:{optionMergeStrategies:a}}=e.appContext,l=s.get(t);let u;return l?u=l:o.length||n||r?(u={},o.length&&o.forEach((e=>Qe(u,e,a,!0))),Qe(u,t,a)):u=t,(0,i.Kn)(t)&&s.set(t,u),u}function Qe(e,t,n,r=!1){const{mixins:i,extends:o}=t;o&&Qe(e,o,n,!0),i&&i.forEach((t=>Qe(e,t,n,!0)));for(const s in t)if(r&&"expose"===s);else{const r=Je[s]||n&&n[s];e[s]=r?r(e[s],t[s]):t[s]}return e}const Je={data:Xe,props:rt,emits:rt,methods:rt,computed:rt,beforeCreate:nt,created:nt,beforeMount:nt,mounted:nt,beforeUpdate:nt,updated:nt,beforeDestroy:nt,beforeUnmount:nt,destroyed:nt,unmounted:nt,activated:nt,deactivated:nt,errorCaptured:nt,serverPrefetch:nt,components:rt,directives:rt,watch:it,provide:Xe,inject:et};function Xe(e,t){return t?e?function(){return(0,i.l7)((0,i.mf)(e)?e.call(this,this):e,(0,i.mf)(t)?t.call(this,this):t)}:t:e}function et(e,t){return rt(tt(e),tt(t))}function tt(e){if((0,i.kJ)(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function nt(e,t){return e?[...new Set([].concat(e,t))]:t}function rt(e,t){return e?(0,i.l7)((0,i.l7)(Object.create(null),e),t):t}function it(e,t){if(!e)return t;if(!t)return e;const n=(0,i.l7)(Object.create(null),e);for(const r in t)n[r]=nt(e[r],t[r]);return n}function ot(e,t,n,o=!1){const s={},a={};(0,i.Nj)(a,tn,1),e.propsDefaults=Object.create(null),at(e,t,s,a);for(const r in e.propsOptions[0])r in s||(s[r]=void 0);n?e.props=o?s:(0,r.Um)(s):e.type.props?e.props=s:e.props=a,e.attrs=a}function st(e,t,n,o){const{props:s,attrs:a,vnode:{patchFlag:l}}=e,u=(0,r.IU)(s),[c]=e.propsOptions;let h=!1;if(!(o||l>0)||16&l){let r;at(e,t,s,a)&&(h=!0);for(const o in u)t&&((0,i.RI)(t,o)||(r=(0,i.rs)(o))!==o&&(0,i.RI)(t,r))||(c?!n||void 0===n[o]&&void 0===n[r]||(s[o]=lt(c,u,o,void 0,e,!0)):delete s[o]);if(a!==u)for(const e in a)t&&(0,i.RI)(t,e)||(delete a[e],h=!0)}else if(8&l){const n=e.vnode.dynamicProps;for(let r=0;r<n.length;r++){let o=n[r];if(O(e.emitsOptions,o))continue;const l=t[o];if(c)if((0,i.RI)(a,o))l!==a[o]&&(a[o]=l,h=!0);else{const t=(0,i._A)(o);s[t]=lt(c,u,t,l,e,!1)}else l!==a[o]&&(a[o]=l,h=!0)}}h&&(0,r.X$)(e,"set","$attrs")}function at(e,t,n,o){const[s,a]=e.propsOptions;let l,u=!1;if(t)for(let r in t){if((0,i.Gg)(r))continue;const c=t[r];let h;s&&(0,i.RI)(s,h=(0,i._A)(r))?a&&a.includes(h)?(l||(l={}))[h]=c:n[h]=c:O(e.emitsOptions,r)||r in o&&c===o[r]||(o[r]=c,u=!0)}if(a){const t=(0,r.IU)(n),o=l||i.kT;for(let r=0;r<a.length;r++){const l=a[r];n[l]=lt(s,t,l,o[l],e,!(0,i.RI)(o,l))}}return u}function lt(e,t,n,r,o,s){const a=e[n];if(null!=a){const e=(0,i.RI)(a,"default");if(e&&void 0===r){const e=a.default;if(a.type!==Function&&(0,i.mf)(e)){const{propsDefaults:i}=o;n in i?r=i[n]:(Sn(o),r=i[n]=e.call(null,t),kn())}else r=e}a[0]&&(s&&!e?r=!1:!a[1]||""!==r&&r!==(0,i.rs)(n)||(r=!0))}return r}function ut(e,t,n=!1){const r=t.propsCache,o=r.get(e);if(o)return o;const s=e.props,a={},l=[];let u=!1;if(!(0,i.mf)(e)){const r=e=>{u=!0;const[n,r]=ut(e,t,!0);(0,i.l7)(a,n),r&&l.push(...r)};!n&&t.mixins.length&&t.mixins.forEach(r),e.extends&&r(e.extends),e.mixins&&e.mixins.forEach(r)}if(!s&&!u)return(0,i.Kn)(e)&&r.set(e,i.Z6),i.Z6;if((0,i.kJ)(s))for(let h=0;h<s.length;h++){0;const e=(0,i._A)(s[h]);ct(e)&&(a[e]=i.kT)}else if(s){0;for(const e in s){const t=(0,i._A)(e);if(ct(t)){const n=s[e],r=a[t]=(0,i.kJ)(n)||(0,i.mf)(n)?{type:n}:n;if(r){const e=ft(Boolean,r.type),n=ft(String,r.type);r[0]=e>-1,r[1]=n<0||e<n,(e>-1||(0,i.RI)(r,"default"))&&l.push(t)}}}}const c=[a,l];return(0,i.Kn)(e)&&r.set(e,c),c}function ct(e){return"$"!==e[0]}function ht(e){const t=e&&e.toString().match(/^\s*function (\w+)/);return t?t[1]:null===e?"null":""}function dt(e,t){return ht(e)===ht(t)}function ft(e,t){return(0,i.kJ)(t)?t.findIndex((t=>dt(t,e))):(0,i.mf)(t)&&dt(t,e)?0:-1}const pt=e=>"_"===e[0]||"$stable"===e,mt=e=>(0,i.kJ)(e)?e.map(dn):[dn(e)],gt=(e,t,n)=>{if(t._n)return t;const r=L(((...e)=>mt(t(...e))),n);return r._c=!1,r},vt=(e,t,n)=>{const r=e._ctx;for(const o in e){if(pt(o))continue;const n=e[o];if((0,i.mf)(n))t[o]=gt(o,n,r);else if(null!=n){0;const e=mt(n);t[o]=()=>e}}},yt=(e,t)=>{const n=mt(t);e.slots.default=()=>n},bt=(e,t)=>{if(32&e.vnode.shapeFlag){const n=t._;n?(e.slots=(0,r.IU)(t),(0,i.Nj)(t,"_",n)):vt(t,e.slots={})}else e.slots={},t&&yt(e,t);(0,i.Nj)(e.slots,tn,1)},wt=(e,t,n)=>{const{vnode:r,slots:o}=e;let s=!0,a=i.kT;if(32&r.shapeFlag){const e=t._;e?n&&1===e?s=!1:((0,i.l7)(o,t),n||1!==e||delete o._):(s=!t.$stable,vt(t,o)),a=t}else t&&(yt(e,t),a={default:1});if(s)for(const i in o)pt(i)||i in a||delete o[i]};function _t(){return{app:null,config:{isNativeTag:i.NO,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let St=0;function kt(e,t){return function(n,r=null){(0,i.mf)(n)||(n=Object.assign({},n)),null==r||(0,i.Kn)(r)||(r=null);const o=_t(),s=new Set;let a=!1;const l=o.app={_uid:St++,_component:n,_props:r,_container:null,_context:o,_instance:null,version:Un,get config(){return o.config},set config(e){0},use(e,...t){return s.has(e)||(e&&(0,i.mf)(e.install)?(s.add(e),e.install(l,...t)):(0,i.mf)(e)&&(s.add(e),e(l,...t))),l},mixin(e){return o.mixins.includes(e)||o.mixins.push(e),l},component(e,t){return t?(o.components[e]=t,l):o.components[e]},directive(e,t){return t?(o.directives[e]=t,l):o.directives[e]},mount(i,s,u){if(!a){0;const c=sn(n,r);return c.appContext=o,s&&t?t(c,i):e(c,i,u),a=!0,l._container=i,i.__vue_app__=l,Dn(c.component)||c.component.proxy}},unmount(){a&&(e(null,l._container),delete l._container.__vue_app__)},provide(e,t){return o.provides[e]=t,l}};return l}}function It(e,t,n,s,a=!1){if((0,i.kJ)(e))return void e.forEach(((e,r)=>It(e,t&&((0,i.kJ)(t)?t[r]:t),n,s,a)));if(ue(s)&&!a)return;const l=4&s.shapeFlag?Dn(s.component)||s.component.proxy:s.el,u=a?null:l,{i:c,r:h}=e;const d=t&&t.r,f=c.refs===i.kT?c.refs={}:c.refs,p=c.setupState;if(null!=d&&d!==h&&((0,i.HD)(d)?(f[d]=null,(0,i.RI)(p,d)&&(p[d]=null)):(0,r.dq)(d)&&(d.value=null)),(0,i.mf)(h))o(h,c,12,[u,f]);else{const t=(0,i.HD)(h),o=(0,r.dq)(h);if(t||o){const r=()=>{if(e.f){const n=t?f[h]:h.value;a?(0,i.kJ)(n)&&(0,i.Od)(n,l):(0,i.kJ)(n)?n.includes(l)||n.push(l):t?(f[h]=[l],(0,i.RI)(p,h)&&(p[h]=f[h])):(h.value=[l],e.k&&(f[e.k]=h.value))}else t?(f[h]=u,(0,i.RI)(p,h)&&(p[h]=u)):o&&(h.value=u,e.k&&(f[e.k]=u))};u?(r.id=-1,Et(r,n)):r()}else 0}}function xt(){}const Et=z;function Tt(e){return Ct(e)}function Ct(e,t){xt();const n=(0,i.E9)();n.__VUE__=!0;const{insert:o,remove:s,patchProp:a,createElement:l,createText:u,createComment:c,setText:h,setElementText:d,parentNode:f,nextSibling:p,setScopeId:m=i.dG,cloneNode:g,insertStaticContent:v}=e,y=(e,t,n,r=null,i=null,o=null,s=!1,a=null,l=!!t.dynamicChildren)=>{if(e===t)return;e&&!en(e,t)&&(r=X(e),G(e,i,o,!0),e=null),-2===t.patchFlag&&(l=!1,t.dynamicChildren=null);const{type:u,ref:c,shapeFlag:h}=t;switch(u){case Vt:b(e,t,n,r);break;case jt:_(e,t,n,r);break;case zt:null==e&&k(t,n,r,s);break;case Bt:L(e,t,n,r,i,o,s,a,l);break;default:1&h?C(e,t,n,r,i,o,s,a,l):6&h?M(e,t,n,r,i,o,s,a,l):(64&h||128&h)&&u.process(e,t,n,r,i,o,s,a,l,te)}null!=c&&i&&It(c,e&&e.ref,o,t||e,!t)},b=(e,t,n,r)=>{if(null==e)o(t.el=u(t.children),n,r);else{const n=t.el=e.el;t.children!==e.children&&h(n,t.children)}},_=(e,t,n,r)=>{null==e?o(t.el=c(t.children||""),n,r):t.el=e.el},k=(e,t,n,r)=>{[e.el,e.anchor]=v(e.children,t,n,r,e.el,e.anchor)},E=({el:e,anchor:t},n,r)=>{let i;while(e&&e!==t)i=p(e),o(e,n,r),e=i;o(t,n,r)},T=({el:e,anchor:t})=>{let n;while(e&&e!==t)n=p(e),s(e),e=n;s(t)},C=(e,t,n,r,i,o,s,a,l)=>{s=s||"svg"===t.type,null==e?A(t,n,r,i,o,s,a,l):N(e,t,i,o,s,a,l)},A=(e,t,n,r,s,u,c,h)=>{let f,p;const{type:m,props:v,shapeFlag:y,transition:b,patchFlag:w,dirs:_}=e;if(e.el&&void 0!==g&&-1===w)f=e.el=g(e.el);else{if(f=e.el=l(e.type,u,v&&v.is,v),8&y?d(f,e.children):16&y&&O(e.children,f,null,r,s,u&&"foreignObject"!==m,c,h),_&&Pe(e,null,r,"created"),v){for(const t in v)"value"===t||(0,i.Gg)(t)||a(f,t,null,v[t],u,e.children,r,s,J);"value"in v&&a(f,"value",null,v.value),(p=v.onVnodeBeforeMount)&&gn(p,r,e)}R(f,e,e.scopeId,c,r)}_&&Pe(e,null,r,"beforeMount");const S=(!s||s&&!s.pendingBranch)&&b&&!b.persisted;S&&b.beforeEnter(f),o(f,t,n),((p=v&&v.onVnodeMounted)||S||_)&&Et((()=>{p&&gn(p,r,e),S&&b.enter(f),_&&Pe(e,null,r,"mounted")}),s)},R=(e,t,n,r,i)=>{if(n&&m(e,n),r)for(let o=0;o<r.length;o++)m(e,r[o]);if(i){let n=i.subTree;if(t===n){const t=i.vnode;R(e,t,t.scopeId,t.slotScopeIds,i.parent)}}},O=(e,t,n,r,i,o,s,a,l=0)=>{for(let u=l;u<e.length;u++){const l=e[u]=a?fn(e[u]):dn(e[u]);y(null,l,t,n,r,i,o,s,a)}},N=(e,t,n,r,o,s,l)=>{const u=t.el=e.el;let{patchFlag:c,dynamicChildren:h,dirs:f}=t;c|=16&e.patchFlag;const p=e.props||i.kT,m=t.props||i.kT;let g;n&&At(n,!1),(g=m.onVnodeBeforeUpdate)&&gn(g,n,t,e),f&&Pe(t,e,n,"beforeUpdate"),n&&At(n,!0);const v=o&&"foreignObject"!==t.type;if(h?P(e.dynamicChildren,h,u,n,r,v,s):l||$(e,t,u,null,n,r,v,s,!1),c>0){if(16&c)D(u,t,p,m,n,r,o);else if(2&c&&p.class!==m.class&&a(u,"class",null,m.class,o),4&c&&a(u,"style",p.style,m.style,o),8&c){const i=t.dynamicProps;for(let t=0;t<i.length;t++){const s=i[t],l=p[s],c=m[s];c===l&&"value"!==s||a(u,s,l,c,o,e.children,n,r,J)}}1&c&&e.children!==t.children&&d(u,t.children)}else l||null!=h||D(u,t,p,m,n,r,o);((g=m.onVnodeUpdated)||f)&&Et((()=>{g&&gn(g,n,t,e),f&&Pe(t,e,n,"updated")}),r)},P=(e,t,n,r,i,o,s)=>{for(let a=0;a<t.length;a++){const l=e[a],u=t[a],c=l.el&&(l.type===Bt||!en(l,u)||70&l.shapeFlag)?f(l.el):n;y(l,u,c,null,r,i,o,s,!0)}},D=(e,t,n,r,o,s,l)=>{if(n!==r){for(const u in r){if((0,i.Gg)(u))continue;const c=r[u],h=n[u];c!==h&&"value"!==u&&a(e,u,h,c,l,t.children,o,s,J)}if(n!==i.kT)for(const u in n)(0,i.Gg)(u)||u in r||a(e,u,n[u],null,l,t.children,o,s,J);"value"in r&&a(e,"value",n.value,r.value)}},L=(e,t,n,r,i,s,a,l,c)=>{const h=t.el=e?e.el:u(""),d=t.anchor=e?e.anchor:u("");let{patchFlag:f,dynamicChildren:p,slotScopeIds:m}=t;m&&(l=l?l.concat(m):m),null==e?(o(h,n,r),o(d,n,r),O(t.children,n,d,i,s,a,l,c)):f>0&&64&f&&p&&e.dynamicChildren?(P(e.dynamicChildren,p,n,i,s,a,l),(null!=t.key||i&&t===i.subTree)&&Rt(e,t,!0)):$(e,t,n,d,i,s,a,l,c)},M=(e,t,n,r,i,o,s,a,l)=>{t.slotScopeIds=a,null==e?512&t.shapeFlag?i.ctx.activate(t,n,r,s,l):q(t,n,r,i,o,s,l):B(e,t,l)},q=(e,t,n,r,i,o,s)=>{const a=e.component=bn(e,r,i);if(ce(e)&&(a.ctx.renderer=te),Cn(a),a.asyncDep){if(i&&i.registerDep(a,j),!e.el){const e=a.subTree=sn(jt);_(null,e,t,n)}}else j(a,e,t,n,i,o,s)},B=(e,t,n)=>{const r=t.component=e.component;if(U(e,t,n)){if(r.asyncDep&&!r.asyncResolved)return void z(r,t,n);r.next=t,S(r.update),r.update()}else t.el=e.el,r.vnode=t},j=(e,t,n,o,s,a,l)=>{const u=()=>{if(e.isMounted){let t,{next:n,bu:r,u:o,parent:u,vnode:c}=e,h=n;0,At(e,!1),n?(n.el=c.el,z(e,n,l)):n=c,r&&(0,i.ir)(r),(t=n.props&&n.props.onVnodeBeforeUpdate)&&gn(t,u,n,c),At(e,!0);const d=F(e);0;const p=e.subTree;e.subTree=d,y(p,d,f(p.el),X(p),e,s,a),n.el=d.el,null===h&&V(e,d.el),o&&Et(o,s),(t=n.props&&n.props.onVnodeUpdated)&&Et((()=>gn(t,u,n,c)),s)}else{let r;const{el:l,props:u}=t,{bm:c,m:h,parent:d}=e,f=ue(t);if(At(e,!1),c&&(0,i.ir)(c),!f&&(r=u&&u.onVnodeBeforeMount)&&gn(r,d,t),At(e,!0),l&&re){const n=()=>{e.subTree=F(e),re(l,e.subTree,e,s,null)};f?t.type.__asyncLoader().then((()=>!e.isUnmounted&&n())):n()}else{0;const r=e.subTree=F(e);0,y(null,r,n,o,e,s,a),t.el=r.el}if(h&&Et(h,s),!f&&(r=u&&u.onVnodeMounted)){const e=t;Et((()=>gn(r,d,e)),s)}(256&t.shapeFlag||d&&ue(d.vnode)&&256&d.vnode.shapeFlag)&&e.a&&Et(e.a,s),e.isMounted=!0,t=n=o=null}},c=e.effect=new r.qq(u,(()=>w(h)),e.scope),h=e.update=()=>c.run();h.id=e.uid,At(e,!0),h()},z=(e,t,n)=>{t.component=e;const i=e.vnode.props;e.vnode=t,e.next=null,st(e,t.props,i,n),wt(e,t.children,n),(0,r.Jd)(),I(),(0,r.lk)()},$=(e,t,n,r,i,o,s,a,l=!1)=>{const u=e&&e.children,c=e?e.shapeFlag:0,h=t.children,{patchFlag:f,shapeFlag:p}=t;if(f>0){if(128&f)return void K(u,h,n,r,i,o,s,a,l);if(256&f)return void H(u,h,n,r,i,o,s,a,l)}8&p?(16&c&&J(u,i,o),h!==u&&d(n,h)):16&c?16&p?K(u,h,n,r,i,o,s,a,l):J(u,i,o,!0):(8&c&&d(n,""),16&p&&O(h,n,r,i,o,s,a,l))},H=(e,t,n,r,o,s,a,l,u)=>{e=e||i.Z6,t=t||i.Z6;const c=e.length,h=t.length,d=Math.min(c,h);let f;for(f=0;f<d;f++){const r=t[f]=u?fn(t[f]):dn(t[f]);y(e[f],r,n,null,o,s,a,l,u)}c>h?J(e,o,s,!0,!1,d):O(t,n,r,o,s,a,l,u,d)},K=(e,t,n,r,o,s,a,l,u)=>{let c=0;const h=t.length;let d=e.length-1,f=h-1;while(c<=d&&c<=f){const r=e[c],i=t[c]=u?fn(t[c]):dn(t[c]);if(!en(r,i))break;y(r,i,n,null,o,s,a,l,u),c++}while(c<=d&&c<=f){const r=e[d],i=t[f]=u?fn(t[f]):dn(t[f]);if(!en(r,i))break;y(r,i,n,null,o,s,a,l,u),d--,f--}if(c>d){if(c<=f){const e=f+1,i=e<h?t[e].el:r;while(c<=f)y(null,t[c]=u?fn(t[c]):dn(t[c]),n,i,o,s,a,l,u),c++}}else if(c>f)while(c<=d)G(e[c],o,s,!0),c++;else{const p=c,m=c,g=new Map;for(c=m;c<=f;c++){const e=t[c]=u?fn(t[c]):dn(t[c]);null!=e.key&&g.set(e.key,c)}let v,b=0;const w=f-m+1;let _=!1,S=0;const k=new Array(w);for(c=0;c<w;c++)k[c]=0;for(c=p;c<=d;c++){const r=e[c];if(b>=w){G(r,o,s,!0);continue}let i;if(null!=r.key)i=g.get(r.key);else for(v=m;v<=f;v++)if(0===k[v-m]&&en(r,t[v])){i=v;break}void 0===i?G(r,o,s,!0):(k[i-m]=c+1,i>=S?S=i:_=!0,y(r,t[i],n,null,o,s,a,l,u),b++)}const I=_?Ot(k):i.Z6;for(v=I.length-1,c=w-1;c>=0;c--){const e=m+c,i=t[e],d=e+1<h?t[e+1].el:r;0===k[c]?y(null,i,n,d,o,s,a,l,u):_&&(v<0||c!==I[v]?W(i,n,d,2):v--)}}},W=(e,t,n,r,i=null)=>{const{el:s,type:a,transition:l,children:u,shapeFlag:c}=e;if(6&c)return void W(e.component.subTree,t,n,r);if(128&c)return void e.suspense.move(t,n,r);if(64&c)return void a.move(e,t,n,te);if(a===Bt){o(s,t,n);for(let e=0;e<u.length;e++)W(u[e],t,n,r);return void o(e.anchor,t,n)}if(a===zt)return void E(e,t,n);const h=2!==r&&1&c&&l;if(h)if(0===r)l.beforeEnter(s),o(s,t,n),Et((()=>l.enter(s)),i);else{const{leave:e,delayLeave:r,afterLeave:i}=l,a=()=>o(s,t,n),u=()=>{e(s,(()=>{a(),i&&i()}))};r?r(s,a,u):u()}else o(s,t,n)},G=(e,t,n,r=!1,i=!1)=>{const{type:o,props:s,ref:a,children:l,dynamicChildren:u,shapeFlag:c,patchFlag:h,dirs:d}=e;if(null!=a&&It(a,null,n,e,!0),256&c)return void t.ctx.deactivate(e);const f=1&c&&d,p=!ue(e);let m;if(p&&(m=s&&s.onVnodeBeforeUnmount)&&gn(m,t,e),6&c)Q(e.component,n,r);else{if(128&c)return void e.suspense.unmount(n,r);f&&Pe(e,null,t,"beforeUnmount"),64&c?e.type.remove(e,t,n,i,te,r):u&&(o!==Bt||h>0&&64&h)?J(u,t,n,!1,!0):(o===Bt&&384&h||!i&&16&c)&&J(l,t,n),r&&Z(e)}(p&&(m=s&&s.onVnodeUnmounted)||f)&&Et((()=>{m&&gn(m,t,e),f&&Pe(e,null,t,"unmounted")}),n)},Z=e=>{const{type:t,el:n,anchor:r,transition:i}=e;if(t===Bt)return void Y(n,r);if(t===zt)return void T(e);const o=()=>{s(n),i&&!i.persisted&&i.afterLeave&&i.afterLeave()};if(1&e.shapeFlag&&i&&!i.persisted){const{leave:t,delayLeave:r}=i,s=()=>t(n,o);r?r(e.el,o,s):s()}else o()},Y=(e,t)=>{let n;while(e!==t)n=p(e),s(e),e=n;s(t)},Q=(e,t,n)=>{const{bum:r,scope:o,update:s,subTree:a,um:l}=e;r&&(0,i.ir)(r),o.stop(),s&&(s.active=!1,G(a,e,t,n)),l&&Et(l,t),Et((()=>{e.isUnmounted=!0}),t),t&&t.pendingBranch&&!t.isUnmounted&&e.asyncDep&&!e.asyncResolved&&e.suspenseId===t.pendingId&&(t.deps--,0===t.deps&&t.resolve())},J=(e,t,n,r=!1,i=!1,o=0)=>{for(let s=o;s<e.length;s++)G(e[s],t,n,r,i)},X=e=>6&e.shapeFlag?X(e.component.subTree):128&e.shapeFlag?e.suspense.next():p(e.anchor||e.el),ee=(e,t,n)=>{null==e?t._vnode&&G(t._vnode,null,null,!0):y(t._vnode||null,e,t,null,null,null,n),I(),x(),t._vnode=e},te={p:y,um:G,m:W,r:Z,mt:q,mc:O,pc:$,pbc:P,n:X,o:e};let ne,re;return t&&([ne,re]=t(te)),{render:ee,hydrate:ne,createApp:kt(ee,ne)}}function At({effect:e,update:t},n){e.allowRecurse=t.allowRecurse=n}function Rt(e,t,n=!1){const r=e.children,o=t.children;if((0,i.kJ)(r)&&(0,i.kJ)(o))for(let i=0;i<r.length;i++){const e=r[i];let t=o[i];1&t.shapeFlag&&!t.dynamicChildren&&((t.patchFlag<=0||32===t.patchFlag)&&(t=o[i]=fn(o[i]),t.el=e.el),n||Rt(e,t))}}function Ot(e){const t=e.slice(),n=[0];let r,i,o,s,a;const l=e.length;for(r=0;r<l;r++){const l=e[r];if(0!==l){if(i=n[n.length-1],e[i]<l){t[r]=i,n.push(r);continue}o=0,s=n.length-1;while(o<s)a=o+s>>1,e[n[a]]<l?o=a+1:s=a;l<e[n[o]]&&(o>0&&(t[r]=n[o-1]),n[o]=r)}}o=n.length,s=n[o-1];while(o-- >0)n[o]=s,s=t[s];return n}const Nt=e=>e.__isTeleport,Pt=e=>e&&(e.disabled||""===e.disabled),Dt=e=>"undefined"!==typeof SVGElement&&e instanceof SVGElement,Lt=(e,t)=>{const n=e&&e.to;if((0,i.HD)(n)){if(t){const e=t(n);return e}return null}return n},Ft={__isTeleport:!0,process(e,t,n,r,i,o,s,a,l,u){const{mc:c,pc:h,pbc:d,o:{insert:f,querySelector:p,createText:m,createComment:g}}=u,v=Pt(t.props);let{shapeFlag:y,children:b,dynamicChildren:w}=t;if(null==e){const e=t.el=m(""),u=t.anchor=m("");f(e,n,r),f(u,n,r);const h=t.target=Lt(t.props,p),d=t.targetAnchor=m("");h&&(f(d,h),s=s||Dt(h));const g=(e,t)=>{16&y&&c(b,e,t,i,o,s,a,l)};v?g(n,u):h&&g(h,d)}else{t.el=e.el;const r=t.anchor=e.anchor,c=t.target=e.target,f=t.targetAnchor=e.targetAnchor,m=Pt(e.props),g=m?n:c,y=m?r:f;if(s=s||Dt(c),w?(d(e.dynamicChildren,w,g,i,o,s,a),Rt(e,t,!0)):l||h(e,t,g,y,i,o,s,a,!1),v)m||Mt(t,n,r,u,1);else if((t.props&&t.props.to)!==(e.props&&e.props.to)){const e=t.target=Lt(t.props,p);e&&Mt(t,e,null,u,0)}else m&&Mt(t,c,f,u,1)}},remove(e,t,n,r,{um:i,o:{remove:o}},s){const{shapeFlag:a,children:l,anchor:u,targetAnchor:c,target:h,props:d}=e;if(h&&o(c),(s||!Pt(d))&&(o(u),16&a))for(let f=0;f<l.length;f++){const e=l[f];i(e,t,n,!0,!!e.dynamicChildren)}},move:Mt,hydrate:qt};function Mt(e,t,n,{o:{insert:r},m:i},o=2){0===o&&r(e.targetAnchor,t,n);const{el:s,anchor:a,shapeFlag:l,children:u,props:c}=e,h=2===o;if(h&&r(s,t,n),(!h||Pt(c))&&16&l)for(let d=0;d<u.length;d++)i(u[d],t,n,2);h&&r(a,t,n)}function qt(e,t,n,r,i,o,{o:{nextSibling:s,parentNode:a,querySelector:l}},u){const c=t.target=Lt(t.props,l);if(c){const l=c._lpa||c.firstChild;if(16&t.shapeFlag)if(Pt(t.props))t.anchor=u(s(e),t,a(e),n,r,i,o),t.targetAnchor=l;else{t.anchor=s(e);let a=l;while(a)if(a=s(a),a&&8===a.nodeType&&"teleport anchor"===a.data){t.targetAnchor=a,c._lpa=t.targetAnchor&&s(t.targetAnchor);break}u(l,t,c,n,r,i,o)}}return t.anchor&&s(t.anchor)}const Ut=Ft,Bt=Symbol(void 0),Vt=Symbol(void 0),jt=Symbol(void 0),zt=Symbol(void 0),$t=[];let Ht=null;function Kt(e=!1){$t.push(Ht=e?null:[])}function Wt(){$t.pop(),Ht=$t[$t.length-1]||null}let Gt=1;function Zt(e){Gt+=e}function Yt(e){return e.dynamicChildren=Gt>0?Ht||i.Z6:null,Wt(),Gt>0&&Ht&&Ht.push(e),e}function Qt(e,t,n,r,i,o){return Yt(on(e,t,n,r,i,o,!0))}function Jt(e,t,n,r,i){return Yt(sn(e,t,n,r,i,!0))}function Xt(e){return!!e&&!0===e.__v_isVNode}function en(e,t){return e.type===t.type&&e.key===t.key}const tn="__vInternal",nn=({key:e})=>null!=e?e:null,rn=({ref:e,ref_key:t,ref_for:n})=>null!=e?(0,i.HD)(e)||(0,r.dq)(e)||(0,i.mf)(e)?{i:N,r:e,k:t,f:!!n}:e:null;function on(e,t=null,n=null,r=0,o=null,s=(e===Bt?0:1),a=!1,l=!1){const u={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&nn(t),ref:t&&rn(t),scopeId:P,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:s,patchFlag:r,dynamicProps:o,dynamicChildren:null,appContext:null};return l?(pn(u,n),128&s&&e.normalize(u)):n&&(u.shapeFlag|=(0,i.HD)(n)?8:16),Gt>0&&!a&&Ht&&(u.patchFlag>0||6&s)&&32!==u.patchFlag&&Ht.push(u),u}const sn=an;function an(e,t=null,n=null,o=0,s=null,a=!1){if(e&&e!==Me||(e=jt),Xt(e)){const r=un(e,t,!0);return n&&pn(r,n),Gt>0&&!a&&Ht&&(6&r.shapeFlag?Ht[Ht.indexOf(e)]=r:Ht.push(r)),r.patchFlag|=-2,r}if(Fn(e)&&(e=e.__vccOpts),t){t=ln(t);let{class:e,style:n}=t;e&&!(0,i.HD)(e)&&(t.class=(0,i.C_)(e)),(0,i.Kn)(n)&&((0,r.X3)(n)&&!(0,i.kJ)(n)&&(n=(0,i.l7)({},n)),t.style=(0,i.j5)(n))}const l=(0,i.HD)(e)?1:j(e)?128:Nt(e)?64:(0,i.Kn)(e)?4:(0,i.mf)(e)?2:0;return on(e,t,n,o,s,l,a,!0)}function ln(e){return e?(0,r.X3)(e)||tn in e?(0,i.l7)({},e):e:null}function un(e,t,n=!1){const{props:r,ref:o,patchFlag:s,children:a}=e,l=t?mn(r||{},t):r,u={__v_isVNode:!0,__v_skip:!0,type:e.type,props:l,key:l&&nn(l),ref:t&&t.ref?n&&o?(0,i.kJ)(o)?o.concat(rn(t)):[o,rn(t)]:rn(t):o,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:a,target:e.target,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==Bt?-1===s?16:16|s:s,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:e.transition,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&un(e.ssContent),ssFallback:e.ssFallback&&un(e.ssFallback),el:e.el,anchor:e.anchor};return u}function cn(e=" ",t=0){return sn(Vt,null,e,t)}function hn(e="",t=!1){return t?(Kt(),Jt(jt,null,e)):sn(jt,null,e)}function dn(e){return null==e||"boolean"===typeof e?sn(jt):(0,i.kJ)(e)?sn(Bt,null,e.slice()):"object"===typeof e?fn(e):sn(Vt,null,String(e))}function fn(e){return null===e.el||e.memo?e:un(e)}function pn(e,t){let n=0;const{shapeFlag:r}=e;if(null==t)t=null;else if((0,i.kJ)(t))n=16;else if("object"===typeof t){if(65&r){const n=t.default;return void(n&&(n._c&&(n._d=!1),pn(e,n()),n._c&&(n._d=!0)))}{n=32;const r=t._;r||tn in t?3===r&&N&&(1===N.slots._?t._=1:(t._=2,e.patchFlag|=1024)):t._ctx=N}}else(0,i.mf)(t)?(t={default:t,_ctx:N},n=32):(t=String(t),64&r?(n=16,t=[cn(t)]):n=8);e.children=t,e.shapeFlag|=n}function mn(...e){const t={};for(let n=0;n<e.length;n++){const r=e[n];for(const e in r)if("class"===e)t.class!==r.class&&(t.class=(0,i.C_)([t.class,r.class]));else if("style"===e)t.style=(0,i.j5)([t.style,r.style]);else if((0,i.F7)(e)){const n=t[e],o=r[e];!o||n===o||(0,i.kJ)(n)&&n.includes(o)||(t[e]=n?[].concat(n,o):o)}else""!==e&&(t[e]=r[e])}return t}function gn(e,t,n,r=null){s(e,t,7,[n,r])}const vn=_t();let yn=0;function bn(e,t,n){const o=e.type,s=(t?t.appContext:e.appContext)||vn,a={uid:yn++,vnode:e,type:o,parent:t,appContext:s,root:null,next:null,subTree:null,effect:null,update:null,scope:new r.Bj(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(s.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:ut(o,s),emitsOptions:R(o,s),emit:null,emitted:null,propsDefaults:i.kT,inheritAttrs:o.inheritAttrs,ctx:i.kT,data:i.kT,props:i.kT,attrs:i.kT,slots:i.kT,refs:i.kT,setupState:i.kT,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return a.ctx={_:a},a.root=t?t.root:a,a.emit=A.bind(null,a),e.ce&&e.ce(a),a}let wn=null;const _n=()=>wn||N,Sn=e=>{wn=e,e.scope.on()},kn=()=>{wn&&wn.scope.off(),wn=null};function In(e){return 4&e.vnode.shapeFlag}let xn,En,Tn=!1;function Cn(e,t=!1){Tn=t;const{props:n,children:r}=e.vnode,i=In(e);ot(e,n,i,t),bt(e,r);const o=i?An(e,t):void 0;return Tn=!1,o}function An(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=(0,r.Xl)(new Proxy(e.ctx,$e));const{setup:s}=n;if(s){const n=e.setupContext=s.length>1?Pn(e):null;Sn(e),(0,r.Jd)();const l=o(s,e,0,[e.props,n]);if((0,r.lk)(),kn(),(0,i.tI)(l)){if(l.then(kn,kn),t)return l.then((n=>{Rn(e,n,t)})).catch((t=>{a(t,e,0)}));e.asyncDep=l}else Rn(e,l,t)}else On(e,t)}function Rn(e,t,n){(0,i.mf)(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:(0,i.Kn)(t)&&(e.setupState=(0,r.WL)(t)),On(e,n)}function On(e,t,n){const o=e.type;if(!e.render){if(!t&&xn&&!o.render){const t=o.template;if(t){0;const{isCustomElement:n,compilerOptions:r}=e.appContext.config,{delimiters:s,compilerOptions:a}=o,l=(0,i.l7)((0,i.l7)({isCustomElement:n,delimiters:s},r),a);o.render=xn(t,l)}}e.render=o.render||i.dG,En&&En(e)}Sn(e),(0,r.Jd)(),Ke(e),(0,r.lk)(),kn()}function Nn(e){return new Proxy(e.attrs,{get(t,n){return(0,r.j)(e,"get","$attrs"),t[n]}})}function Pn(e){const t=t=>{e.exposed=t||{}};let n;return{get attrs(){return n||(n=Nn(e))},slots:e.slots,emit:e.emit,expose:t}}function Dn(e){if(e.exposed)return e.exposeProxy||(e.exposeProxy=new Proxy((0,r.WL)((0,r.Xl)(e.exposed)),{get(t,n){return n in t?t[n]:n in ze?ze[n](e):void 0}}))}function Ln(e,t=!0){return(0,i.mf)(e)?e.displayName||e.name:e.name||t&&e.__name}function Fn(e){return(0,i.mf)(e)&&"__vccOpts"in e}const Mn=(e,t)=>(0,r.Fl)(e,t,Tn);function qn(e,t,n){const r=arguments.length;return 2===r?(0,i.Kn)(t)&&!(0,i.kJ)(t)?Xt(t)?sn(e,null,[t]):sn(e,t):sn(e,null,t):(r>3?n=Array.prototype.slice.call(arguments,2):3===r&&Xt(n)&&(n=[n]),sn(e,t,n))}Symbol("");const Un="3.2.38"},1957:(e,t,n)=>{"use strict";n.d(t,{W3:()=>ie,iM:()=>he,ri:()=>me,uT:()=>q});var r=n(6970),i=n(9835),o=n(499);const s="http://www.w3.org/2000/svg",a="undefined"!==typeof document?document:null,l=a&&a.createElement("template"),u={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,r)=>{const i=t?a.createElementNS(s,e):a.createElement(e,n?{is:n}:void 0);return"select"===e&&r&&null!=r.multiple&&i.setAttribute("multiple",r.multiple),i},createText:e=>a.createTextNode(e),createComment:e=>a.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>a.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},cloneNode(e){const t=e.cloneNode(!0);return"_value"in e&&(t._value=e._value),t},insertStaticContent(e,t,n,r,i,o){const s=n?n.previousSibling:t.lastChild;if(i&&(i===o||i.nextSibling)){while(1)if(t.insertBefore(i.cloneNode(!0),n),i===o||!(i=i.nextSibling))break}else{l.innerHTML=r?`<svg>${e}</svg>`:e;const i=l.content;if(r){const e=i.firstChild;while(e.firstChild)i.appendChild(e.firstChild);i.removeChild(e)}t.insertBefore(i,n)}return[s?s.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}};function c(e,t,n){const r=e._vtc;r&&(t=(t?[t,...r]:[...r]).join(" ")),null==t?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}function h(e,t,n){const i=e.style,o=(0,r.HD)(n);if(n&&!o){for(const e in n)f(i,e,n[e]);if(t&&!(0,r.HD)(t))for(const e in t)null==n[e]&&f(i,e,"")}else{const r=i.display;o?t!==n&&(i.cssText=n):t&&e.removeAttribute("style"),"_vod"in e&&(i.display=r)}}const d=/\s*!important$/;function f(e,t,n){if((0,r.kJ)(n))n.forEach((n=>f(e,t,n)));else if(null==n&&(n=""),t.startsWith("--"))e.setProperty(t,n);else{const i=g(e,t);d.test(n)?e.setProperty((0,r.rs)(i),n.replace(d,""),"important"):e[i]=n}}const p=["Webkit","Moz","ms"],m={};function g(e,t){const n=m[t];if(n)return n;let i=(0,r._A)(t);if("filter"!==i&&i in e)return m[t]=i;i=(0,r.kC)(i);for(let r=0;r<p.length;r++){const n=p[r]+i;if(n in e)return m[t]=n}return t}const v="http://www.w3.org/1999/xlink";function y(e,t,n,i,o){if(i&&t.startsWith("xlink:"))null==n?e.removeAttributeNS(v,t.slice(6,t.length)):e.setAttributeNS(v,t,n);else{const i=(0,r.Pq)(t);null==n||i&&!(0,r.yA)(n)?e.removeAttribute(t):e.setAttribute(t,i?"":n)}}function b(e,t,n,i,o,s,a){if("innerHTML"===t||"textContent"===t)return i&&a(i,o,s),void(e[t]=null==n?"":n);if("value"===t&&"PROGRESS"!==e.tagName&&!e.tagName.includes("-")){e._value=n;const r=null==n?"":n;return e.value===r&&"OPTION"!==e.tagName||(e.value=r),void(null==n&&e.removeAttribute(t))}let l=!1;if(""===n||null==n){const i=typeof e[t];"boolean"===i?n=(0,r.yA)(n):null==n&&"string"===i?(n="",l=!0):"number"===i&&(n=0,l=!0)}try{e[t]=n}catch(u){0}l&&e.removeAttribute(t)}const[w,_]=(()=>{let e=Date.now,t=!1;if("undefined"!==typeof window){Date.now()>document.createEvent("Event").timeStamp&&(e=performance.now.bind(performance));const n=navigator.userAgent.match(/firefox\/(\d+)/i);t=!!(n&&Number(n[1])<=53)}return[e,t]})();let S=0;const k=Promise.resolve(),I=()=>{S=0},x=()=>S||(k.then(I),S=w());function E(e,t,n,r){e.addEventListener(t,n,r)}function T(e,t,n,r){e.removeEventListener(t,n,r)}function C(e,t,n,r,i=null){const o=e._vei||(e._vei={}),s=o[t];if(r&&s)s.value=r;else{const[n,a]=R(t);if(r){const s=o[t]=O(r,i);E(e,n,s,a)}else s&&(T(e,n,s,a),o[t]=void 0)}}const A=/(?:Once|Passive|Capture)$/;function R(e){let t;if(A.test(e)){let n;t={};while(n=e.match(A))e=e.slice(0,e.length-n[0].length),t[n[0].toLowerCase()]=!0}const n=":"===e[2]?e.slice(3):(0,r.rs)(e.slice(2));return[n,t]}function O(e,t){const n=e=>{const r=e.timeStamp||w();(_||r>=n.attached-1)&&(0,i.$d)(N(e,n.value),t,5,[e])};return n.value=e,n.attached=x(),n}function N(e,t){if((0,r.kJ)(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map((e=>t=>!t._stopped&&e&&e(t)))}return t}const P=/^on[a-z]/,D=(e,t,n,i,o=!1,s,a,l,u)=>{"class"===t?c(e,i,o):"style"===t?h(e,n,i):(0,r.F7)(t)?(0,r.tR)(t)||C(e,t,n,i,a):("."===t[0]?(t=t.slice(1),1):"^"===t[0]?(t=t.slice(1),0):L(e,t,i,o))?b(e,t,i,s,a,l,u):("true-value"===t?e._trueValue=i:"false-value"===t&&(e._falseValue=i),y(e,t,i,o))};function L(e,t,n,i){return i?"innerHTML"===t||"textContent"===t||!!(t in e&&P.test(t)&&(0,r.mf)(n)):"spellcheck"!==t&&"draggable"!==t&&"translate"!==t&&("form"!==t&&(("list"!==t||"INPUT"!==e.tagName)&&(("type"!==t||"TEXTAREA"!==e.tagName)&&((!P.test(t)||!(0,r.HD)(n))&&t in e))))}"undefined"!==typeof HTMLElement&&HTMLElement;const F="transition",M="animation",q=(e,{slots:t})=>(0,i.h)(i.P$,z(e),t);q.displayName="Transition";const U={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},B=q.props=(0,r.l7)({},i.P$.props,U),V=(e,t=[])=>{(0,r.kJ)(e)?e.forEach((e=>e(...t))):e&&e(...t)},j=e=>!!e&&((0,r.kJ)(e)?e.some((e=>e.length>1)):e.length>1);function z(e){const t={};for(const r in e)r in U||(t[r]=e[r]);if(!1===e.css)return t;const{name:n="v",type:i,duration:o,enterFromClass:s=`${n}-enter-from`,enterActiveClass:a=`${n}-enter-active`,enterToClass:l=`${n}-enter-to`,appearFromClass:u=s,appearActiveClass:c=a,appearToClass:h=l,leaveFromClass:d=`${n}-leave-from`,leaveActiveClass:f=`${n}-leave-active`,leaveToClass:p=`${n}-leave-to`}=e,m=$(o),g=m&&m[0],v=m&&m[1],{onBeforeEnter:y,onEnter:b,onEnterCancelled:w,onLeave:_,onLeaveCancelled:S,onBeforeAppear:k=y,onAppear:I=b,onAppearCancelled:x=w}=t,E=(e,t,n)=>{W(e,t?h:l),W(e,t?c:a),n&&n()},T=(e,t)=>{e._isLeaving=!1,W(e,d),W(e,p),W(e,f),t&&t()},C=e=>(t,n)=>{const r=e?I:b,o=()=>E(t,e,n);V(r,[t,o]),G((()=>{W(t,e?u:s),K(t,e?h:l),j(r)||Y(t,i,g,o)}))};return(0,r.l7)(t,{onBeforeEnter(e){V(y,[e]),K(e,s),K(e,a)},onBeforeAppear(e){V(k,[e]),K(e,u),K(e,c)},onEnter:C(!1),onAppear:C(!0),onLeave(e,t){e._isLeaving=!0;const n=()=>T(e,t);K(e,d),ee(),K(e,f),G((()=>{e._isLeaving&&(W(e,d),K(e,p),j(_)||Y(e,i,v,n))})),V(_,[e,n])},onEnterCancelled(e){E(e,!1),V(w,[e])},onAppearCancelled(e){E(e,!0),V(x,[e])},onLeaveCancelled(e){T(e),V(S,[e])}})}function $(e){if(null==e)return null;if((0,r.Kn)(e))return[H(e.enter),H(e.leave)];{const t=H(e);return[t,t]}}function H(e){const t=(0,r.He)(e);return t}function K(e,t){t.split(/\s+/).forEach((t=>t&&e.classList.add(t))),(e._vtc||(e._vtc=new Set)).add(t)}function W(e,t){t.split(/\s+/).forEach((t=>t&&e.classList.remove(t)));const{_vtc:n}=e;n&&(n.delete(t),n.size||(e._vtc=void 0))}function G(e){requestAnimationFrame((()=>{requestAnimationFrame(e)}))}let Z=0;function Y(e,t,n,r){const i=e._endId=++Z,o=()=>{i===e._endId&&r()};if(n)return setTimeout(o,n);const{type:s,timeout:a,propCount:l}=Q(e,t);if(!s)return r();const u=s+"end";let c=0;const h=()=>{e.removeEventListener(u,d),o()},d=t=>{t.target===e&&++c>=l&&h()};setTimeout((()=>{c<l&&h()}),a+1),e.addEventListener(u,d)}function Q(e,t){const n=window.getComputedStyle(e),r=e=>(n[e]||"").split(", "),i=r(F+"Delay"),o=r(F+"Duration"),s=J(i,o),a=r(M+"Delay"),l=r(M+"Duration"),u=J(a,l);let c=null,h=0,d=0;t===F?s>0&&(c=F,h=s,d=o.length):t===M?u>0&&(c=M,h=u,d=l.length):(h=Math.max(s,u),c=h>0?s>u?F:M:null,d=c?c===F?o.length:l.length:0);const f=c===F&&/\b(transform|all)(,|$)/.test(n[F+"Property"]);return{type:c,timeout:h,propCount:d,hasTransform:f}}function J(e,t){while(e.length<t.length)e=e.concat(e);return Math.max(...t.map(((t,n)=>X(t)+X(e[n]))))}function X(e){return 1e3*Number(e.slice(0,-1).replace(",","."))}function ee(){return document.body.offsetHeight}const te=new WeakMap,ne=new WeakMap,re={name:"TransitionGroup",props:(0,r.l7)({},B,{tag:String,moveClass:String}),setup(e,{slots:t}){const n=(0,i.FN)(),r=(0,i.Y8)();let s,a;return(0,i.ic)((()=>{if(!s.length)return;const t=e.moveClass||`${e.name||"v"}-move`;if(!le(s[0].el,n.vnode.el,t))return;s.forEach(oe),s.forEach(se);const r=s.filter(ae);ee(),r.forEach((e=>{const n=e.el,r=n.style;K(n,t),r.transform=r.webkitTransform=r.transitionDuration="";const i=n._moveCb=e=>{e&&e.target!==n||e&&!/transform$/.test(e.propertyName)||(n.removeEventListener("transitionend",i),n._moveCb=null,W(n,t))};n.addEventListener("transitionend",i)}))})),()=>{const l=(0,o.IU)(e),u=z(l);let c=l.tag||i.HY;s=a,a=t.default?(0,i.Q6)(t.default()):[];for(let e=0;e<a.length;e++){const t=a[e];null!=t.key&&(0,i.nK)(t,(0,i.U2)(t,u,r,n))}if(s)for(let e=0;e<s.length;e++){const t=s[e];(0,i.nK)(t,(0,i.U2)(t,u,r,n)),te.set(t,t.el.getBoundingClientRect())}return(0,i.Wm)(c,null,a)}}},ie=re;function oe(e){const t=e.el;t._moveCb&&t._moveCb(),t._enterCb&&t._enterCb()}function se(e){ne.set(e,e.el.getBoundingClientRect())}function ae(e){const t=te.get(e),n=ne.get(e),r=t.left-n.left,i=t.top-n.top;if(r||i){const t=e.el.style;return t.transform=t.webkitTransform=`translate(${r}px,${i}px)`,t.transitionDuration="0s",e}}function le(e,t,n){const r=e.cloneNode();e._vtc&&e._vtc.forEach((e=>{e.split(/\s+/).forEach((e=>e&&r.classList.remove(e)))})),n.split(/\s+/).forEach((e=>e&&r.classList.add(e))),r.style.display="none";const i=1===t.nodeType?t:t.parentNode;i.appendChild(r);const{hasTransform:o}=Q(r);return i.removeChild(r),o}const ue=["ctrl","shift","alt","meta"],ce={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&0!==e.button,middle:e=>"button"in e&&1!==e.button,right:e=>"button"in e&&2!==e.button,exact:(e,t)=>ue.some((n=>e[`${n}Key`]&&!t.includes(n)))},he=(e,t)=>(n,...r)=>{for(let e=0;e<t.length;e++){const r=ce[t[e]];if(r&&r(n,t))return}return e(n,...r)};const de=(0,r.l7)({patchProp:D},u);let fe;function pe(){return fe||(fe=(0,i.Us)(de))}const me=(...e)=>{const t=pe().createApp(...e);const{mount:n}=t;return t.mount=e=>{const i=ge(e);if(!i)return;const o=t._component;(0,r.mf)(o)||o.render||o.template||(o.template=i.innerHTML),i.innerHTML="";const s=n(i,!1,i instanceof SVGElement);return i instanceof Element&&(i.removeAttribute("v-cloak"),i.setAttribute("data-v-app","")),s},t};function ge(e){if((0,r.HD)(e)){const t=document.querySelector(e);return t}return e}},6970:(e,t,n)=>{"use strict";function r(e,t){const n=Object.create(null),r=e.split(",");for(let i=0;i<r.length;i++)n[r[i]]=!0;return t?e=>!!n[e.toLowerCase()]:e=>!!n[e]}n.d(t,{C_:()=>f,DM:()=>N,E9:()=>re,F7:()=>I,Gg:()=>$,HD:()=>L,He:()=>te,Kn:()=>M,NO:()=>S,Nj:()=>ee,Od:()=>T,PO:()=>j,Pq:()=>a,RI:()=>A,S0:()=>z,W7:()=>V,WV:()=>m,Z6:()=>w,_A:()=>W,_N:()=>O,aU:()=>J,dG:()=>_,e1:()=>o,fY:()=>r,hR:()=>Q,hq:()=>g,ir:()=>X,j5:()=>u,kC:()=>Y,kJ:()=>R,kT:()=>b,l7:()=>E,mf:()=>D,rs:()=>Z,tI:()=>q,tR:()=>x,yA:()=>l,yk:()=>F,zw:()=>v});const i="Infinity,undefined,NaN,isFinite,isNaN,parseFloat,parseInt,decodeURI,decodeURIComponent,encodeURI,encodeURIComponent,Math,Number,Date,Array,Object,Boolean,String,RegExp,Map,Set,JSON,Intl,BigInt",o=r(i);const s="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",a=r(s);function l(e){return!!e||""===e}function u(e){if(R(e)){const t={};for(let n=0;n<e.length;n++){const r=e[n],i=L(r)?d(r):u(r);if(i)for(const e in i)t[e]=i[e]}return t}return L(e)||M(e)?e:void 0}const c=/;(?![^(]*\))/g,h=/:(.+)/;function d(e){const t={};return e.split(c).forEach((e=>{if(e){const n=e.split(h);n.length>1&&(t[n[0].trim()]=n[1].trim())}})),t}function f(e){let t="";if(L(e))t=e;else if(R(e))for(let n=0;n<e.length;n++){const r=f(e[n]);r&&(t+=r+" ")}else if(M(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}function p(e,t){if(e.length!==t.length)return!1;let n=!0;for(let r=0;n&&r<e.length;r++)n=m(e[r],t[r]);return n}function m(e,t){if(e===t)return!0;let n=P(e),r=P(t);if(n||r)return!(!n||!r)&&e.getTime()===t.getTime();if(n=F(e),r=F(t),n||r)return e===t;if(n=R(e),r=R(t),n||r)return!(!n||!r)&&p(e,t);if(n=M(e),r=M(t),n||r){if(!n||!r)return!1;const i=Object.keys(e).length,o=Object.keys(t).length;if(i!==o)return!1;for(const n in e){const r=e.hasOwnProperty(n),i=t.hasOwnProperty(n);if(r&&!i||!r&&i||!m(e[n],t[n]))return!1}}return String(e)===String(t)}function g(e,t){return e.findIndex((e=>m(e,t)))}const v=e=>L(e)?e:null==e?"":R(e)||M(e)&&(e.toString===U||!D(e.toString))?JSON.stringify(e,y,2):String(e),y=(e,t)=>t&&t.__v_isRef?y(e,t.value):O(t)?{[`Map(${t.size})`]:[...t.entries()].reduce(((e,[t,n])=>(e[`${t} =>`]=n,e)),{})}:N(t)?{[`Set(${t.size})`]:[...t.values()]}:!M(t)||R(t)||j(t)?t:String(t),b={},w=[],_=()=>{},S=()=>!1,k=/^on[^a-z]/,I=e=>k.test(e),x=e=>e.startsWith("onUpdate:"),E=Object.assign,T=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},C=Object.prototype.hasOwnProperty,A=(e,t)=>C.call(e,t),R=Array.isArray,O=e=>"[object Map]"===B(e),N=e=>"[object Set]"===B(e),P=e=>"[object Date]"===B(e),D=e=>"function"===typeof e,L=e=>"string"===typeof e,F=e=>"symbol"===typeof e,M=e=>null!==e&&"object"===typeof e,q=e=>M(e)&&D(e.then)&&D(e.catch),U=Object.prototype.toString,B=e=>U.call(e),V=e=>B(e).slice(8,-1),j=e=>"[object Object]"===B(e),z=e=>L(e)&&"NaN"!==e&&"-"!==e[0]&&""+parseInt(e,10)===e,$=r(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),H=e=>{const t=Object.create(null);return n=>{const r=t[n];return r||(t[n]=e(n))}},K=/-(\w)/g,W=H((e=>e.replace(K,((e,t)=>t?t.toUpperCase():"")))),G=/\B([A-Z])/g,Z=H((e=>e.replace(G,"-$1").toLowerCase())),Y=H((e=>e.charAt(0).toUpperCase()+e.slice(1))),Q=H((e=>e?`on${Y(e)}`:"")),J=(e,t)=>!Object.is(e,t),X=(e,t)=>{for(let n=0;n<e.length;n++)e[n](t)},ee=(e,t,n)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value:n})},te=e=>{const t=parseFloat(e);return isNaN(t)?e:t};let ne;const re=()=>ne||(ne="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:{})},4455:(e,t,n)=>{"use strict";n.d(t,{Z:()=>E});var r=n(9835),i=n(499),o=n(1957),s=n(2857),a=n(3940),l=n(1136),u=(n(6727),n(5065)),c=n(244),h=n(945);const d={none:0,xs:4,sm:8,md:16,lg:24,xl:32},f={xs:8,sm:10,md:14,lg:20,xl:24},p=["button","submit","reset"],m=/[^\s]\/[^\s]/,g={...c.LU,...h.$,type:{type:String,default:"button"},label:[Number,String],icon:String,iconRight:String,round:Boolean,square:Boolean,outline:Boolean,flat:Boolean,unelevated:Boolean,rounded:Boolean,push:Boolean,glossy:Boolean,size:String,fab:Boolean,fabMini:Boolean,padding:String,color:String,textColor:String,noCaps:Boolean,noWrap:Boolean,dense:Boolean,tabindex:[Number,String],ripple:{type:[Boolean,Object],default:!0},align:{...u.jO.align,default:"center"},stack:Boolean,stretch:Boolean,loading:{type:Boolean,default:null},disable:Boolean};function v(e){const t=(0,c.ZP)(e,f),n=(0,u.ZP)(e),{hasRouterLink:i,hasLink:o,linkTag:s,linkProps:a,navigateToRouterLink:l}=(0,h.Z)("button"),g=(0,r.Fl)((()=>{const n=!1===e.fab&&!1===e.fabMini?t.value:{};return void 0!==e.padding?Object.assign({},n,{padding:e.padding.split(/\s+/).map((e=>e in d?d[e]+"px":e)).join(" "),minWidth:"0",minHeight:"0"}):n})),v=(0,r.Fl)((()=>!0===e.rounded||!0===e.fab||!0===e.fabMini)),y=(0,r.Fl)((()=>!0!==e.disable&&!0!==e.loading)),b=(0,r.Fl)((()=>!0===y.value?e.tabindex||0:-1)),w=(0,r.Fl)((()=>!0===e.flat?"flat":!0===e.outline?"outline":!0===e.push?"push":!0===e.unelevated?"unelevated":"standard")),_=(0,r.Fl)((()=>{const t={tabindex:b.value};return!0===o.value?Object.assign(t,a.value):!0===p.includes(e.type)&&(t.type=e.type),"a"===s.value?(!0===e.disable?t["aria-disabled"]="true":void 0===t.href&&(t.role="button"),!0!==i.value&&!0===m.test(e.type)&&(t.type=e.type)):!0===e.disable&&(t.disabled="",t["aria-disabled"]="true"),!0===e.loading&&void 0!==e.percentage&&Object.assign(t,{role:"progressbar","aria-valuemin":0,"aria-valuemax":100,"aria-valuenow":e.percentage}),t})),S=(0,r.Fl)((()=>{let t;void 0!==e.color?t=!0===e.flat||!0===e.outline?`text-${e.textColor||e.color}`:`bg-${e.color} text-${e.textColor||"white"}`:e.textColor&&(t=`text-${e.textColor}`);const n=!0===e.round?"round":"rectangle"+(!0===v.value?" q-btn--rounded":!0===e.square?" q-btn--square":"");return`q-btn--${w.value} q-btn--${n}`+(void 0!==t?" "+t:"")+(!0===y.value?" q-btn--actionable q-focusable q-hoverable":!0===e.disable?" disabled":"")+(!0===e.fab?" q-btn--fab":!0===e.fabMini?" q-btn--fab-mini":"")+(!0===e.noCaps?" q-btn--no-uppercase":"")+(!0===e.dense?" q-btn--dense":"")+(!0===e.stretch?" no-border-radius self-stretch":"")+(!0===e.glossy?" glossy":"")+(e.square?" q-btn--square":"")})),k=(0,r.Fl)((()=>n.value+(!0===e.stack?" column":" row")+(!0===e.noWrap?" no-wrap text-no-wrap":"")+(!0===e.loading?" q-btn__content--hidden":"")));return{classes:S,style:g,innerClasses:k,attributes:_,hasRouterLink:i,hasLink:o,linkTag:s,navigateToRouterLink:l,isActionable:y}}var y=n(5987),b=n(2026),w=n(1384),_=n(1705);const{passiveCapture:S}=w.rU;let k=null,I=null,x=null;const E=(0,y.L)({name:"QBtn",props:{...g,percentage:Number,darkPercentage:Boolean},emits:["click","keydown","touchstart","mousedown","keyup"],setup(e,{slots:t,emit:n}){const{proxy:u}=(0,r.FN)(),{classes:c,style:h,innerClasses:d,attributes:f,hasRouterLink:p,hasLink:m,linkTag:g,navigateToRouterLink:y,isActionable:E}=v(e),T=(0,i.iH)(null),C=(0,i.iH)(null);let A,R,O=null;const N=(0,r.Fl)((()=>void 0!==e.label&&null!==e.label&&""!==e.label)),P=(0,r.Fl)((()=>!0!==e.disable&&!1!==e.ripple&&{keyCodes:!0===m.value?[13,32]:[13],...!0===e.ripple?{}:e.ripple})),D=(0,r.Fl)((()=>({center:e.round}))),L=(0,r.Fl)((()=>{const t=Math.max(0,Math.min(100,e.percentage));return t>0?{transition:"transform 0.6s",transform:`translateX(${t-100}%)`}:{}})),F=(0,r.Fl)((()=>!0===e.loading?{onMousedown:$,onTouchstartPassive:$,onClick:$,onKeydown:$,onKeyup:$}:!0===E.value?{onClick:q,onKeydown:U,onMousedown:V,onTouchstart:B}:{onClick:w.NS})),M=(0,r.Fl)((()=>({ref:T,class:"q-btn q-btn-item non-selectable no-outline "+c.value,style:h.value,...f.value,...F.value})));function q(t){if(null!==T.value){if(void 0!==t){if(!0===t.defaultPrevented)return;const n=document.activeElement;if("submit"===e.type&&n!==document.body&&!1===T.value.contains(n)&&!1===n.contains(T.value)){T.value.focus();const e=()=>{document.removeEventListener("keydown",w.NS,!0),document.removeEventListener("keyup",e,S),null!==T.value&&T.value.removeEventListener("blur",e,S)};document.addEventListener("keydown",w.NS,!0),document.addEventListener("keyup",e,S),T.value.addEventListener("blur",e,S)}}if(!0===p.value){const e=()=>{t.__qNavigate=!0,y(t)};n("click",t,e),!0!==t.defaultPrevented&&e()}else n("click",t)}}function U(e){null!==T.value&&(n("keydown",e),!0===(0,_.So)(e,[13,32])&&I!==T.value&&(null!==I&&z(),!0!==e.defaultPrevented&&(T.value.focus(),I=T.value,T.value.classList.add("q-btn--active"),document.addEventListener("keyup",j,!0),T.value.addEventListener("blur",j,S)),(0,w.NS)(e)))}function B(e){null!==T.value&&(n("touchstart",e),!0!==e.defaultPrevented&&(k!==T.value&&(null!==k&&z(),k=T.value,O=e.target,O.addEventListener("touchcancel",j,S),O.addEventListener("touchend",j,S)),A=!0,clearTimeout(R),R=setTimeout((()=>{A=!1}),200)))}function V(e){null!==T.value&&(e.qSkipRipple=!0===A,n("mousedown",e),!0!==e.defaultPrevented&&x!==T.value&&(null!==x&&z(),x=T.value,T.value.classList.add("q-btn--active"),document.addEventListener("mouseup",j,S)))}function j(e){if(null!==T.value&&(void 0===e||"blur"!==e.type||document.activeElement!==T.value)){if(void 0!==e&&"keyup"===e.type){if(I===T.value&&!0===(0,_.So)(e,[13,32])){const t=new MouseEvent("click",e);t.qKeyEvent=!0,!0===e.defaultPrevented&&(0,w.X$)(t),!0===e.cancelBubble&&(0,w.sT)(t),T.value.dispatchEvent(t),(0,w.NS)(e),e.qKeyEvent=!0}n("keyup",e)}z()}}function z(e){const t=C.value;!0===e||k!==T.value&&x!==T.value||null===t||t===document.activeElement||(t.setAttribute("tabindex",-1),t.focus()),k===T.value&&(null!==O&&(O.removeEventListener("touchcancel",j,S),O.removeEventListener("touchend",j,S)),k=O=null),x===T.value&&(document.removeEventListener("mouseup",j,S),x=null),I===T.value&&(document.removeEventListener("keyup",j,!0),null!==T.value&&T.value.removeEventListener("blur",j,S),I=null),null!==T.value&&T.value.classList.remove("q-btn--active")}function $(e){(0,w.NS)(e),e.qSkipRipple=!0}return(0,r.Jd)((()=>{z(!0)})),Object.assign(u,{click:q}),()=>{let n=[];void 0!==e.icon&&n.push((0,r.h)(s.Z,{name:e.icon,left:!1===e.stack&&!0===N.value,role:"img","aria-hidden":"true"})),!0===N.value&&n.push((0,r.h)("span",{class:"block"},[e.label])),n=(0,b.vs)(t.default,n),void 0!==e.iconRight&&!1===e.round&&n.push((0,r.h)(s.Z,{name:e.iconRight,right:!1===e.stack&&!0===N.value,role:"img","aria-hidden":"true"}));const i=[(0,r.h)("span",{class:"q-focus-helper",ref:C})];return!0===e.loading&&void 0!==e.percentage&&i.push((0,r.h)("span",{class:"q-btn__progress absolute-full overflow-hidden"+(!0===e.darkPercentage?" q-btn__progress--dark":"")},[(0,r.h)("span",{class:"q-btn__progress-indicator fit block",style:L.value})])),i.push((0,r.h)("span",{class:"q-btn__content text-center col items-center q-anchor--skip "+d.value},n)),null!==e.loading&&i.push((0,r.h)(o.uT,{name:"q-transition--fade"},(()=>!0===e.loading?[(0,r.h)("span",{key:"loading",class:"absolute-full flex flex-center"},void 0!==t.loading?t.loading():[(0,r.h)(a.Z)])]:null))),(0,r.wy)((0,r.h)(g.value,M.value,i),[[l.Z,P.value,void 0,D.value]])}}})},4458:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(9835),i=n(8234),o=n(5987),s=n(2026);const a=(0,o.L)({name:"QCard",props:{...i.S,tag:{type:String,default:"div"},square:Boolean,flat:Boolean,bordered:Boolean},setup(e,{slots:t}){const n=(0,r.FN)(),o=(0,i.Z)(e,n.proxy.$q),a=(0,r.Fl)((()=>"q-card"+(!0===o.value?" q-card--dark q-dark":"")+(!0===e.bordered?" q-card--bordered":"")+(!0===e.square?" q-card--square no-border-radius":"")+(!0===e.flat?" q-card--flat no-shadow":"")));return()=>(0,r.h)(e.tag,{class:a.value},(0,s.KR)(t.default))}})},1821:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(9835),i=n(5065),o=n(5987),s=n(2026);const a=(0,o.L)({name:"QCardActions",props:{...i.jO,vertical:Boolean},setup(e,{slots:t}){const n=(0,i.ZP)(e),o=(0,r.Fl)((()=>`q-card__actions ${n.value} q-card__actions--`+(!0===e.vertical?"vert column":"horiz row")));return()=>(0,r.h)("div",{class:o.value},(0,s.KR)(t.default))}})},3190:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(9835),i=n(5987),o=n(2026);const s=(0,i.L)({name:"QCardSection",props:{tag:{type:String,default:"div"},horizontal:Boolean},setup(e,{slots:t}){const n=(0,r.Fl)((()=>"q-card__section q-card__section--"+(!0===e.horizontal?"horiz row no-wrap":"vert")));return()=>(0,r.h)(e.tag,{class:n.value},(0,o.KR)(t.default))}})},7088:(e,t,n)=>{"use strict";n.d(t,{Z:()=>T});n(6727),n(702);var r=n(9835),i=n(499),o=n(1957),s=n(4455),a=n(8234),l=n(3978),u=n(9256),c=n(3941),h=n(321);const d=["gregorian","persian"],f={modelValue:{required:!0},mask:{type:String},locale:Object,calendar:{type:String,validator:e=>d.includes(e),default:"gregorian"},landscape:Boolean,color:String,textColor:String,square:Boolean,flat:Boolean,bordered:Boolean,readonly:Boolean,disable:Boolean},p=["update:modelValue"];function m(e){return e.year+"/"+(0,h.vk)(e.month)+"/"+(0,h.vk)(e.day)}function g(e,t){const n=(0,r.Fl)((()=>!0!==e.disable&&!0!==e.readonly)),i=(0,r.Fl)((()=>!0===e.editable?0:-1)),o=(0,r.Fl)((()=>{const t=[];return void 0!==e.color&&t.push(`bg-${e.color}`),void 0!==e.textColor&&t.push(`text-${e.textColor}`),t.join(" ")}));function s(){return void 0!==e.locale?{...t.lang.date,...e.locale}:t.lang.date}function a(t){const n=new Date,r=!0===t?null:0;if("persian"===e.calendar){const e=(0,c.nG)(n);return{year:e.jy,month:e.jm,day:e.jd}}return{year:n.getFullYear(),month:n.getMonth()+1,day:n.getDate(),hour:r,minute:r,second:r,millisecond:r}}return{editable:n,tabindex:i,headerClass:o,getLocale:s,getCurrentDate:a}}var v=n(5987),y=n(2026),b=n(4170),w=n(6254);const _=20,S=["Calendar","Years","Months"],k=e=>S.includes(e),I=e=>/^-?[\d]+\/[0-1]\d$/.test(e),x="  ";function E(e){return e.year+"/"+(0,h.vk)(e.month)}const T=(0,v.L)({name:"QDate",props:{...f,...u.Fz,...a.S,multiple:Boolean,range:Boolean,title:String,subtitle:String,mask:{default:"YYYY/MM/DD"},defaultYearMonth:{type:String,validator:I},yearsInMonthView:Boolean,events:[Array,Function],eventColor:[String,Function],emitImmediately:Boolean,options:[Array,Function],navigationMinYearMonth:{type:String,validator:I},navigationMaxYearMonth:{type:String,validator:I},noUnset:Boolean,firstDayOfWeek:[String,Number],todayBtn:Boolean,minimal:Boolean,defaultView:{type:String,default:"Calendar",validator:k}},emits:[...p,"range-start","range-end","navigation"],setup(e,{slots:t,emit:n}){const{proxy:d}=(0,r.FN)(),{$q:f}=d,p=(0,a.Z)(e,f),{getCache:v}=(0,l.Z)(),{tabindex:S,headerClass:I,getLocale:T,getCurrentDate:C}=g(e,f);let A;const R=(0,u.Vt)(e),O=(0,u.eX)(R),N=(0,i.iH)(null),P=(0,i.iH)(Ce()),D=(0,i.iH)(T()),L=(0,r.Fl)((()=>Ce())),F=(0,r.Fl)((()=>T())),M=(0,r.Fl)((()=>C())),q=(0,i.iH)(Re(P.value,D.value)),U=(0,i.iH)(e.defaultView),B=!0===f.lang.rtl?"right":"left",V=(0,i.iH)(B.value),j=(0,i.iH)(B.value),z=q.value.year,$=(0,i.iH)(z-z%_-(z<0?_:0)),H=(0,i.iH)(null),K=(0,r.Fl)((()=>{const t=!0===e.landscape?"landscape":"portrait";return`q-date q-date--${t} q-date--${t}-${!0===e.minimal?"minimal":"standard"}`+(!0===p.value?" q-date--dark q-dark":"")+(!0===e.bordered?" q-date--bordered":"")+(!0===e.square?" q-date--square no-border-radius":"")+(!0===e.flat?" q-date--flat no-shadow":"")+(!0===e.disable?" disabled":!0===e.readonly?" q-date--readonly":"")})),W=(0,r.Fl)((()=>e.color||"primary")),G=(0,r.Fl)((()=>e.textColor||"white")),Z=(0,r.Fl)((()=>!0===e.emitImmediately&&!0!==e.multiple&&!0!==e.range)),Y=(0,r.Fl)((()=>!0===Array.isArray(e.modelValue)?e.modelValue:null!==e.modelValue&&void 0!==e.modelValue?[e.modelValue]:[])),Q=(0,r.Fl)((()=>Y.value.filter((e=>"string"===typeof e)).map((e=>Ae(e,P.value,D.value))).filter((e=>null!==e.dateHash&&null!==e.day&&null!==e.month&&null!==e.year)))),J=(0,r.Fl)((()=>{const e=e=>Ae(e,P.value,D.value);return Y.value.filter((e=>!0===(0,w.Kn)(e)&&void 0!==e.from&&void 0!==e.to)).map((t=>({from:e(t.from),to:e(t.to)}))).filter((e=>null!==e.from.dateHash&&null!==e.to.dateHash&&e.from.dateHash<e.to.dateHash))})),X=(0,r.Fl)((()=>"persian"!==e.calendar?e=>new Date(e.year,e.month-1,e.day):e=>{const t=(0,c.qJ)(e.year,e.month,e.day);return new Date(t.gy,t.gm-1,t.gd)})),ee=(0,r.Fl)((()=>"persian"===e.calendar?m:(e,t,n)=>(0,b.p6)(new Date(e.year,e.month-1,e.day,e.hour,e.minute,e.second,e.millisecond),void 0===t?P.value:t,void 0===n?D.value:n,e.year,e.timezoneOffset))),te=(0,r.Fl)((()=>Q.value.length+J.value.reduce(((e,t)=>e+1+(0,b.Ug)(X.value(t.to),X.value(t.from))),0))),ne=(0,r.Fl)((()=>{if(void 0!==e.title&&null!==e.title&&e.title.length>0)return e.title;if(null!==H.value){const e=H.value.init,t=X.value(e);return D.value.daysShort[t.getDay()]+", "+D.value.monthsShort[e.month-1]+" "+e.day+x+"?"}if(0===te.value)return x;if(te.value>1)return`${te.value} ${D.value.pluralDay}`;const t=Q.value[0],n=X.value(t);return!0===isNaN(n.valueOf())?x:void 0!==D.value.headerTitle?D.value.headerTitle(n,t):D.value.daysShort[n.getDay()]+", "+D.value.monthsShort[t.month-1]+" "+t.day})),re=(0,r.Fl)((()=>{const e=Q.value.concat(J.value.map((e=>e.from))).sort(((e,t)=>e.year-t.year||e.month-t.month));return e[0]})),ie=(0,r.Fl)((()=>{const e=Q.value.concat(J.value.map((e=>e.to))).sort(((e,t)=>t.year-e.year||t.month-e.month));return e[0]})),oe=(0,r.Fl)((()=>{if(void 0!==e.subtitle&&null!==e.subtitle&&e.subtitle.length>0)return e.subtitle;if(0===te.value)return x;if(te.value>1){const e=re.value,t=ie.value,n=D.value.monthsShort;return n[e.month-1]+(e.year!==t.year?" "+e.year+x+n[t.month-1]+" ":e.month!==t.month?x+n[t.month-1]:"")+" "+t.year}return Q.value[0].year})),se=(0,r.Fl)((()=>{const e=[f.iconSet.datetime.arrowLeft,f.iconSet.datetime.arrowRight];return!0===f.lang.rtl?e.reverse():e})),ae=(0,r.Fl)((()=>void 0!==e.firstDayOfWeek?Number(e.firstDayOfWeek):D.value.firstDayOfWeek)),le=(0,r.Fl)((()=>{const e=D.value.daysShort,t=ae.value;return t>0?e.slice(t,7).concat(e.slice(0,t)):e})),ue=(0,r.Fl)((()=>{const t=q.value;return"persian"!==e.calendar?new Date(t.year,t.month,0).getDate():(0,c.qM)(t.year,t.month)})),ce=(0,r.Fl)((()=>"function"===typeof e.eventColor?e.eventColor:()=>e.eventColor)),he=(0,r.Fl)((()=>{if(void 0===e.navigationMinYearMonth)return null;const t=e.navigationMinYearMonth.split("/");return{year:parseInt(t[0],10),month:parseInt(t[1],10)}})),de=(0,r.Fl)((()=>{if(void 0===e.navigationMaxYearMonth)return null;const t=e.navigationMaxYearMonth.split("/");return{year:parseInt(t[0],10),month:parseInt(t[1],10)}})),fe=(0,r.Fl)((()=>{const e={month:{prev:!0,next:!0},year:{prev:!0,next:!0}};return null!==he.value&&he.value.year>=q.value.year&&(e.year.prev=!1,he.value.year===q.value.year&&he.value.month>=q.value.month&&(e.month.prev=!1)),null!==de.value&&de.value.year<=q.value.year&&(e.year.next=!1,de.value.year===q.value.year&&de.value.month<=q.value.month&&(e.month.next=!1)),e})),pe=(0,r.Fl)((()=>{const e={};return Q.value.forEach((t=>{const n=E(t);void 0===e[n]&&(e[n]=[]),e[n].push(t.day)})),e})),me=(0,r.Fl)((()=>{const e={};return J.value.forEach((t=>{const n=E(t.from),r=E(t.to);if(void 0===e[n]&&(e[n]=[]),e[n].push({from:t.from.day,to:n===r?t.to.day:void 0,range:t}),n<r){let n;const{year:i,month:o}=t.from,s=o<12?{year:i,month:o+1}:{year:i+1,month:1};while((n=E(s))<=r)void 0===e[n]&&(e[n]=[]),e[n].push({from:void 0,to:n===r?t.to.day:void 0,range:t}),s.month++,s.month>12&&(s.year++,s.month=1)}})),e})),ge=(0,r.Fl)((()=>{if(null===H.value)return;const{init:e,initHash:t,final:n,finalHash:r}=H.value,[i,o]=t<=r?[e,n]:[n,e],s=E(i),a=E(o);if(s!==ve.value&&a!==ve.value)return;const l={};return s===ve.value?(l.from=i.day,l.includeFrom=!0):l.from=1,a===ve.value?(l.to=o.day,l.includeTo=!0):l.to=ue.value,l})),ve=(0,r.Fl)((()=>E(q.value))),ye=(0,r.Fl)((()=>{const t={};if(void 0===e.options){for(let e=1;e<=ue.value;e++)t[e]=!0;return t}const n="function"===typeof e.options?e.options:t=>e.options.includes(t);for(let e=1;e<=ue.value;e++){const r=ve.value+"/"+(0,h.vk)(e);t[e]=n(r)}return t})),be=(0,r.Fl)((()=>{const t={};if(void 0===e.events)for(let e=1;e<=ue.value;e++)t[e]=!1;else{const n="function"===typeof e.events?e.events:t=>e.events.includes(t);for(let e=1;e<=ue.value;e++){const r=ve.value+"/"+(0,h.vk)(e);t[e]=!0===n(r)&&ce.value(r)}}return t})),we=(0,r.Fl)((()=>{let t,n;const{year:r,month:i}=q.value;if("persian"!==e.calendar)t=new Date(r,i-1,1),n=new Date(r,i-1,0).getDate();else{const e=(0,c.qJ)(r,i,1);t=new Date(e.gy,e.gm-1,e.gd);let o=i-1,s=r;0===o&&(o=12,s--),n=(0,c.qM)(s,o)}return{days:t.getDay()-ae.value-1,endDay:n}})),_e=(0,r.Fl)((()=>{const e=[],{days:t,endDay:n}=we.value,r=t<0?t+7:t;if(r<6)for(let s=n-r;s<=n;s++)e.push({i:s,fill:!0});const i=e.length;for(let s=1;s<=ue.value;s++){const t={i:s,event:be.value[s],classes:[]};!0===ye.value[s]&&(t.in=!0,t.flat=!0),e.push(t)}if(void 0!==pe.value[ve.value]&&pe.value[ve.value].forEach((t=>{const n=i+t-1;Object.assign(e[n],{selected:!0,unelevated:!0,flat:!1,color:W.value,textColor:G.value})})),void 0!==me.value[ve.value]&&me.value[ve.value].forEach((t=>{if(void 0!==t.from){const n=i+t.from-1,r=i+(t.to||ue.value)-1;for(let i=n;i<=r;i++)Object.assign(e[i],{range:t.range,unelevated:!0,color:W.value,textColor:G.value});Object.assign(e[n],{rangeFrom:!0,flat:!1}),void 0!==t.to&&Object.assign(e[r],{rangeTo:!0,flat:!1})}else if(void 0!==t.to){const n=i+t.to-1;for(let r=i;r<=n;r++)Object.assign(e[r],{range:t.range,unelevated:!0,color:W.value,textColor:G.value});Object.assign(e[n],{flat:!1,rangeTo:!0})}else{const n=i+ue.value-1;for(let r=i;r<=n;r++)Object.assign(e[r],{range:t.range,unelevated:!0,color:W.value,textColor:G.value})}})),void 0!==ge.value){const t=i+ge.value.from-1,n=i+ge.value.to-1;for(let r=t;r<=n;r++)e[r].color=W.value,e[r].editRange=!0;!0===ge.value.includeFrom&&(e[t].editRangeFrom=!0),!0===ge.value.includeTo&&(e[n].editRangeTo=!0)}q.value.year===M.value.year&&q.value.month===M.value.month&&(e[i+M.value.day-1].today=!0);const o=e.length%7;if(o>0){const t=7-o;for(let n=1;n<=t;n++)e.push({i:n,fill:!0})}return e.forEach((e=>{let t="q-date__calendar-item ";!0===e.fill?t+="q-date__calendar-item--fill":(t+="q-date__calendar-item--"+(!0===e.in?"in":"out"),void 0!==e.range&&(t+=" q-date__range"+(!0===e.rangeTo?"-to":!0===e.rangeFrom?"-from":"")),!0===e.editRange&&(t+=` q-date__edit-range${!0===e.editRangeFrom?"-from":""}${!0===e.editRangeTo?"-to":""}`),void 0===e.range&&!0!==e.editRange||(t+=` text-${e.color}`)),e.classes=t})),e})),Se=(0,r.Fl)((()=>!0===e.disable?{"aria-disabled":"true"}:!0===e.readonly?{"aria-readonly":"true"}:{}));function ke(){const e=M.value,t=pe.value[E(e)];void 0!==t&&!1!==t.includes(e.day)||ze(e),Ee(e.year,e.month)}function Ie(e){!0===k(e)&&(U.value=e)}function xe(e,t){if(["month","year"].includes(e)){const n="month"===e?Ne:Pe;n(!0===t?-1:1)}}function Ee(e,t){U.value="Calendar",qe(e,t)}function Te(t,n){if(!1===e.range||!t)return void(H.value=null);const r=Object.assign({...q.value},t),i=void 0!==n?Object.assign({...q.value},n):r;H.value={init:r,initHash:m(r),final:i,finalHash:m(i)},Ee(r.year,r.month)}function Ce(){return"persian"===e.calendar?"YYYY/MM/DD":e.mask}function Ae(t,n,r){return(0,b.bK)(t,n,r,e.calendar,{hour:0,minute:0,second:0,millisecond:0})}function Re(t,n){const r=!0===Array.isArray(e.modelValue)?e.modelValue:e.modelValue?[e.modelValue]:[];if(0===r.length)return Oe();const i=r[r.length-1],o=Ae(void 0!==i.from?i.from:i,t,n);return null===o.dateHash?Oe():o}function Oe(){let t,n;if(void 0!==e.defaultYearMonth){const r=e.defaultYearMonth.split("/");t=parseInt(r[0],10),n=parseInt(r[1],10)}else{const e=void 0!==M.value?M.value:C();t=e.year,n=e.month}return{year:t,month:n,day:1,hour:0,minute:0,second:0,millisecond:0,dateHash:t+"/"+(0,h.vk)(n)+"/01"}}function Ne(e){let t=q.value.year,n=Number(q.value.month)+e;13===n?(n=1,t++):0===n&&(n=12,t--),qe(t,n),!0===Z.value&&Be("month")}function Pe(e){const t=Number(q.value.year)+e;qe(t,q.value.month),!0===Z.value&&Be("year")}function De(t){qe(t,q.value.month),U.value="Years"===e.defaultView?"Months":"Calendar",!0===Z.value&&Be("year")}function Le(e){qe(q.value.year,e),U.value="Calendar",!0===Z.value&&Be("month")}function Fe(e,t){const n=pe.value[t],r=void 0!==n&&!0===n.includes(e.day)?$e:ze;r(e)}function Me(e){return{year:e.year,month:e.month,day:e.day}}function qe(e,t){null!==he.value&&e<=he.value.year&&(e=he.value.year,t<he.value.month&&(t=he.value.month)),null!==de.value&&e>=de.value.year&&(e=de.value.year,t>de.value.month&&(t=de.value.month));const n=e+"/"+(0,h.vk)(t)+"/01";n!==q.value.dateHash&&(V.value=q.value.dateHash<n===(!0!==f.lang.rtl)?"left":"right",e!==q.value.year&&(j.value=V.value),(0,r.Y3)((()=>{$.value=e-e%_-(e<0?_:0),Object.assign(q.value,{year:e,month:t,day:1,dateHash:n})})))}function Ue(t,r,i){const o=null!==t&&1===t.length&&!1===e.multiple?t[0]:t;A=o;const{reason:s,details:a}=Ve(r,i);n("update:modelValue",o,s,a)}function Be(t){const i=void 0!==Q.value[0]&&null!==Q.value[0].dateHash?{...Q.value[0]}:{...q.value};(0,r.Y3)((()=>{i.year=q.value.year,i.month=q.value.month;const r="persian"!==e.calendar?new Date(i.year,i.month,0).getDate():(0,c.qM)(i.year,i.month);i.day=Math.min(Math.max(1,i.day),r);const o=je(i);A=o;const{details:s}=Ve("",i);n("update:modelValue",o,t,s)}))}function Ve(e,t){return void 0!==t.from?{reason:`${e}-range`,details:{...Me(t.target),from:Me(t.from),to:Me(t.to)}}:{reason:`${e}-day`,details:Me(t)}}function je(e,t,n){return void 0!==e.from?{from:ee.value(e.from,t,n),to:ee.value(e.to,t,n)}:ee.value(e,t,n)}function ze(t){let n;if(!0===e.multiple)if(void 0!==t.from){const e=m(t.from),r=m(t.to),i=Q.value.filter((t=>t.dateHash<e||t.dateHash>r)),o=J.value.filter((({from:t,to:n})=>n.dateHash<e||t.dateHash>r));n=i.concat(o).concat(t).map((e=>je(e)))}else{const e=Y.value.slice();e.push(je(t)),n=e}else n=je(t);Ue(n,"add",t)}function $e(t){if(!0===e.noUnset)return;let n=null;if(!0===e.multiple&&!0===Array.isArray(e.modelValue)){const r=je(t);n=void 0!==t.from?e.modelValue.filter((e=>void 0===e.from||e.from!==r.from&&e.to!==r.to)):e.modelValue.filter((e=>e!==r)),0===n.length&&(n=null)}Ue(n,"remove",t)}function He(t,r,i){const o=Q.value.concat(J.value).map((e=>je(e,t,r))).filter((e=>void 0!==e.from?null!==e.from.dateHash&&null!==e.to.dateHash:null!==e.dateHash));n("update:modelValue",(!0===e.multiple?o:o[0])||null,i)}function Ke(){if(!0!==e.minimal)return(0,r.h)("div",{class:"q-date__header "+I.value},[(0,r.h)("div",{class:"relative-position"},[(0,r.h)(o.uT,{name:"q-transition--fade"},(()=>(0,r.h)("div",{key:"h-yr-"+oe.value,class:"q-date__header-subtitle q-date__header-link "+("Years"===U.value?"q-date__header-link--active":"cursor-pointer"),tabindex:S.value,...v("vY",{onClick(){U.value="Years"},onKeyup(e){13===e.keyCode&&(U.value="Years")}})},[oe.value])))]),(0,r.h)("div",{class:"q-date__header-title relative-position flex no-wrap"},[(0,r.h)("div",{class:"relative-position col"},[(0,r.h)(o.uT,{name:"q-transition--fade"},(()=>(0,r.h)("div",{key:"h-sub"+ne.value,class:"q-date__header-title-label q-date__header-link "+("Calendar"===U.value?"q-date__header-link--active":"cursor-pointer"),tabindex:S.value,...v("vC",{onClick(){U.value="Calendar"},onKeyup(e){13===e.keyCode&&(U.value="Calendar")}})},[ne.value])))]),!0===e.todayBtn?(0,r.h)(s.Z,{class:"q-date__header-today self-start",icon:f.iconSet.datetime.today,flat:!0,size:"sm",round:!0,tabindex:S.value,onClick:ke}):null])])}function We({label:e,type:t,key:n,dir:i,goTo:a,boundaries:l,cls:u}){return[(0,r.h)("div",{class:"row items-center q-date__arrow"},[(0,r.h)(s.Z,{round:!0,dense:!0,size:"sm",flat:!0,icon:se.value[0],tabindex:S.value,disable:!1===l.prev,...v("go-#"+t,{onClick(){a(-1)}})})]),(0,r.h)("div",{class:"relative-position overflow-hidden flex flex-center"+u},[(0,r.h)(o.uT,{name:"q-transition--jump-"+i},(()=>(0,r.h)("div",{key:n},[(0,r.h)(s.Z,{flat:!0,dense:!0,noCaps:!0,label:e,tabindex:S.value,...v("view#"+t,{onClick:()=>{U.value=t}})})])))]),(0,r.h)("div",{class:"row items-center q-date__arrow"},[(0,r.h)(s.Z,{round:!0,dense:!0,size:"sm",flat:!0,icon:se.value[1],tabindex:S.value,disable:!1===l.next,...v("go+#"+t,{onClick(){a(1)}})})])]}(0,r.YP)((()=>e.modelValue),(e=>{if(A===e)A=0;else{const{year:e,month:t}=Re(P.value,D.value);qe(e,t)}})),(0,r.YP)(U,(()=>{null!==N.value&&N.value.focus()})),(0,r.YP)((()=>q.value.year),(e=>{n("navigation",{year:e,month:q.value.month})})),(0,r.YP)((()=>q.value.month),(e=>{n("navigation",{year:q.value.year,month:e})})),(0,r.YP)(L,(e=>{He(e,D.value,"mask"),P.value=e})),(0,r.YP)(F,(e=>{He(P.value,e,"locale"),D.value=e})),Object.assign(d,{setToday:ke,setView:Ie,offsetCalendar:xe,setCalendarTo:Ee,setEditingRange:Te});const Ge={Calendar:()=>[(0,r.h)("div",{key:"calendar-view",class:"q-date__view q-date__calendar"},[(0,r.h)("div",{class:"q-date__navigation row items-center no-wrap"},We({label:D.value.months[q.value.month-1],type:"Months",key:q.value.month,dir:V.value,goTo:Ne,boundaries:fe.value.month,cls:" col"}).concat(We({label:q.value.year,type:"Years",key:q.value.year,dir:j.value,goTo:Pe,boundaries:fe.value.year,cls:""}))),(0,r.h)("div",{class:"q-date__calendar-weekdays row items-center no-wrap"},le.value.map((e=>(0,r.h)("div",{class:"q-date__calendar-item"},[(0,r.h)("div",e)])))),(0,r.h)("div",{class:"q-date__calendar-days-container relative-position overflow-hidden"},[(0,r.h)(o.uT,{name:"q-transition--slide-"+V.value},(()=>(0,r.h)("div",{key:ve.value,class:"q-date__calendar-days fit"},_e.value.map((e=>(0,r.h)("div",{class:e.classes},[!0===e.in?(0,r.h)(s.Z,{class:!0===e.today?"q-date__today":"",dense:!0,flat:e.flat,unelevated:e.unelevated,color:e.color,textColor:e.textColor,label:e.i,tabindex:S.value,...v("day#"+e.i,{onClick:()=>{Ze(e.i)},onMouseover:()=>{Ye(e.i)}})},!1!==e.event?()=>(0,r.h)("div",{class:"q-date__event bg-"+e.event}):null):(0,r.h)("div",""+e.i)]))))))])])],Months(){const t=q.value.year===M.value.year,n=e=>null!==he.value&&q.value.year===he.value.year&&he.value.month>e||null!==de.value&&q.value.year===de.value.year&&de.value.month<e,i=D.value.monthsShort.map(((e,i)=>{const o=q.value.month===i+1;return(0,r.h)("div",{class:"q-date__months-item flex flex-center"},[(0,r.h)(s.Z,{class:!0===t&&M.value.month===i+1?"q-date__today":null,flat:!0!==o,label:e,unelevated:o,color:!0===o?W.value:null,textColor:!0===o?G.value:null,tabindex:S.value,disable:n(i+1),...v("month#"+i,{onClick:()=>{Le(i+1)}})})])}));return!0===e.yearsInMonthView&&i.unshift((0,r.h)("div",{class:"row no-wrap full-width"},[We({label:q.value.year,type:"Years",key:q.value.year,dir:j.value,goTo:Pe,boundaries:fe.value.year,cls:" col"})])),(0,r.h)("div",{key:"months-view",class:"q-date__view q-date__months flex flex-center"},i)},Years(){const e=$.value,t=e+_,n=[],i=e=>null!==he.value&&he.value.year>e||null!==de.value&&de.value.year<e;for(let o=e;o<=t;o++){const e=q.value.year===o;n.push((0,r.h)("div",{class:"q-date__years-item flex flex-center"},[(0,r.h)(s.Z,{key:"yr"+o,class:M.value.year===o?"q-date__today":null,flat:!e,label:o,dense:!0,unelevated:e,color:!0===e?W.value:null,textColor:!0===e?G.value:null,tabindex:S.value,disable:i(o),...v("yr#"+o,{onClick:()=>{De(o)}})})]))}return(0,r.h)("div",{class:"q-date__view q-date__years flex flex-center"},[(0,r.h)("div",{class:"col-auto"},[(0,r.h)(s.Z,{round:!0,dense:!0,flat:!0,icon:se.value[0],tabindex:S.value,disable:i(e),...v("y-",{onClick:()=>{$.value-=_}})})]),(0,r.h)("div",{class:"q-date__years-content col self-stretch row items-center"},n),(0,r.h)("div",{class:"col-auto"},[(0,r.h)(s.Z,{round:!0,dense:!0,flat:!0,icon:se.value[1],tabindex:S.value,disable:i(t),...v("y+",{onClick:()=>{$.value+=_}})})])])}};function Ze(t){const r={...q.value,day:t};if(!1!==e.range)if(null===H.value){const i=_e.value.find((e=>!0!==e.fill&&e.i===t));if(!0!==e.noUnset&&void 0!==i.range)return void $e({target:r,from:i.range.from,to:i.range.to});if(!0===i.selected)return void $e(r);const o=m(r);H.value={init:r,initHash:o,final:r,finalHash:o},n("range-start",Me(r))}else{const e=H.value.initHash,t=m(r),i=e<=t?{from:H.value.init,to:r}:{from:r,to:H.value.init};H.value=null,ze(e===t?r:{target:r,...i}),n("range-end",{from:Me(i.from),to:Me(i.to)})}else Fe(r,ve.value)}function Ye(e){if(null!==H.value){const t={...q.value,day:e};Object.assign(H.value,{final:t,finalHash:m(t)})}}return()=>{const n=[(0,r.h)("div",{class:"q-date__content col relative-position"},[(0,r.h)(o.uT,{name:"q-transition--fade"},Ge[U.value])])],i=(0,y.KR)(t.default);return void 0!==i&&n.push((0,r.h)("div",{class:"q-date__actions"},i)),void 0!==e.name&&!0!==e.disable&&O(n,"push"),(0,r.h)("div",{class:K.value,...Se.value},[Ke(),(0,r.h)("div",{ref:N,class:"q-date__main col column",tabindex:-1},n)])}}})},7743:(e,t,n)=>{"use strict";n.d(t,{Z:()=>B});n(6727),n(702);var r=n(9835),i=n(499),o=n(1957),s=n(5310);function a(e,t,n){let i;function o(){void 0!==i&&(s.Z.remove(i),i=void 0)}return(0,r.Jd)((()=>{!0===e.value&&o()})),{removeFromHistory:o,addToHistory(){i={condition:()=>!0===n.value,handler:t},s.Z.add(i)}}}var l=n(2695),u=n(6916),c=n(3842),h=n(431),d=n(1518),f=n(1384),p=n(3701),m=n(7506);let g,v,y,b,w,_,S=0,k=!1;function I(e){x(e)&&(0,f.NS)(e)}function x(e){if(e.target===document.body||e.target.classList.contains("q-layout__backdrop"))return!0;const t=(0,f.AZ)(e),n=e.shiftKey&&!e.deltaX,r=!n&&Math.abs(e.deltaX)<=Math.abs(e.deltaY),i=n||r?e.deltaY:e.deltaX;for(let o=0;o<t.length;o++){const e=t[o];if((0,p.QA)(e,r))return r?i<0&&0===e.scrollTop||i>0&&e.scrollTop+e.clientHeight===e.scrollHeight:i<0&&0===e.scrollLeft||i>0&&e.scrollLeft+e.clientWidth===e.scrollWidth}return!0}function E(e){e.target===document&&(document.scrollingElement.scrollTop=document.scrollingElement.scrollTop)}function T(e){!0!==k&&(k=!0,requestAnimationFrame((()=>{k=!1;const{height:t}=e.target,{clientHeight:n,scrollTop:r}=document.scrollingElement;void 0!==y&&t===window.innerHeight||(y=n-t,document.scrollingElement.scrollTop=r),r>y&&(document.scrollingElement.scrollTop-=Math.ceil((r-y)/8))})))}function C(e){const t=document.body,n=void 0!==window.visualViewport;if("add"===e){const{overflowY:e,overflowX:r}=window.getComputedStyle(t);g=(0,p.OI)(window),v=(0,p.u3)(window),b=t.style.left,w=t.style.top,t.style.left=`-${g}px`,t.style.top=`-${v}px`,"hidden"!==r&&("scroll"===r||t.scrollWidth>window.innerWidth)&&t.classList.add("q-body--force-scrollbar-x"),"hidden"!==e&&("scroll"===e||t.scrollHeight>window.innerHeight)&&t.classList.add("q-body--force-scrollbar-y"),t.classList.add("q-body--prevent-scroll"),document.qScrollPrevented=!0,!0===m.Lp.is.ios&&(!0===n?(window.scrollTo(0,0),window.visualViewport.addEventListener("resize",T,f.rU.passiveCapture),window.visualViewport.addEventListener("scroll",T,f.rU.passiveCapture),window.scrollTo(0,0)):window.addEventListener("scroll",E,f.rU.passiveCapture))}!0===m.Lp.is.desktop&&!0===m.Lp.is.mac&&window[`${e}EventListener`]("wheel",I,f.rU.notPassive),"remove"===e&&(!0===m.Lp.is.ios&&(!0===n?(window.visualViewport.removeEventListener("resize",T,f.rU.passiveCapture),window.visualViewport.removeEventListener("scroll",T,f.rU.passiveCapture)):window.removeEventListener("scroll",E,f.rU.passiveCapture)),t.classList.remove("q-body--prevent-scroll"),t.classList.remove("q-body--force-scrollbar-x"),t.classList.remove("q-body--force-scrollbar-y"),document.qScrollPrevented=!1,t.style.left=b,t.style.top=w,window.scrollTo(g,v),y=void 0)}function A(e){let t="add";if(!0===e){if(S++,void 0!==_)return clearTimeout(_),void(_=void 0);if(S>1)return}else{if(0===S)return;if(S--,S>0)return;if(t="remove",!0===m.Lp.is.ios&&!0===m.Lp.is.nativeMobile)return clearTimeout(_),void(_=setTimeout((()=>{C(t),_=void 0}),100))}C(t)}function R(){let e;return{preventBodyScroll(t){t===e||void 0===e&&!0!==t||(e=t,A(t))}}}var O=n(5987),N=n(223),P=n(2026),D=n(6532),L=n(4173),F=n(7026);let M=0;const q={standard:"fixed-full flex-center",top:"fixed-top justify-center",bottom:"fixed-bottom justify-center",right:"fixed-right items-center",left:"fixed-left items-center"},U={standard:["scale","scale"],top:["slide-down","slide-up"],bottom:["slide-up","slide-down"],right:["slide-left","slide-right"],left:["slide-right","slide-left"]},B=(0,O.L)({name:"QDialog",inheritAttrs:!1,props:{...c.vr,...h.D,transitionShow:String,transitionHide:String,persistent:Boolean,autoClose:Boolean,allowFocusOutside:Boolean,noEscDismiss:Boolean,noBackdropDismiss:Boolean,noRouteDismiss:Boolean,noRefocus:Boolean,noFocus:Boolean,noShake:Boolean,seamless:Boolean,maximized:Boolean,fullWidth:Boolean,fullHeight:Boolean,square:Boolean,position:{type:String,default:"standard",validator:e=>"standard"===e||["top","bottom","left","right"].includes(e)}},emits:[...c.gH,"shake","click","escape-key"],setup(e,{slots:t,emit:n,attrs:s}){const h=(0,r.FN)(),f=(0,i.iH)(null),p=(0,i.iH)(!1),m=(0,i.iH)(!1),g=(0,i.iH)(!1);let v,y,b,w=null;const _=(0,r.Fl)((()=>!0!==e.persistent&&!0!==e.noRouteDismiss&&!0!==e.seamless)),{preventBodyScroll:S}=R(),{registerTimeout:k,removeTimeout:I}=(0,l.Z)(),{registerTick:x,removeTick:E}=(0,u.Z)(),{showPortal:T,hidePortal:C,portalIsAccessible:A,renderPortal:O}=(0,d.Z)(h,f,ae,!0),{hide:B}=(0,c.ZP)({showing:p,hideOnRouteChange:_,handleShow:Q,handleHide:J,processOnMount:!0}),{addToHistory:V,removeFromHistory:j}=a(p,B,_),z=(0,r.Fl)((()=>"q-dialog__inner flex no-pointer-events q-dialog__inner--"+(!0===e.maximized?"maximized":"minimized")+` q-dialog__inner--${e.position} ${q[e.position]}`+(!0===g.value?" q-dialog__inner--animating":"")+(!0===e.fullWidth?" q-dialog__inner--fullwidth":"")+(!0===e.fullHeight?" q-dialog__inner--fullheight":"")+(!0===e.square?" q-dialog__inner--square":""))),$=(0,r.Fl)((()=>"q-transition--"+(void 0===e.transitionShow?U[e.position][0]:e.transitionShow))),H=(0,r.Fl)((()=>"q-transition--"+(void 0===e.transitionHide?U[e.position][1]:e.transitionHide))),K=(0,r.Fl)((()=>!0===m.value?H.value:$.value)),W=(0,r.Fl)((()=>`--q-transition-duration: ${e.transitionDuration}ms`)),G=(0,r.Fl)((()=>!0===p.value&&!0!==e.seamless)),Z=(0,r.Fl)((()=>!0===e.autoClose?{onClick:ie}:{})),Y=(0,r.Fl)((()=>["q-dialog fullscreen no-pointer-events q-dialog--"+(!0===G.value?"modal":"seamless"),s.class]));function Q(t){I(),E(),V(),w=!1===e.noRefocus&&null!==document.activeElement?document.activeElement:null,re(e.maximized),T(),g.value=!0,!0!==e.noFocus&&(null!==document.activeElement&&document.activeElement.blur(),x(X)),k((()=>{if(!0===h.proxy.$q.platform.is.ios){if(!0!==e.seamless&&document.activeElement){const{top:e,bottom:t}=document.activeElement.getBoundingClientRect(),{innerHeight:n}=window,r=void 0!==window.visualViewport?window.visualViewport.height:n;e>0&&t>r/2&&(document.scrollingElement.scrollTop=Math.min(document.scrollingElement.scrollHeight-r,t>=n?1/0:Math.ceil(document.scrollingElement.scrollTop+t-r/2))),document.activeElement.scrollIntoView()}b=!0,f.value.click(),b=!1}T(!0),g.value=!1,n("show",t)}),e.transitionDuration)}function J(t){I(),E(),j(),ne(!0),g.value=!0,C(),null!==w&&(w.focus(),w=null),k((()=>{C(!0),g.value=!1,n("hide",t)}),e.transitionDuration)}function X(e){(0,F.jd)((()=>{let t=f.value;null!==t&&!0!==t.contains(document.activeElement)&&(t=t.querySelector(e||"[autofocus], [data-autofocus]")||t,t.focus({preventScroll:!0}))}))}function ee(){X(),n("shake");const e=f.value;null!==e&&(e.classList.remove("q-animate--scale"),e.classList.add("q-animate--scale"),clearTimeout(v),v=setTimeout((()=>{null!==f.value&&(e.classList.remove("q-animate--scale"),X())}),170))}function te(){!0!==e.seamless&&(!0===e.persistent||!0===e.noEscDismiss?!0!==e.maximized&&!0!==e.noShake&&ee():(n("escape-key"),B()))}function ne(t){clearTimeout(v),!0!==t&&!0!==p.value||(re(!1),!0!==e.seamless&&(S(!1),(0,L.H)(se),(0,D.k)(te))),!0!==t&&(w=null)}function re(e){!0===e?!0!==y&&(M<1&&document.body.classList.add("q-body--dialog"),M++,y=!0):!0===y&&(M<2&&document.body.classList.remove("q-body--dialog"),M--,y=!1)}function ie(e){!0!==b&&(B(e),n("click",e))}function oe(t){!0!==e.persistent&&!0!==e.noBackdropDismiss?B(t):!0!==e.noShake&&ee()}function se(t){!0!==e.allowFocusOutside&&!0===A.value&&!0!==(0,N.mY)(f.value,t.target)&&X('[tabindex]:not([tabindex="-1"])')}function ae(){return(0,r.h)("div",{...s,class:Y.value},[(0,r.h)(o.uT,{name:"q-transition--fade",appear:!0},(()=>!0===G.value?(0,r.h)("div",{class:"q-dialog__backdrop fixed-full",style:W.value,"aria-hidden":"true",onMousedown:oe}):null)),(0,r.h)(o.uT,{name:K.value,appear:!0},(()=>!0===p.value?(0,r.h)("div",{ref:f,class:z.value,style:W.value,tabindex:-1,...Z.value},(0,P.KR)(t.default)):null))])}return(0,r.YP)(p,(e=>{(0,r.Y3)((()=>{m.value=e}))})),(0,r.YP)((()=>e.maximized),(e=>{!0===p.value&&re(e)})),(0,r.YP)(G,(e=>{S(e),!0===e?((0,L.i)(se),(0,D.c)(te)):((0,L.H)(se),(0,D.k)(te))})),Object.assign(h.proxy,{focus:X,shake:ee,__updateRefocusTarget(e){w=e||null}}),(0,r.Jd)(ne),O}})},2857:(e,t,n)=>{"use strict";n.d(t,{Z:()=>_});n(702);var r=n(9835),i=n(244),o=n(5987),s=n(2026);const a="0 0 24 24",l=e=>e,u=e=>`ionicons ${e}`,c={"mdi-":e=>`mdi ${e}`,"icon-":l,"bt-":e=>`bt ${e}`,"eva-":e=>`eva ${e}`,"ion-md":u,"ion-ios":u,"ion-logo":u,"iconfont ":l,"ti-":e=>`themify-icon ${e}`,"bi-":e=>`bootstrap-icons ${e}`},h={o_:"-outlined",r_:"-round",s_:"-sharp"},d={sym_o_:"-outlined",sym_r_:"-rounded",sym_s_:"-sharp"},f=new RegExp("^("+Object.keys(c).join("|")+")"),p=new RegExp("^("+Object.keys(h).join("|")+")"),m=new RegExp("^("+Object.keys(d).join("|")+")"),g=/^[Mm]\s?[-+]?\.?\d/,v=/^img:/,y=/^svguse:/,b=/^ion-/,w=/^(fa-(solid|regular|light|brands|duotone|thin)|[lf]a[srlbdk]?) /,_=(0,o.L)({name:"QIcon",props:{...i.LU,tag:{type:String,default:"i"},name:String,color:String,left:Boolean,right:Boolean},setup(e,{slots:t}){const{proxy:{$q:n}}=(0,r.FN)(),o=(0,i.ZP)(e),l=(0,r.Fl)((()=>"q-icon"+(!0===e.left?" on-left":"")+(!0===e.right?" on-right":"")+(void 0!==e.color?` text-${e.color}`:""))),u=(0,r.Fl)((()=>{let t,i=e.name;if("none"===i||!i)return{none:!0};if(null!==n.iconMapFn){const e=n.iconMapFn(i);if(void 0!==e){if(void 0===e.icon)return{cls:e.cls,content:void 0!==e.content?e.content:" "};if(i=e.icon,"none"===i||!i)return{none:!0}}}if(!0===g.test(i)){const[e,t=a]=i.split("|");return{svg:!0,viewBox:t,nodes:e.split("&&").map((e=>{const[t,n,i]=e.split("@@");return(0,r.h)("path",{style:n,d:t,transform:i})}))}}if(!0===v.test(i))return{img:!0,src:i.substring(4)};if(!0===y.test(i)){const[e,t=a]=i.split("|");return{svguse:!0,src:e.substring(7),viewBox:t}}let o=" ";const s=i.match(f);if(null!==s)t=c[s[1]](i);else if(!0===w.test(i))t=i;else if(!0===b.test(i))t=`ionicons ion-${!0===n.platform.is.ios?"ios":"md"}${i.substring(3)}`;else if(!0===m.test(i)){t="notranslate material-symbols";const e=i.match(m);null!==e&&(i=i.substring(6),t+=d[e[1]]),o=i}else{t="notranslate material-icons";const e=i.match(p);null!==e&&(i=i.substring(2),t+=h[e[1]]),o=i}return{cls:t,content:o}}));return()=>{const n={class:l.value,style:o.value,"aria-hidden":"true",role:"presentation"};return!0===u.value.none?(0,r.h)(e.tag,n,(0,s.KR)(t.default)):!0===u.value.img?(0,r.h)("span",n,(0,s.vs)(t.default,[(0,r.h)("img",{src:u.value.src})])):!0===u.value.svg?(0,r.h)("span",n,(0,s.vs)(t.default,[(0,r.h)("svg",{viewBox:u.value.viewBox||"0 0 24 24"},u.value.nodes)])):!0===u.value.svguse?(0,r.h)("span",n,(0,s.vs)(t.default,[(0,r.h)("svg",{viewBox:u.value.viewBox},[(0,r.h)("use",{"xlink:href":u.value.src})])])):(void 0!==u.value.cls&&(n.class+=" "+u.value.cls),(0,r.h)(e.tag,n,(0,s.vs)(t.default,[u.value.content])))}}})},335:(e,t,n)=>{"use strict";n.d(t,{Z:()=>d});var r=n(499),i=n(9835),o=n(1957),s=n(3940);const a={ratio:[String,Number]};function l(e,t){return(0,i.Fl)((()=>{const n=Number(e.ratio||(void 0!==t?t.value:void 0));return!0!==isNaN(n)&&n>0?{paddingBottom:100/n+"%"}:null}))}var u=n(5987),c=n(2026);n(7506);const h=16/9,d=(0,u.L)({name:"QImg",props:{...a,src:String,srcset:String,sizes:String,alt:String,crossorigin:String,decoding:String,referrerpolicy:String,draggable:Boolean,loading:{type:String,default:"lazy"},fetchpriority:{type:String,default:"auto"},width:String,height:String,initialRatio:{type:[Number,String],default:h},placeholderSrc:String,fit:{type:String,default:"cover"},position:{type:String,default:"50% 50%"},imgClass:String,imgStyle:Object,noSpinner:Boolean,noNativeMenu:Boolean,noTransition:Boolean,spinnerColor:String,spinnerSize:String},emits:["load","error"],setup(e,{slots:t,emit:n}){const a=(0,r.iH)(e.initialRatio),u=l(e,a);let h;const d=[(0,r.iH)(null),(0,r.iH)(void 0!==e.placeholderSrc?{src:e.placeholderSrc}:null)],f=(0,r.iH)(0),p=(0,r.iH)(!1),m=(0,r.iH)(!1),g=(0,i.Fl)((()=>`q-img q-img--${!0===e.noNativeMenu?"no-":""}menu`)),v=(0,i.Fl)((()=>({width:e.width,height:e.height}))),y=(0,i.Fl)((()=>"q-img__image "+(void 0!==e.imgClass?e.imgClass+" ":"")+`q-img__image--with${!0===e.noTransition?"out":""}-transition`)),b=(0,i.Fl)((()=>({...e.imgStyle,objectFit:e.fit,objectPosition:e.position})));function w(){return e.src||e.srcset||e.sizes?{src:e.src,srcset:e.srcset,sizes:e.sizes}:null}function _(e){if(clearTimeout(h),m.value=!1,null===e)return p.value=!1,d[0].value=null,void(d[1].value=null);p.value=!0,d[f.value].value=e}function S({target:e}){null!==h&&(clearTimeout(h),a.value=0===e.naturalHeight?.5:e.naturalWidth/e.naturalHeight,k(e,1))}function k(e,t){null!==h&&1e3!==t&&(!0===e.complete?I(e):h=setTimeout((()=>{k(e,t+1)}),50))}function I(e){null!==h&&(f.value=1===f.value?0:1,d[f.value].value=null,p.value=!1,m.value=!1,n("load",e.currentSrc||e.src))}function x(e){clearTimeout(h),p.value=!1,m.value=!0,d[0].value=null,d[1].value=null,n("error",e)}function E(e,t){return(0,i.h)("div",{class:"q-img__container absolute-full",key:e},t)}function T(t){const n=d[t].value,r={key:"img_"+t,class:y.value,style:b.value,crossorigin:e.crossorigin,decoding:e.decoding,referrerpolicy:e.referrerpolicy,height:e.height,width:e.width,loading:e.loading,fetchpriority:e.fetchpriority,"aria-hidden":"true",draggable:e.draggable,...n};return f.value===t?(r.class+=" q-img__image--waiting",Object.assign(r,{onLoad:S,onError:x})):r.class+=" q-img__image--loaded",E("img"+t,(0,i.h)("img",r))}function C(){return!0!==p.value?(0,i.h)("div",{key:"content",class:"q-img__content absolute-full q-anchor--skip"},(0,c.KR)(t[!0===m.value?"error":"default"])):(0,i.h)("div",{key:"loading",class:"q-img__loading absolute-full flex flex-center"},void 0!==t.loading?t.loading():!0===e.noSpinner?void 0:[(0,i.h)(s.Z,{color:e.spinnerColor,size:e.spinnerSize})])}return(0,i.YP)((()=>w()),_),_(w()),(0,i.Jd)((()=>{clearTimeout(h),h=null})),()=>{const t=[];return null!==u.value&&t.push((0,i.h)("div",{key:"filler",style:u.value})),!0!==m.value&&(null!==d[0].value&&t.push(T(0)),null!==d[1].value&&t.push(T(1))),t.push((0,i.h)(o.uT,{name:"q-transition--fade"},C)),(0,i.h)("div",{class:g.value,style:v.value,role:"img","aria-label":e.alt},t)}}})},6611:(e,t,n)=>{"use strict";n.d(t,{Z:()=>_});n(702),n(6727);var r=n(499),i=n(9835),o=n(2840),s=(n(8964),n(1705));const a={date:"####/##/##",datetime:"####/##/## ##:##",time:"##:##",fulltime:"##:##:##",phone:"(###) ### - ####",card:"#### #### #### ####"},l={"#":{pattern:"[\\d]",negate:"[^\\d]"},S:{pattern:"[a-zA-Z]",negate:"[^a-zA-Z]"},N:{pattern:"[0-9a-zA-Z]",negate:"[^0-9a-zA-Z]"},A:{pattern:"[a-zA-Z]",negate:"[^a-zA-Z]",transform:e=>e.toLocaleUpperCase()},a:{pattern:"[a-zA-Z]",negate:"[^a-zA-Z]",transform:e=>e.toLocaleLowerCase()},X:{pattern:"[0-9a-zA-Z]",negate:"[^0-9a-zA-Z]",transform:e=>e.toLocaleUpperCase()},x:{pattern:"[0-9a-zA-Z]",negate:"[^0-9a-zA-Z]",transform:e=>e.toLocaleLowerCase()}},u=Object.keys(l);u.forEach((e=>{l[e].regex=new RegExp(l[e].pattern)}));const c=new RegExp("\\\\([^.*+?^${}()|([\\]])|([.*+?^${}()|[\\]])|(["+u.join("")+"])|(.)","g"),h=/[.*+?^${}()|[\]\\]/g,d=String.fromCharCode(1),f={mask:String,reverseFillMask:Boolean,fillMask:[Boolean,String],unmaskedValue:Boolean};function p(e,t,n,o){let u,f,p,m;const g=(0,r.iH)(null),v=(0,r.iH)(b());function y(){return!0===e.autogrow||["textarea","text","search","url","tel","password"].includes(e.type)}function b(){if(_(),!0===g.value){const t=E(C(e.modelValue));return!1!==e.fillMask?A(t):t}return e.modelValue}function w(e){if(e<u.length)return u.slice(-e);let t="",n=u;const r=n.indexOf(d);if(r>-1){for(let r=e-n.length;r>0;r--)t+=d;n=n.slice(0,r)+t+n.slice(r)}return n}function _(){if(g.value=void 0!==e.mask&&e.mask.length>0&&y(),!1===g.value)return m=void 0,u="",void(f="");const t=void 0===a[e.mask]?e.mask:a[e.mask],n="string"===typeof e.fillMask&&e.fillMask.length>0?e.fillMask.slice(0,1):"_",r=n.replace(h,"\\$&"),i=[],o=[],s=[];let v=!0===e.reverseFillMask,b="",w="";t.replace(c,((e,t,n,r,a)=>{if(void 0!==r){const e=l[r];s.push(e),w=e.negate,!0===v&&(o.push("(?:"+w+"+)?("+e.pattern+"+)?(?:"+w+"+)?("+e.pattern+"+)?"),v=!1),o.push("(?:"+w+"+)?("+e.pattern+")?")}else if(void 0!==n)b="\\"+("\\"===n?"":n),s.push(n),i.push("([^"+b+"]+)?"+b+"?");else{const e=void 0!==t?t:a;b="\\"===e?"\\\\\\\\":e.replace(h,"\\\\$&"),s.push(e),i.push("([^"+b+"]+)?"+b+"?")}}));const _=new RegExp("^"+i.join("")+"("+(""===b?".":"[^"+b+"]")+"+)?$"),S=o.length-1,k=o.map(((t,n)=>0===n&&!0===e.reverseFillMask?new RegExp("^"+r+"*"+t):n===S?new RegExp("^"+t+"("+(""===w?".":w)+"+)?"+(!0===e.reverseFillMask?"$":r+"*")):new RegExp("^"+t)));p=s,m=e=>{const t=_.exec(e);null!==t&&(e=t.slice(1).join(""));const n=[],r=k.length;for(let i=0,o=e;i<r;i++){const e=k[i].exec(o);if(null===e)break;o=o.slice(e.shift().length),n.push(...e)}return n.length>0?n.join(""):e},u=s.map((e=>"string"===typeof e?e:d)).join(""),f=u.split(d).join(n)}function S(t,r,s){const a=o.value,l=a.selectionEnd,c=a.value.length-l,h=C(t);!0===r&&_();const p=E(h),m=!1!==e.fillMask?A(p):p,g=v.value!==m;a.value!==m&&(a.value=m),!0===g&&(v.value=m),document.activeElement===a&&(0,i.Y3)((()=>{if(m!==f)if("insertFromPaste"!==s||!0===e.reverseFillMask)if(["deleteContentBackward","deleteContentForward"].indexOf(s)>-1){const t=!0===e.reverseFillMask?0===l?m.length>p.length?1:0:Math.max(0,m.length-(m===f?0:Math.min(p.length,c)+1))+1:l;a.setSelectionRange(t,t,"forward")}else if(!0===e.reverseFillMask)if(!0===g){const e=Math.max(0,m.length-(m===f?0:Math.min(p.length,c+1)));1===e&&1===l?a.setSelectionRange(e,e,"forward"):I.rightReverse(a,e,e)}else{const e=m.length-c;a.setSelectionRange(e,e,"backward")}else if(!0===g){const e=Math.max(0,u.indexOf(d),Math.min(p.length,l)-1);I.right(a,e,e)}else{const e=l-1;I.right(a,e,e)}else{const e=l-1;I.right(a,e,e)}else{const t=!0===e.reverseFillMask?f.length:0;a.setSelectionRange(t,t,"forward")}}));const y=!0===e.unmaskedValue?C(m):m;String(e.modelValue)!==y&&n(y,!0)}function k(e,t,n){const r=E(C(e.value));t=Math.max(0,u.indexOf(d),Math.min(r.length,t)),e.setSelectionRange(t,n,"forward")}(0,i.YP)((()=>e.type+e.autogrow),_),(0,i.YP)((()=>e.mask),(n=>{if(void 0!==n)S(v.value,!0);else{const n=C(v.value);_(),e.modelValue!==n&&t("update:modelValue",n)}})),(0,i.YP)((()=>e.fillMask+e.reverseFillMask),(()=>{!0===g.value&&S(v.value,!0)})),(0,i.YP)((()=>e.unmaskedValue),(()=>{!0===g.value&&S(v.value)}));const I={left(e,t,n,r){const i=-1===u.slice(t-1).indexOf(d);let o=Math.max(0,t-1);for(;o>=0;o--)if(u[o]===d){t=o,!0===i&&t++;break}if(o<0&&void 0!==u[t]&&u[t]!==d)return I.right(e,0,0);t>=0&&e.setSelectionRange(t,!0===r?n:t,"backward")},right(e,t,n,r){const i=e.value.length;let o=Math.min(i,n+1);for(;o<=i;o++){if(u[o]===d){n=o;break}u[o-1]===d&&(n=o)}if(o>i&&void 0!==u[n-1]&&u[n-1]!==d)return I.left(e,i,i);e.setSelectionRange(r?t:n,n,"forward")},leftReverse(e,t,n,r){const i=w(e.value.length);let o=Math.max(0,t-1);for(;o>=0;o--){if(i[o-1]===d){t=o;break}if(i[o]===d&&(t=o,0===o))break}if(o<0&&void 0!==i[t]&&i[t]!==d)return I.rightReverse(e,0,0);t>=0&&e.setSelectionRange(t,!0===r?n:t,"backward")},rightReverse(e,t,n,r){const i=e.value.length,o=w(i),s=-1===o.slice(0,n+1).indexOf(d);let a=Math.min(i,n+1);for(;a<=i;a++)if(o[a-1]===d){n=a,n>0&&!0===s&&n--;break}if(a>i&&void 0!==o[n-1]&&o[n-1]!==d)return I.leftReverse(e,i,i);e.setSelectionRange(!0===r?t:n,n,"forward")}};function x(t){if(!0===(0,s.Wm)(t))return;const n=o.value,r=n.selectionStart,i=n.selectionEnd;if(37===t.keyCode||39===t.keyCode){const o=I[(39===t.keyCode?"right":"left")+(!0===e.reverseFillMask?"Reverse":"")];t.preventDefault(),o(n,r,i,t.shiftKey)}else 8===t.keyCode&&!0!==e.reverseFillMask&&r===i?I.left(n,r,i,!0):46===t.keyCode&&!0===e.reverseFillMask&&r===i&&I.rightReverse(n,r,i,!0)}function E(t){if(void 0===t||null===t||""===t)return"";if(!0===e.reverseFillMask)return T(t);const n=p;let r=0,i="";for(let e=0;e<n.length;e++){const o=t[r],s=n[e];if("string"===typeof s)i+=s,o===s&&r++;else{if(void 0===o||!s.regex.test(o))return i;i+=void 0!==s.transform?s.transform(o):o,r++}}return i}function T(e){const t=p,n=u.indexOf(d);let r=e.length-1,i="";for(let o=t.length-1;o>=0&&r>-1;o--){const s=t[o];let a=e[r];if("string"===typeof s)i=s+i,a===s&&r--;else{if(void 0===a||!s.regex.test(a))return i;do{i=(void 0!==s.transform?s.transform(a):a)+i,r--,a=e[r]}while(n===o&&void 0!==a&&s.regex.test(a))}}return i}function C(e){return"string"!==typeof e||void 0===m?"number"===typeof e?m(""+e):e:m(e)}function A(t){return f.length-t.length<=0?t:!0===e.reverseFillMask&&t.length>0?f.slice(0,-t.length)+t:t+f.slice(t.length)}return{innerValue:v,hasMask:g,moveCursorForPaste:k,updateMaskValue:S,onMaskedKeydown:x}}var m=n(9256);function g(e,t){function n(){const t=e.modelValue;try{const e="DataTransfer"in window?new DataTransfer:"ClipboardEvent"in window?new ClipboardEvent("").clipboardData:void 0;return Object(t)===t&&("length"in t?Array.from(t):[t]).forEach((t=>{e.items.add(t)})),{files:e.files}}catch(n){return{files:void 0}}}return!0===t?(0,i.Fl)((()=>{if("file"===e.type)return n()})):(0,i.Fl)(n)}var v=n(2802),y=n(5987),b=n(1384),w=n(7026);const _=(0,y.L)({name:"QInput",inheritAttrs:!1,props:{...o.Cl,...f,...m.Fz,modelValue:{required:!1},shadowText:String,type:{type:String,default:"text"},debounce:[String,Number],autogrow:Boolean,inputClass:[Array,String,Object],inputStyle:[Array,String,Object]},emits:[...o.HJ,"paste","change"],setup(e,{emit:t,attrs:n}){const s={};let a,l,u,c,h=NaN;const d=(0,r.iH)(null),f=(0,m.Do)(e),{innerValue:y,hasMask:_,moveCursorForPaste:S,updateMaskValue:k,onMaskedKeydown:I}=p(e,t,M,d),x=g(e,!0),E=(0,i.Fl)((()=>(0,o.yV)(y.value))),T=(0,v.Z)(F),C=(0,o.tL)(),A=(0,i.Fl)((()=>"textarea"===e.type||!0===e.autogrow)),R=(0,i.Fl)((()=>!0===A.value||["text","search","url","tel","password"].includes(e.type))),O=(0,i.Fl)((()=>{const t={...C.splitAttrs.listeners.value,onInput:F,onPaste:L,onChange:U,onBlur:B,onFocus:b.sT};return t.onCompositionstart=t.onCompositionupdate=t.onCompositionend=T,!0===_.value&&(t.onKeydown=I),!0===e.autogrow&&(t.onAnimationend=q),t})),N=(0,i.Fl)((()=>{const t={tabindex:0,"data-autofocus":!0===e.autofocus||void 0,rows:"textarea"===e.type?6:void 0,"aria-label":e.label,name:f.value,...C.splitAttrs.attributes.value,id:C.targetUid.value,maxlength:e.maxlength,disabled:!0===e.disable,readonly:!0===e.readonly};return!1===A.value&&(t.type=e.type),!0===e.autogrow&&(t.rows=1),t}));function P(){(0,w.jd)((()=>{const e=document.activeElement;null===d.value||d.value===e||null!==e&&e.id===C.targetUid.value||d.value.focus({preventScroll:!0})}))}function D(){null!==d.value&&d.value.select()}function L(n){if(!0===_.value&&!0!==e.reverseFillMask){const e=n.target;S(e,e.selectionStart,e.selectionEnd)}t("paste",n)}function F(n){if(!n||!n.target)return;if("file"===e.type)return void t("update:modelValue",n.target.files);const r=n.target.value;if(!0!==n.target.qComposing){if(!0===_.value)k(r,!1,n.inputType);else if(M(r),!0===R.value&&n.target===document.activeElement){const{selectionStart:e,selectionEnd:t}=n.target;void 0!==e&&void 0!==t&&(0,i.Y3)((()=>{n.target===document.activeElement&&0===r.indexOf(n.target.value)&&n.target.setSelectionRange(e,t)}))}!0===e.autogrow&&q()}else s.value=r}function M(n,r){c=()=>{"number"!==e.type&&!0===s.hasOwnProperty("value")&&delete s.value,e.modelValue!==n&&h!==n&&(h=n,!0===r&&(l=!0),t("update:modelValue",n),(0,i.Y3)((()=>{h===n&&(h=NaN)}))),c=void 0},"number"===e.type&&(a=!0,s.value=n),void 0!==e.debounce?(clearTimeout(u),s.value=n,u=setTimeout(c,e.debounce)):c()}function q(){const e=d.value;if(null!==e){const t=e.parentNode.style,{overflow:n}=e.style;t.marginBottom=e.scrollHeight-1+"px",e.style.height="1px",e.style.overflow="hidden",e.style.height=e.scrollHeight+"px",e.style.overflow=n,t.marginBottom=""}}function U(e){T(e),clearTimeout(u),void 0!==c&&c(),t("change",e.target.value)}function B(t){void 0!==t&&(0,b.sT)(t),clearTimeout(u),void 0!==c&&c(),a=!1,l=!1,delete s.value,"file"!==e.type&&setTimeout((()=>{null!==d.value&&(d.value.value=void 0!==y.value?y.value:"")}))}function V(){return!0===s.hasOwnProperty("value")?s.value:void 0!==y.value?y.value:""}(0,i.YP)((()=>e.type),(()=>{d.value&&(d.value.value=e.modelValue)})),(0,i.YP)((()=>e.modelValue),(t=>{if(!0===_.value){if(!0===l&&(l=!1,String(t)===h))return;k(t)}else y.value!==t&&(y.value=t,"number"===e.type&&!0===s.hasOwnProperty("value")&&(!0===a?a=!1:delete s.value));!0===e.autogrow&&(0,i.Y3)(q)})),(0,i.YP)((()=>e.autogrow),(e=>{!0===e?(0,i.Y3)(q):null!==d.value&&n.rows>0&&(d.value.style.height="auto")})),(0,i.YP)((()=>e.dense),(()=>{!0===e.autogrow&&(0,i.Y3)(q)})),(0,i.Jd)((()=>{B()})),(0,i.bv)((()=>{!0===e.autogrow&&q()})),Object.assign(C,{innerValue:y,fieldClass:(0,i.Fl)((()=>"q-"+(!0===A.value?"textarea":"input")+(!0===e.autogrow?" q-textarea--autogrow":""))),hasShadow:(0,i.Fl)((()=>"file"!==e.type&&"string"===typeof e.shadowText&&e.shadowText.length>0)),inputRef:d,emitValue:M,hasValue:E,floatingLabel:(0,i.Fl)((()=>!0===E.value||(0,o.yV)(e.displayValue))),getControl:()=>(0,i.h)(!0===A.value?"textarea":"input",{ref:d,class:["q-field__native q-placeholder",e.inputClass],style:e.inputStyle,...N.value,...O.value,..."file"!==e.type?{value:V()}:x.value}),getShadowControl:()=>(0,i.h)("div",{class:"q-field__native q-field__shadow absolute-bottom no-pointer-events"+(!0===A.value?"":" text-no-wrap")},[(0,i.h)("span",{class:"invisible"},V()),(0,i.h)("span",e.shadowText)])});const j=(0,o.ZP)(C),z=(0,i.FN)();return Object.assign(z.proxy,{focus:P,select:D,getNativeElement:()=>d.value}),j}})},7858:(e,t,n)=>{"use strict";n.d(t,{Z:()=>B});n(702);var r=n(9835),i=n(499),o=n(1957),s=n(4397),a=n(1384);function l(e,t){const n=(0,i.iH)(null);let o;function s(e,t){const n=(void 0!==t?"add":"remove")+"EventListener",r=void 0!==t?t:o;e!==window&&e[n]("scroll",r,a.rU.passive),window[n]("scroll",r,a.rU.passive),o=t}function l(){null!==n.value&&(s(n.value),n.value=null)}const u=(0,r.YP)((()=>e.noParentEvent),(()=>{null!==n.value&&(l(),t())}));return(0,r.Jd)(u),{localScrollTarget:n,unconfigureScrollTarget:l,changeScrollEvent:s}}var u=n(3842),c=n(8234),h=n(1518),d=n(431),f=n(6916),p=n(2695),m=n(5987),g=n(2909),v=n(3701),y=n(2026),b=n(6532),w=n(4173),_=n(223);let S;const{notPassiveCapture:k}=a.rU,I=[];function x(e){clearTimeout(S);const t=e.target;if(void 0===t||8===t.nodeType||!0===t.classList.contains("no-pointer-events"))return;let n=g.wN.length-1;while(n>=0){const e=g.wN[n].$;if("QDialog"!==e.type.name)break;if(!0!==e.props.seamless)return;n--}for(let r=I.length-1;r>=0;r--){const n=I[r];if(null!==n.anchorEl.value&&!1!==n.anchorEl.value.contains(t)||t!==document.body&&(null===n.innerRef.value||!1!==n.innerRef.value.contains(t)))return;e.qClickOutside=!0,n.onClickOutside(e)}}function E(e){I.push(e),1===I.length&&(document.addEventListener("mousedown",x,k),document.addEventListener("touchstart",x,k))}function T(e){const t=I.findIndex((t=>t===e));t>-1&&(I.splice(t,1),0===I.length&&(clearTimeout(S),document.removeEventListener("mousedown",x,k),document.removeEventListener("touchstart",x,k)))}var C=n(7026),A=(n(6727),n(7506));let R,O;function N(e){const t=e.split(" ");return 2===t.length&&(!0!==["top","center","bottom"].includes(t[0])?(console.error("Anchor/Self position must start with one of top/center/bottom"),!1):!0===["left","middle","right","start","end"].includes(t[1])||(console.error("Anchor/Self position must end with one of left/middle/right/start/end"),!1))}function P(e){return!e||2===e.length&&("number"===typeof e[0]&&"number"===typeof e[1])}const D={"start#ltr":"left","start#rtl":"right","end#ltr":"right","end#rtl":"left"};function L(e,t){const n=e.split(" ");return{vertical:n[0],horizontal:D[`${n[1]}#${!0===t?"rtl":"ltr"}`]}}function F(e,t){let{top:n,left:r,right:i,bottom:o,width:s,height:a}=e.getBoundingClientRect();return void 0!==t&&(n-=t[1],r-=t[0],o+=t[1],i+=t[0],s+=t[0],a+=t[1]),{top:n,left:r,right:i,bottom:o,width:s,height:a,middle:r+(i-r)/2,center:n+(o-n)/2}}function M(e){return{top:0,center:e.offsetHeight/2,bottom:e.offsetHeight,left:0,middle:e.offsetWidth/2,right:e.offsetWidth}}function q(e){if(!0===A.Lp.is.ios&&void 0!==window.visualViewport){const e=document.body.style,{offsetLeft:t,offsetTop:n}=window.visualViewport;t!==R&&(e.setProperty("--q-pe-left",t+"px"),R=t),n!==O&&(e.setProperty("--q-pe-top",n+"px"),O=n)}let t;const{scrollLeft:n,scrollTop:r}=e.el;if(void 0===e.absoluteOffset)t=F(e.anchorEl,!0===e.cover?[0,0]:e.offset);else{const{top:n,left:r}=e.anchorEl.getBoundingClientRect(),i=n+e.absoluteOffset.top,o=r+e.absoluteOffset.left;t={top:i,left:o,width:1,height:1,right:o+1,center:i,middle:o,bottom:i+1}}let i={maxHeight:e.maxHeight,maxWidth:e.maxWidth,visibility:"visible"};!0!==e.fit&&!0!==e.cover||(i.minWidth=t.width+"px",!0===e.cover&&(i.minHeight=t.height+"px")),Object.assign(e.el.style,i);const o=M(e.el),s={top:t[e.anchorOrigin.vertical]-o[e.selfOrigin.vertical],left:t[e.anchorOrigin.horizontal]-o[e.selfOrigin.horizontal]};U(s,t,o,e.anchorOrigin,e.selfOrigin),i={top:s.top+"px",left:s.left+"px"},void 0!==s.maxHeight&&(i.maxHeight=s.maxHeight+"px",t.height>s.maxHeight&&(i.minHeight=i.maxHeight)),void 0!==s.maxWidth&&(i.maxWidth=s.maxWidth+"px",t.width>s.maxWidth&&(i.minWidth=i.maxWidth)),Object.assign(e.el.style,i),e.el.scrollTop!==r&&(e.el.scrollTop=r),e.el.scrollLeft!==n&&(e.el.scrollLeft=n)}function U(e,t,n,r,i){const o=n.bottom,s=n.right,a=(0,v.np)(),l=window.innerHeight-a,u=document.body.clientWidth;if(e.top<0||e.top+o>l)if("center"===i.vertical)e.top=t[r.vertical]>l/2?Math.max(0,l-o):0,e.maxHeight=Math.min(o,l);else if(t[r.vertical]>l/2){const n=Math.min(l,"center"===r.vertical?t.center:r.vertical===i.vertical?t.bottom:t.top);e.maxHeight=Math.min(o,n),e.top=Math.max(0,n-o)}else e.top=Math.max(0,"center"===r.vertical?t.center:r.vertical===i.vertical?t.top:t.bottom),e.maxHeight=Math.min(o,l-e.top);if(e.left<0||e.left+s>u)if(e.maxWidth=Math.min(s,u),"middle"===i.horizontal)e.left=t[r.horizontal]>u/2?Math.max(0,u-s):0;else if(t[r.horizontal]>u/2){const n=Math.min(u,"middle"===r.horizontal?t.middle:r.horizontal===i.horizontal?t.right:t.left);e.maxWidth=Math.min(s,n),e.left=Math.max(0,n-e.maxWidth)}else e.left=Math.max(0,"middle"===r.horizontal?t.middle:r.horizontal===i.horizontal?t.left:t.right),e.maxWidth=Math.min(s,u-e.left)}["left","middle","right"].forEach((e=>{D[`${e}#ltr`]=e,D[`${e}#rtl`]=e}));const B=(0,m.L)({name:"QMenu",inheritAttrs:!1,props:{...s.u,...u.vr,...c.S,...d.D,persistent:Boolean,autoClose:Boolean,separateClosePopup:Boolean,noRouteDismiss:Boolean,noRefocus:Boolean,noFocus:Boolean,fit:Boolean,cover:Boolean,square:Boolean,anchor:{type:String,validator:N},self:{type:String,validator:N},offset:{type:Array,validator:P},scrollTarget:{default:void 0},touchPosition:Boolean,maxHeight:{type:String,default:null},maxWidth:{type:String,default:null}},emits:[...u.gH,"click","escape-key"],setup(e,{slots:t,emit:n,attrs:m}){let S,k,I,x=null;const A=(0,r.FN)(),{proxy:R}=A,{$q:O}=R,N=(0,i.iH)(null),P=(0,i.iH)(!1),D=(0,r.Fl)((()=>!0!==e.persistent&&!0!==e.noRouteDismiss)),F=(0,c.Z)(e,O),{registerTick:M,removeTick:U}=(0,f.Z)(),{registerTimeout:B,removeTimeout:V}=(0,p.Z)(),{transition:j,transitionStyle:z}=(0,d.Z)(e,P),{localScrollTarget:$,changeScrollEvent:H,unconfigureScrollTarget:K}=l(e,ue),{anchorEl:W,canShow:G}=(0,s.Z)({showing:P}),{hide:Z}=(0,u.ZP)({showing:P,canShow:G,handleShow:se,handleHide:ae,hideOnRouteChange:D,processOnMount:!0}),{showPortal:Y,hidePortal:Q,renderPortal:J}=(0,h.Z)(A,N,pe),X={anchorEl:W,innerRef:N,onClickOutside(t){if(!0!==e.persistent&&!0===P.value)return Z(t),("touchstart"===t.type||t.target.classList.contains("q-dialog__backdrop"))&&(0,a.NS)(t),!0}},ee=(0,r.Fl)((()=>L(e.anchor||(!0===e.cover?"center middle":"bottom start"),O.lang.rtl))),te=(0,r.Fl)((()=>!0===e.cover?ee.value:L(e.self||"top start",O.lang.rtl))),ne=(0,r.Fl)((()=>(!0===e.square?" q-menu--square":"")+(!0===F.value?" q-menu--dark q-dark":""))),re=(0,r.Fl)((()=>!0===e.autoClose?{onClick:ce}:{})),ie=(0,r.Fl)((()=>!0===P.value&&!0!==e.persistent));function oe(){(0,C.jd)((()=>{let e=N.value;e&&!0!==e.contains(document.activeElement)&&(e=e.querySelector("[autofocus], [data-autofocus]")||e,e.focus({preventScroll:!0}))}))}function se(t){if(U(),V(),x=!1===e.noRefocus?document.activeElement:null,(0,w.i)(he),Y(),ue(),S=void 0,void 0!==t&&(e.touchPosition||e.contextMenu)){const e=(0,a.FK)(t);if(void 0!==e.left){const{top:t,left:n}=W.value.getBoundingClientRect();S={left:e.left-n,top:e.top-t}}}void 0===k&&(k=(0,r.YP)((()=>O.screen.width+"|"+O.screen.height+"|"+e.self+"|"+e.anchor+"|"+O.lang.rtl),fe)),!0!==e.noFocus&&document.activeElement.blur(),M((()=>{fe(),!0!==e.noFocus&&oe()})),B((()=>{!0===O.platform.is.ios&&(I=e.autoClose,N.value.click()),fe(),Y(!0),n("show",t)}),e.transitionDuration)}function ae(t){U(),V(),Q(),le(!0),null===x||void 0!==t&&!0===t.qClickOutside||(x.focus(),x=null),B((()=>{Q(!0),n("hide",t)}),e.transitionDuration)}function le(e){S=void 0,void 0!==k&&(k(),k=void 0),!0!==e&&!0!==P.value||((0,w.H)(he),K(),T(X),(0,b.k)(de)),!0!==e&&(x=null)}function ue(){null===W.value&&void 0===e.scrollTarget||($.value=(0,v.b0)(W.value,e.scrollTarget),H($.value,fe))}function ce(e){!0!==I?((0,g.AH)(R,e),n("click",e)):I=!1}function he(t){!0===ie.value&&!0!==e.noFocus&&!0!==(0,_.mY)(N.value,t.target)&&oe()}function de(e){n("escape-key"),Z(e)}function fe(){const t=N.value;null!==t&&null!==W.value&&q({el:t,offset:e.offset,anchorEl:W.value,anchorOrigin:ee.value,selfOrigin:te.value,absoluteOffset:S,fit:e.fit,cover:e.cover,maxHeight:e.maxHeight,maxWidth:e.maxWidth})}function pe(){return(0,r.h)(o.uT,{name:j.value,appear:!0},(()=>!0===P.value?(0,r.h)("div",{...m,ref:N,tabindex:-1,class:["q-menu q-position-engine scroll"+ne.value,m.class],style:[m.style,z.value],...re.value},(0,y.KR)(t.default)):null))}return(0,r.YP)(ie,(e=>{!0===e?((0,b.c)(de),E(X)):((0,b.k)(de),T(X))})),(0,r.Jd)(le),Object.assign(R,{focus:oe,updatePosition:fe}),J}})},2765:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u});var r=n(9835),i=n(499),o=n(7743),s=n(7858),a=n(4397),l=n(5987);const u=(0,l.L)({name:"QPopupProxy",props:{...a.u,breakpoint:{type:[String,Number],default:450}},emits:["show","hide"],setup(e,{slots:t,emit:n,attrs:l}){const{proxy:u}=(0,r.FN)(),{$q:c}=u,h=(0,i.iH)(!1),d=(0,i.iH)(null),f=(0,r.Fl)((()=>parseInt(e.breakpoint,10))),{canShow:p}=(0,a.Z)({showing:h});function m(){return c.screen.width<f.value||c.screen.height<f.value?"dialog":"menu"}const g=(0,i.iH)(m()),v=(0,r.Fl)((()=>"menu"===g.value?{maxHeight:"99vh"}:{}));function y(e){h.value=!0,n("show",e)}function b(e){h.value=!1,g.value=m(),n("hide",e)}return(0,r.YP)((()=>m()),(e=>{!0!==h.value&&(g.value=e)})),Object.assign(u,{show(e){!0===p(e)&&d.value.show(e)},hide(e){d.value.hide(e)},toggle(e){d.value.toggle(e)}}),()=>{const n={ref:d,...v.value,...l,onShow:y,onHide:b};let i;return"dialog"===g.value?i=o.Z:(i=s.Z,Object.assign(n,{target:e.target,contextMenu:e.contextMenu,noParentEvent:!0,separateClosePopup:!0})),(0,r.h)(i,n,t.default)}}})},1480:(e,t,n)=>{"use strict";n.d(t,{Z:()=>m});var r=n(9835),i=n(499),o=n(2857),s=n(8234),a=n(244),l=n(5917),u=n(9256),c=n(5987),h=n(9480),d=n(1384),f=n(2026);const p=(0,r.h)("svg",{key:"svg",class:"q-radio__bg absolute non-selectable",viewBox:"0 0 24 24","aria-hidden":"true"},[(0,r.h)("path",{d:"M12,22a10,10 0 0 1 -10,-10a10,10 0 0 1 10,-10a10,10 0 0 1 10,10a10,10 0 0 1 -10,10m0,-22a12,12 0 0 0 -12,12a12,12 0 0 0 12,12a12,12 0 0 0 12,-12a12,12 0 0 0 -12,-12"}),(0,r.h)("path",{class:"q-radio__check",d:"M12,6a6,6 0 0 0 -6,6a6,6 0 0 0 6,6a6,6 0 0 0 6,-6a6,6 0 0 0 -6,-6"})]),m=(0,c.L)({name:"QRadio",props:{...s.S,...a.LU,...u.Fz,modelValue:{required:!0},val:{required:!0},label:String,leftLabel:Boolean,checkedIcon:String,uncheckedIcon:String,color:String,keepColor:Boolean,dense:Boolean,disable:Boolean,tabindex:[String,Number]},emits:["update:modelValue"],setup(e,{slots:t,emit:n}){const{proxy:c}=(0,r.FN)(),m=(0,s.Z)(e,c.$q),g=(0,a.ZP)(e,h.Z),v=(0,i.iH)(null),{refocusTargetEl:y,refocusTarget:b}=(0,l.Z)(e,v),w=(0,r.Fl)((()=>(0,i.IU)(e.modelValue)===(0,i.IU)(e.val))),_=(0,r.Fl)((()=>"q-radio cursor-pointer no-outline row inline no-wrap items-center"+(!0===e.disable?" disabled":"")+(!0===m.value?" q-radio--dark":"")+(!0===e.dense?" q-radio--dense":"")+(!0===e.leftLabel?" reverse":""))),S=(0,r.Fl)((()=>{const t=void 0===e.color||!0!==e.keepColor&&!0!==w.value?"":` text-${e.color}`;return`q-radio__inner relative-position q-radio__inner--${!0===w.value?"truthy":"falsy"}${t}`})),k=(0,r.Fl)((()=>(!0===w.value?e.checkedIcon:e.uncheckedIcon)||null)),I=(0,r.Fl)((()=>!0===e.disable?-1:e.tabindex||0)),x=(0,r.Fl)((()=>{const t={type:"radio"};return void 0!==e.name&&Object.assign(t,{"^checked":!0===w.value?"checked":void 0,name:e.name,value:e.val}),t})),E=(0,u.eX)(x);function T(t){void 0!==t&&((0,d.NS)(t),b(t)),!0!==e.disable&&!0!==w.value&&n("update:modelValue",e.val,t)}function C(e){13!==e.keyCode&&32!==e.keyCode||(0,d.NS)(e)}function A(e){13!==e.keyCode&&32!==e.keyCode||T(e)}return Object.assign(c,{set:T}),()=>{const n=null!==k.value?[(0,r.h)("div",{key:"icon",class:"q-radio__icon-container absolute-full flex flex-center no-wrap"},[(0,r.h)(o.Z,{class:"q-radio__icon",name:k.value})])]:[p];!0!==e.disable&&E(n,"unshift"," q-radio__native q-ma-none q-pa-none");const i=[(0,r.h)("div",{class:S.value,style:g.value},n)];null!==y.value&&i.push(y.value);const s=void 0!==e.label?(0,f.vs)(t.default,[e.label]):(0,f.KR)(t.default);return void 0!==s&&i.push((0,r.h)("div",{class:"q-radio__label q-anchor--skip"},s)),(0,r.h)("div",{ref:v,class:_.value,tabindex:I.value,role:"radio","aria-label":e.label,"aria-checked":!0===w.value?"true":"false","aria-disabled":!0===e.disable?"true":void 0,onClick:T,onKeydown:C,onKeyup:A},i)}}})},9812:(e,t,n)=>{"use strict";n.d(t,{Z:()=>O});n(6727),n(702);var r=n(9835),i=n(499),o=n(2840),s=n(5987);const a=(0,s.L)({name:"QField",inheritAttrs:!1,props:o.Cl,emits:o.HJ,setup(){return(0,o.ZP)((0,o.tL)())}});var l=n(2857),u=n(1136),c=n(8234),h=n(244),d=n(1384),f=n(2026);const p={xs:8,sm:10,md:14,lg:20,xl:24},m=(0,s.L)({name:"QChip",props:{...c.S,...h.LU,dense:Boolean,icon:String,iconRight:String,iconRemove:String,iconSelected:String,label:[String,Number],color:String,textColor:String,modelValue:{type:Boolean,default:!0},selected:{type:Boolean,default:null},square:Boolean,outline:Boolean,clickable:Boolean,removable:Boolean,tabindex:[String,Number],disable:Boolean,ripple:{type:[Boolean,Object],default:!0}},emits:["update:modelValue","update:selected","remove","click"],setup(e,{slots:t,emit:n}){const{proxy:{$q:i}}=(0,r.FN)(),o=(0,c.Z)(e,i),s=(0,h.ZP)(e,p),a=(0,r.Fl)((()=>!0===e.selected||void 0!==e.icon)),m=(0,r.Fl)((()=>!0===e.selected?e.iconSelected||i.iconSet.chip.selected:e.icon)),g=(0,r.Fl)((()=>e.iconRemove||i.iconSet.chip.remove)),v=(0,r.Fl)((()=>!1===e.disable&&(!0===e.clickable||null!==e.selected))),y=(0,r.Fl)((()=>{const t=!0===e.outline&&e.color||e.textColor;return"q-chip row inline no-wrap items-center"+(!1===e.outline&&void 0!==e.color?` bg-${e.color}`:"")+(t?` text-${t} q-chip--colored`:"")+(!0===e.disable?" disabled":"")+(!0===e.dense?" q-chip--dense":"")+(!0===e.outline?" q-chip--outline":"")+(!0===e.selected?" q-chip--selected":"")+(!0===v.value?" q-chip--clickable cursor-pointer non-selectable q-hoverable":"")+(!0===e.square?" q-chip--square":"")+(!0===o.value?" q-chip--dark q-dark":"")})),b=(0,r.Fl)((()=>!0===e.disable?{tabindex:-1,"aria-disabled":"true"}:{tabindex:e.tabindex||0}));function w(e){13===e.keyCode&&_(e)}function _(t){e.disable||(n("update:selected",!e.selected),n("click",t))}function S(t){void 0!==t.keyCode&&13!==t.keyCode||((0,d.NS)(t),!1===e.disable&&(n("update:modelValue",!1),n("remove")))}function k(){const n=[];!0===v.value&&n.push((0,r.h)("div",{class:"q-focus-helper"})),!0===a.value&&n.push((0,r.h)(l.Z,{class:"q-chip__icon q-chip__icon--left",name:m.value}));const i=void 0!==e.label?[(0,r.h)("div",{class:"ellipsis"},[e.label])]:void 0;return n.push((0,r.h)("div",{class:"q-chip__content col row no-wrap items-center q-anchor--skip"},(0,f.pf)(t.default,i))),e.iconRight&&n.push((0,r.h)(l.Z,{class:"q-chip__icon q-chip__icon--right",name:e.iconRight})),!0===e.removable&&n.push((0,r.h)(l.Z,{class:"q-chip__icon q-chip__icon--remove cursor-pointer",name:g.value,...b.value,onClick:S,onKeyup:S})),n}return()=>{if(!1===e.modelValue)return;const t={class:y.value,style:s.value};return!0===v.value&&Object.assign(t,b.value,{onClick:_,onKeyup:w}),(0,f.Jl)("div",t,k(),"ripple",!1!==e.ripple&&!0!==e.disable,(()=>[[u.Z,e.ripple]]))}}});var g=n(945),v=n(1705);const y=(0,s.L)({name:"QItem",props:{...c.S,...g.$,tag:{type:String,default:"div"},active:{type:Boolean,default:null},clickable:Boolean,dense:Boolean,insetLevel:Number,tabindex:[String,Number],focused:Boolean,manualFocus:Boolean},emits:["click","keyup"],setup(e,{slots:t,emit:n}){const{proxy:{$q:o}}=(0,r.FN)(),s=(0,c.Z)(e,o),{hasRouterLink:a,hasLink:l,linkProps:u,linkClass:h,linkTag:p,navigateToRouterLink:m}=(0,g.Z)(),y=(0,i.iH)(null),b=(0,i.iH)(null),w=(0,r.Fl)((()=>!0===e.clickable||!0===l.value||"label"===e.tag)),_=(0,r.Fl)((()=>!0!==e.disable&&!0===w.value)),S=(0,r.Fl)((()=>"q-item q-item-type row no-wrap"+(!0===e.dense?" q-item--dense":"")+(!0===s.value?" q-item--dark":"")+(!0===l.value&&null===e.active?h.value:!0===e.active?(void 0!==e.activeClass?` ${e.activeClass}`:"")+" q-item--active":"")+(!0===e.disable?" disabled":"")+(!0===_.value?" q-item--clickable q-link cursor-pointer "+(!0===e.manualFocus?"q-manual-focusable":"q-focusable q-hoverable")+(!0===e.focused?" q-manual-focusable--focused":""):""))),k=(0,r.Fl)((()=>{if(void 0===e.insetLevel)return null;const t=!0===o.lang.rtl?"Right":"Left";return{["padding"+t]:16+56*e.insetLevel+"px"}}));function I(e){!0===_.value&&(null!==b.value&&(!0!==e.qKeyEvent&&document.activeElement===y.value?b.value.focus():document.activeElement===b.value&&y.value.focus()),!0===a.value&&m(e),n("click",e))}function x(e){if(!0===_.value&&!0===(0,v.So)(e,13)){(0,d.NS)(e),e.qKeyEvent=!0;const t=new MouseEvent("click",e);t.qKeyEvent=!0,y.value.dispatchEvent(t)}n("keyup",e)}function E(){const e=(0,f.Bl)(t.default,[]);return!0===_.value&&e.unshift((0,r.h)("div",{class:"q-focus-helper",tabindex:-1,ref:b})),e}return()=>{const t={ref:y,class:S.value,style:k.value,onClick:I,onKeyup:x};return!0===_.value?(t.tabindex=e.tabindex||"0",Object.assign(t,u.value)):!0===w.value&&(t["aria-disabled"]="true"),(0,r.h)(p.value,t,E())}}}),b=(0,s.L)({name:"QItemSection",props:{avatar:Boolean,thumbnail:Boolean,side:Boolean,top:Boolean,noWrap:Boolean},setup(e,{slots:t}){const n=(0,r.Fl)((()=>"q-item__section column q-item__section--"+(!0===e.avatar||!0===e.side||!0===e.thumbnail?"side":"main")+(!0===e.top?" q-item__section--top justify-start":" justify-center")+(!0===e.avatar?" q-item__section--avatar":"")+(!0===e.thumbnail?" q-item__section--thumbnail":"")+(!0===e.noWrap?" q-item__section--nowrap":"")));return()=>(0,r.h)("div",{class:n.value},(0,f.KR)(t.default))}}),w=(0,s.L)({name:"QItemLabel",props:{overline:Boolean,caption:Boolean,header:Boolean,lines:[Number,String]},setup(e,{slots:t}){const n=(0,r.Fl)((()=>parseInt(e.lines,10))),i=(0,r.Fl)((()=>"q-item__label"+(!0===e.overline?" q-item__label--overline text-overline":"")+(!0===e.caption?" q-item__label--caption text-caption":"")+(!0===e.header?" q-item__label--header":"")+(1===n.value?" ellipsis":""))),o=(0,r.Fl)((()=>void 0!==e.lines&&n.value>1?{overflow:"hidden",display:"-webkit-box","-webkit-box-orient":"vertical","-webkit-line-clamp":n.value}:null));return()=>(0,r.h)("div",{style:o.value,class:i.value},(0,f.KR)(t.default))}});var _=n(7858),S=n(7743),k=n(2043),I=n(9256),x=n(2802),E=n(6254),T=n(321);const C=e=>["add","add-unique","toggle"].includes(e),A=".*+?^${}()|[]\\",R=Object.keys(o.Cl),O=(0,s.L)({name:"QSelect",inheritAttrs:!1,props:{...k.t9,...I.Fz,...o.Cl,modelValue:{required:!0},multiple:Boolean,displayValue:[String,Number],displayValueHtml:Boolean,dropdownIcon:String,options:{type:Array,default:()=>[]},optionValue:[Function,String],optionLabel:[Function,String],optionDisable:[Function,String],hideSelected:Boolean,hideDropdownIcon:Boolean,fillInput:Boolean,maxValues:[Number,String],optionsDense:Boolean,optionsDark:{type:Boolean,default:null},optionsSelectedClass:String,optionsHtml:Boolean,optionsCover:Boolean,menuShrink:Boolean,menuAnchor:String,menuSelf:String,menuOffset:Array,popupContentClass:String,popupContentStyle:[String,Array,Object],useInput:Boolean,useChips:Boolean,newValueMode:{type:String,validator:C},mapOptions:Boolean,emitValue:Boolean,inputDebounce:{type:[Number,String],default:500},inputClass:[Array,String,Object],inputStyle:[Array,String,Object],tabindex:{type:[String,Number],default:0},autocomplete:String,transitionShow:String,transitionHide:String,transitionDuration:[String,Number],behavior:{type:String,validator:e=>["default","menu","dialog"].includes(e),default:"default"},virtualScrollItemSize:{type:[Number,String],default:void 0},onNewValue:Function,onFilter:Function},emits:[...o.HJ,"add","remove","input-value","new-value","keyup","keypress","keydown","filter-abort"],setup(e,{slots:t,emit:n}){const{proxy:s}=(0,r.FN)(),{$q:u}=s,c=(0,i.iH)(!1),h=(0,i.iH)(!1),p=(0,i.iH)(-1),g=(0,i.iH)(""),O=(0,i.iH)(!1),N=(0,i.iH)(!1);let P,D,L,F,M,q,U,B,V;const j=(0,i.iH)(null),z=(0,i.iH)(null),$=(0,i.iH)(null),H=(0,i.iH)(null),K=(0,i.iH)(null),W=(0,I.Do)(e),G=(0,x.Z)(Ge),Z=(0,r.Fl)((()=>Array.isArray(e.options)?e.options.length:0)),Y=(0,r.Fl)((()=>void 0===e.virtualScrollItemSize?!0===e.optionsDense?24:48:e.virtualScrollItemSize)),{virtualScrollSliceRange:Q,virtualScrollSliceSizeComputed:J,localResetVirtualScroll:X,padVirtualScroll:ee,onVirtualScrollEvt:te,scrollTo:ne,setVirtualScrollSize:re}=(0,k.vp)({virtualScrollLength:Z,getVirtualScrollTarget:$e,getVirtualScrollEl:ze,virtualScrollItemSizeComputed:Y}),ie=(0,o.tL)(),oe=(0,r.Fl)((()=>{const t=!0===e.mapOptions&&!0!==e.multiple,n=void 0===e.modelValue||null===e.modelValue&&!0!==t?[]:!0===e.multiple&&Array.isArray(e.modelValue)?e.modelValue:[e.modelValue];if(!0===e.mapOptions&&!0===Array.isArray(e.options)){const r=!0===e.mapOptions&&void 0!==D?D:[],i=n.map((e=>Le(e,r)));return null===e.modelValue&&!0===t?i.filter((e=>null!==e)):i}return n})),se=(0,r.Fl)((()=>{const t={};return R.forEach((n=>{const r=e[n];void 0!==r&&(t[n]=r)})),t})),ae=(0,r.Fl)((()=>null===e.optionsDark?ie.isDark.value:e.optionsDark)),le=(0,r.Fl)((()=>(0,o.yV)(oe.value))),ue=(0,r.Fl)((()=>{let t="q-field__input q-placeholder col";return!0===e.hideSelected||0===oe.value.length?[t,e.inputClass]:(t+=" q-field__input--padding",void 0===e.inputClass?t:[t,e.inputClass])})),ce=(0,r.Fl)((()=>(!0===e.virtualScrollHorizontal?"q-virtual-scroll--horizontal":"")+(e.popupContentClass?" "+e.popupContentClass:""))),he=(0,r.Fl)((()=>0===Z.value)),de=(0,r.Fl)((()=>oe.value.map((e=>Ie.value(e))).join(", "))),fe=(0,r.Fl)((()=>!0===e.optionsHtml?()=>!0:e=>void 0!==e&&null!==e&&!0===e.html)),pe=(0,r.Fl)((()=>!0===e.displayValueHtml||void 0===e.displayValue&&(!0===e.optionsHtml||oe.value.some(fe.value)))),me=(0,r.Fl)((()=>!0===ie.focused.value?e.tabindex:-1)),ge=(0,r.Fl)((()=>{const t={tabindex:e.tabindex,role:"combobox","aria-label":e.label,"aria-autocomplete":!0===e.useInput?"list":"none","aria-expanded":!0===c.value?"true":"false","aria-owns":`${ie.targetUid.value}_lb`,"aria-controls":`${ie.targetUid.value}_lb`};return p.value>=0&&(t["aria-activedescendant"]=`${ie.targetUid.value}_${p.value}`),t})),ve=(0,r.Fl)((()=>{const t={id:`${ie.targetUid.value}_lb`,role:"listbox","aria-multiselectable":!0===e.multiple?"true":"false"};return p.value>=0&&(t["aria-activedescendant"]=`${ie.targetUid.value}_${p.value}`),t})),ye=(0,r.Fl)((()=>oe.value.map(((e,t)=>({index:t,opt:e,html:fe.value(e),selected:!0,removeAtIndex:Re,toggleOption:Ne,tabindex:me.value}))))),be=(0,r.Fl)((()=>{if(0===Z.value)return[];const{from:t,to:n}=Q.value;return e.options.slice(t,n).map(((n,r)=>{const i=!0===xe.value(n),o=t+r,s={clickable:!0,active:!1,activeClass:Se.value,manualFocus:!0,focused:!1,disable:i,tabindex:-1,dense:e.optionsDense,dark:ae.value,role:"option",id:`${ie.targetUid.value}_${o}`,onClick:()=>{Ne(n)}};return!0!==i&&(!0===Me(n)&&(s.active=!0),p.value===o&&(s.focused=!0),s["aria-selected"]=!0===s.active?"true":"false",!0===u.platform.is.desktop&&(s.onMousemove=()=>{!0===c.value&&Pe(o)})),{index:o,opt:n,html:fe.value(n),label:Ie.value(n),selected:s.active,focused:s.focused,toggleOption:Ne,setOptionIndex:Pe,itemProps:s}}))})),we=(0,r.Fl)((()=>void 0!==e.dropdownIcon?e.dropdownIcon:u.iconSet.arrow.dropdown)),_e=(0,r.Fl)((()=>!1===e.optionsCover&&!0!==e.outlined&&!0!==e.standout&&!0!==e.borderless&&!0!==e.rounded)),Se=(0,r.Fl)((()=>void 0!==e.optionsSelectedClass?e.optionsSelectedClass:void 0!==e.color?`text-${e.color}`:"")),ke=(0,r.Fl)((()=>Fe(e.optionValue,"value"))),Ie=(0,r.Fl)((()=>Fe(e.optionLabel,"label"))),xe=(0,r.Fl)((()=>Fe(e.optionDisable,"disable"))),Ee=(0,r.Fl)((()=>oe.value.map((e=>ke.value(e))))),Te=(0,r.Fl)((()=>{const e={onInput:Ge,onChange:G,onKeydown:je,onKeyup:Be,onKeypress:Ve,onFocus:qe,onClick(e){!0===L&&(0,d.sT)(e)}};return e.onCompositionstart=e.onCompositionupdate=e.onCompositionend=G,e}));function Ce(t){return!0===e.emitValue?ke.value(t):t}function Ae(t){if(t>-1&&t<oe.value.length)if(!0===e.multiple){const r=e.modelValue.slice();n("remove",{index:t,value:r.splice(t,1)[0]}),n("update:modelValue",r)}else n("update:modelValue",null)}function Re(e){Ae(e),ie.focus()}function Oe(t,r){const i=Ce(t);if(!0!==e.multiple)return!0===e.fillInput&&Ye(Ie.value(t),!0,!0),void n("update:modelValue",i);if(0===oe.value.length)return n("add",{index:0,value:i}),void n("update:modelValue",!0===e.multiple?[i]:i);if(!0===r&&!0===Me(t))return;if(void 0!==e.maxValues&&e.modelValue.length>=e.maxValues)return;const o=e.modelValue.slice();n("add",{index:o.length,value:i}),o.push(i),n("update:modelValue",o)}function Ne(t,r){if(!0!==ie.editable.value||void 0===t||!0===xe.value(t))return;const i=ke.value(t);if(!0!==e.multiple)return!0!==r&&(Ye(!0===e.fillInput?Ie.value(t):"",!0,!0),ut()),null!==z.value&&z.value.focus(),void(0!==oe.value.length&&!0===(0,E.xb)(ke.value(oe.value[0]),i)||n("update:modelValue",!0===e.emitValue?i:t));if((!0!==L||!0===O.value)&&ie.focus(),qe(),0===oe.value.length){const r=!0===e.emitValue?i:t;return n("add",{index:0,value:r}),void n("update:modelValue",!0===e.multiple?[r]:r)}const o=e.modelValue.slice(),s=Ee.value.findIndex((e=>(0,E.xb)(e,i)));if(s>-1)n("remove",{index:s,value:o.splice(s,1)[0]});else{if(void 0!==e.maxValues&&o.length>=e.maxValues)return;const r=!0===e.emitValue?i:t;n("add",{index:o.length,value:r}),o.push(r)}n("update:modelValue",o)}function Pe(e){if(!0!==u.platform.is.desktop)return;const t=e>-1&&e<Z.value?e:-1;p.value!==t&&(p.value=t)}function De(t=1,n){if(!0===c.value){let r=p.value;do{r=(0,T.Uz)(r+t,-1,Z.value-1)}while(-1!==r&&r!==p.value&&!0===xe.value(e.options[r]));p.value!==r&&(Pe(r),ne(r),!0!==n&&!0===e.useInput&&!0===e.fillInput&&Ze(r>=0?Ie.value(e.options[r]):q))}}function Le(t,n){const r=e=>(0,E.xb)(ke.value(e),t);return e.options.find(r)||n.find(r)||t}function Fe(e,t){const n=void 0!==e?e:t;return"function"===typeof n?n:e=>null!==e&&"object"===typeof e&&n in e?e[n]:e}function Me(e){const t=ke.value(e);return void 0!==Ee.value.find((e=>(0,E.xb)(e,t)))}function qe(t){!0===e.useInput&&null!==z.value&&(void 0===t||z.value===t.target&&t.target.value===de.value)&&z.value.select()}function Ue(e){!0===(0,v.So)(e,27)&&!0===c.value&&((0,d.sT)(e),ut(),ct()),n("keyup",e)}function Be(t){const{value:n}=t.target;if(void 0===t.keyCode)if(t.target.value="",clearTimeout(P),ct(),"string"===typeof n&&n.length>0){const t=n.toLocaleLowerCase(),r=n=>{const r=e.options.find((e=>n.value(e).toLocaleLowerCase()===t));return void 0!==r&&(-1===oe.value.indexOf(r)?Ne(r):ut(),!0)},i=e=>{!0!==r(ke)&&!0!==r(Ie)&&!0!==e&&Qe(n,!0,(()=>i(!0)))};i()}else ie.clearValue(t);else Ue(t)}function Ve(e){n("keypress",e)}function je(t){if(n("keydown",t),!0===(0,v.Wm)(t))return;const i=g.value.length>0&&(void 0!==e.newValueMode||void 0!==e.onNewValue),o=!0!==t.shiftKey&&!0!==e.multiple&&(p.value>-1||!0===i);if(27===t.keyCode)return void(0,d.X$)(t);if(9===t.keyCode&&!1===o)return void at();if(void 0===t.target||t.target.id!==ie.targetUid.value)return;if(40===t.keyCode&&!0!==ie.innerLoading.value&&!1===c.value)return(0,d.NS)(t),void lt();if(8===t.keyCode&&!0!==e.hideSelected&&0===g.value.length)return void(!0===e.multiple&&!0===Array.isArray(e.modelValue)?Ae(e.modelValue.length-1):!0!==e.multiple&&null!==e.modelValue&&n("update:modelValue",null));35!==t.keyCode&&36!==t.keyCode||"string"===typeof g.value&&0!==g.value.length||((0,d.NS)(t),p.value=-1,De(36===t.keyCode?1:-1,e.multiple)),33!==t.keyCode&&34!==t.keyCode||void 0===J.value||((0,d.NS)(t),p.value=Math.max(-1,Math.min(Z.value,p.value+(33===t.keyCode?-1:1)*J.value.view)),De(33===t.keyCode?1:-1,e.multiple)),38!==t.keyCode&&40!==t.keyCode||((0,d.NS)(t),De(38===t.keyCode?-1:1,e.multiple));const s=Z.value;if((void 0===B||V<Date.now())&&(B=""),s>0&&!0!==e.useInput&&void 0!==t.key&&1===t.key.length&&t.altKey===t.ctrlKey&&(32!==t.keyCode||B.length>0)){!0!==c.value&&lt(t);const n=t.key.toLocaleLowerCase(),i=1===B.length&&B[0]===n;V=Date.now()+1500,!1===i&&((0,d.NS)(t),B+=n);const o=new RegExp("^"+B.split("").map((e=>A.indexOf(e)>-1?"\\"+e:e)).join(".*"),"i");let a=p.value;if(!0===i||a<0||!0!==o.test(Ie.value(e.options[a])))do{a=(0,T.Uz)(a+1,-1,s-1)}while(a!==p.value&&(!0===xe.value(e.options[a])||!0!==o.test(Ie.value(e.options[a]))));p.value!==a&&(0,r.Y3)((()=>{Pe(a),ne(a),a>=0&&!0===e.useInput&&!0===e.fillInput&&Ze(Ie.value(e.options[a]))}))}else if(13===t.keyCode||32===t.keyCode&&!0!==e.useInput&&""===B||9===t.keyCode&&!1!==o)if(9!==t.keyCode&&(0,d.NS)(t),p.value>-1&&p.value<s)Ne(e.options[p.value]);else{if(!0===i){const t=(t,n)=>{if(n){if(!0!==C(n))return}else n=e.newValueMode;if(void 0===t||null===t)return;Ye("",!0!==e.multiple,!0);const r="toggle"===n?Ne:Oe;r(t,"add-unique"===n),!0!==e.multiple&&(null!==z.value&&z.value.focus(),ut())};if(void 0!==e.onNewValue?n("new-value",g.value,t):t(g.value),!0!==e.multiple)return}!0===c.value?at():!0!==ie.innerLoading.value&&lt()}}function ze(){return!0===L?K.value:null!==$.value&&null!==$.value.__qPortalInnerRef.value?$.value.__qPortalInnerRef.value:void 0}function $e(){return ze()}function He(){return!0===e.hideSelected?[]:void 0!==t["selected-item"]?ye.value.map((e=>t["selected-item"](e))).slice():void 0!==t.selected?[].concat(t.selected()):!0===e.useChips?ye.value.map(((t,n)=>(0,r.h)(m,{key:"option-"+n,removable:!0===ie.editable.value&&!0!==xe.value(t.opt),dense:!0,textColor:e.color,tabindex:me.value,onRemove(){t.removeAtIndex(n)}},(()=>(0,r.h)("span",{class:"ellipsis",[!0===t.html?"innerHTML":"textContent"]:Ie.value(t.opt)}))))):[(0,r.h)("span",{[!0===pe.value?"innerHTML":"textContent"]:void 0!==e.displayValue?e.displayValue:de.value})]}function Ke(){if(!0===he.value)return void 0!==t["no-option"]?t["no-option"]({inputValue:g.value}):void 0;const e=void 0!==t.option?t.option:e=>(0,r.h)(y,{key:e.index,...e.itemProps},(()=>(0,r.h)(b,(()=>(0,r.h)(w,(()=>(0,r.h)("span",{[!0===e.html?"innerHTML":"textContent"]:e.label})))))));let n=ee("div",be.value.map(e));return void 0!==t["before-options"]&&(n=t["before-options"]().concat(n)),(0,f.vs)(t["after-options"],n)}function We(t,n){const i=!0===n?{...ge.value,...ie.splitAttrs.attributes.value}:void 0,o={ref:!0===n?z:void 0,key:"i_t",class:ue.value,style:e.inputStyle,value:void 0!==g.value?g.value:"",type:"search",...i,id:!0===n?ie.targetUid.value:void 0,maxlength:e.maxlength,autocomplete:e.autocomplete,"data-autofocus":!0!==t&&!0===e.autofocus||void 0,disabled:!0===e.disable,readonly:!0===e.readonly,...Te.value};return!0!==t&&!0===L&&(!0===Array.isArray(o.class)?o.class=[...o.class,"no-pointer-events"]:o.class+=" no-pointer-events"),(0,r.h)("input",o)}function Ge(t){clearTimeout(P),t&&t.target&&!0===t.target.qComposing||(Ze(t.target.value||""),F=!0,q=g.value,!0===ie.focused.value||!0===L&&!0!==O.value||ie.focus(),void 0!==e.onFilter&&(P=setTimeout((()=>{Qe(g.value)}),e.inputDebounce)))}function Ze(e){g.value!==e&&(g.value=e,n("input-value",e))}function Ye(t,n,r){F=!0!==r,!0===e.useInput&&(Ze(t),!0!==n&&!0===r||(q=t),!0!==n&&Qe(t))}function Qe(t,i,o){if(void 0===e.onFilter||!0!==i&&!0!==ie.focused.value)return;!0===ie.innerLoading.value?n("filter-abort"):(ie.innerLoading.value=!0,N.value=!0),""!==t&&!0!==e.multiple&&oe.value.length>0&&!0!==F&&t===Ie.value(oe.value[0])&&(t="");const a=setTimeout((()=>{!0===c.value&&(c.value=!1)}),10);clearTimeout(M),M=a,n("filter",t,((e,t)=>{!0!==i&&!0!==ie.focused.value||M!==a||(clearTimeout(M),"function"===typeof e&&e(),N.value=!1,(0,r.Y3)((()=>{ie.innerLoading.value=!1,!0===ie.editable.value&&(!0===i?!0===c.value&&ut():!0===c.value?ht(!0):c.value=!0),"function"===typeof t&&(0,r.Y3)((()=>{t(s)})),"function"===typeof o&&(0,r.Y3)((()=>{o(s)}))})))}),(()=>{!0===ie.focused.value&&M===a&&(clearTimeout(M),ie.innerLoading.value=!1,N.value=!1),!0===c.value&&(c.value=!1)}))}function Je(){return(0,r.h)(_.Z,{ref:$,class:ce.value,style:e.popupContentStyle,modelValue:c.value,fit:!0!==e.menuShrink,cover:!0===e.optionsCover&&!0!==he.value&&!0!==e.useInput,anchor:e.menuAnchor,self:e.menuSelf,offset:e.menuOffset,dark:ae.value,noParentEvent:!0,noRefocus:!0,noFocus:!0,square:_e.value,transitionShow:e.transitionShow,transitionHide:e.transitionHide,transitionDuration:e.transitionDuration,separateClosePopup:!0,...ve.value,onScrollPassive:te,onBeforeShow:pt,onBeforeHide:Xe,onShow:et},Ke)}function Xe(e){mt(e),at()}function et(){re()}function tt(e){(0,d.sT)(e),null!==z.value&&z.value.focus(),O.value=!0,window.scrollTo(window.pageXOffset||window.scrollX||document.body.scrollLeft||0,0)}function nt(e){(0,d.sT)(e),(0,r.Y3)((()=>{O.value=!1}))}function rt(){const n=[(0,r.h)(a,{class:`col-auto ${ie.fieldClass.value}`,...se.value,for:ie.targetUid.value,dark:ae.value,square:!0,loading:N.value,itemAligned:!1,filled:!0,stackLabel:g.value.length>0,...ie.splitAttrs.listeners.value,onFocus:tt,onBlur:nt},{...t,rawControl:()=>ie.getControl(!0),before:void 0,after:void 0})];return!0===c.value&&n.push((0,r.h)("div",{ref:K,class:ce.value+" scroll",style:e.popupContentStyle,...ve.value,onClick:d.X$,onScrollPassive:te},Ke())),(0,r.h)(S.Z,{ref:H,modelValue:h.value,position:!0===e.useInput?"top":void 0,transitionShow:U,transitionHide:e.transitionHide,transitionDuration:e.transitionDuration,onBeforeShow:pt,onBeforeHide:it,onHide:ot,onShow:st},(()=>(0,r.h)("div",{class:"q-select__dialog"+(!0===ae.value?" q-select__dialog--dark q-dark":"")+(!0===O.value?" q-select__dialog--focused":"")},n)))}function it(e){mt(e),null!==H.value&&H.value.__updateRefocusTarget(ie.rootRef.value.querySelector(".q-field__native > [tabindex]:last-child")),ie.focused.value=!1}function ot(e){ut(),!1===ie.focused.value&&n("blur",e),ct()}function st(){const e=document.activeElement;null!==e&&e.id===ie.targetUid.value||null===z.value||z.value===e||z.value.focus(),re()}function at(){!0!==h.value&&(p.value=-1,!0===c.value&&(c.value=!1),!1===ie.focused.value&&(clearTimeout(M),M=void 0,!0===ie.innerLoading.value&&(n("filter-abort"),ie.innerLoading.value=!1,N.value=!1)))}function lt(n){!0===ie.editable.value&&(!0===L?(ie.onControlFocusin(n),h.value=!0,(0,r.Y3)((()=>{ie.focus()}))):ie.focus(),void 0!==e.onFilter?Qe(g.value):!0===he.value&&void 0===t["no-option"]||(c.value=!0))}function ut(){h.value=!1,at()}function ct(){!0===e.useInput&&Ye(!0!==e.multiple&&!0===e.fillInput&&oe.value.length>0&&Ie.value(oe.value[0])||"",!0,!0)}function ht(t){let n=-1;if(!0===t){if(oe.value.length>0){const t=ke.value(oe.value[0]);n=e.options.findIndex((e=>(0,E.xb)(ke.value(e),t)))}X(n)}Pe(n)}function dt(e,t){!0===c.value&&!1===ie.innerLoading.value&&(X(-1,!0),(0,r.Y3)((()=>{!0===c.value&&!1===ie.innerLoading.value&&(e>t?X():ht(!0))})))}function ft(){!1===h.value&&null!==$.value&&$.value.updatePosition()}function pt(e){void 0!==e&&(0,d.sT)(e),n("popup-show",e),ie.hasPopupOpen=!0,ie.onControlFocusin(e)}function mt(e){void 0!==e&&(0,d.sT)(e),n("popup-hide",e),ie.hasPopupOpen=!1,ie.onControlFocusout(e)}function gt(){L=(!0===u.platform.is.mobile||"dialog"===e.behavior)&&("menu"!==e.behavior&&(!0!==e.useInput||(void 0!==t["no-option"]||void 0!==e.onFilter||!1===he.value))),U=!0===u.platform.is.ios&&!0===L&&!0===e.useInput?"fade":e.transitionShow}return(0,r.YP)(oe,(t=>{D=t,!0===e.useInput&&!0===e.fillInput&&!0!==e.multiple&&!0!==ie.innerLoading.value&&(!0!==h.value&&!0!==c.value||!0!==le.value)&&(!0!==F&&ct(),!0!==h.value&&!0!==c.value||Qe(""))}),{immediate:!0}),(0,r.YP)((()=>e.fillInput),ct),(0,r.YP)(c,ht),(0,r.YP)(Z,dt),(0,r.Xn)(gt),(0,r.ic)(ft),gt(),(0,r.Jd)((()=>{clearTimeout(P)})),Object.assign(s,{showPopup:lt,hidePopup:ut,removeAtIndex:Ae,add:Oe,toggleOption:Ne,getOptionIndex:()=>p.value,setOptionIndex:Pe,moveOptionSelection:De,filter:Qe,updateMenuPosition:ft,updateInputValue:Ye,isOptionSelected:Me,getEmittingOptionValue:Ce,isOptionDisabled:(...e)=>!0===xe.value.apply(null,e),getOptionValue:(...e)=>ke.value.apply(null,e),getOptionLabel:(...e)=>Ie.value.apply(null,e)}),Object.assign(ie,{innerValue:oe,fieldClass:(0,r.Fl)((()=>`q-select q-field--auto-height q-select--with${!0!==e.useInput?"out":""}-input q-select--with${!0!==e.useChips?"out":""}-chips q-select--`+(!0===e.multiple?"multiple":"single"))),inputRef:j,targetRef:z,hasValue:le,showPopup:lt,floatingLabel:(0,r.Fl)((()=>!0!==e.hideSelected&&!0===le.value||"number"===typeof g.value||g.value.length>0||(0,o.yV)(e.displayValue))),getControlChild:()=>{if(!1!==ie.editable.value&&(!0===h.value||!0!==he.value||void 0!==t["no-option"]))return!0===L?rt():Je();!0===ie.hasPopupOpen&&(ie.hasPopupOpen=!1)},controlEvents:{onFocusin(e){ie.onControlFocusin(e)},onFocusout(e){ie.onControlFocusout(e,(()=>{ct(),at()}))},onClick(e){if((0,d.X$)(e),!0!==L&&!0===c.value)return at(),void(null!==z.value&&z.value.focus());lt(e)}},getControl:t=>{const n=He(),i=!0===t||!0!==h.value||!0!==L;if(!0===e.useInput)n.push(We(t,i));else if(!0===ie.editable.value){const o=!0===i?ge.value:void 0;n.push((0,r.h)("input",{ref:!0===i?z:void 0,key:"d_t",class:"q-select__focus-target",id:!0===i?ie.targetUid.value:void 0,readonly:!0,"data-autofocus":!0!==t&&!0===e.autofocus||void 0,...o,onKeydown:je,onKeyup:Ue,onKeypress:Ve})),!0===i&&"string"===typeof e.autocomplete&&e.autocomplete.length>0&&n.push((0,r.h)("input",{class:"q-select__autocomplete-input",autocomplete:e.autocomplete,onKeyup:Be}))}if(void 0!==W.value&&!0!==e.disable&&Ee.value.length>0){const t=Ee.value.map((e=>(0,r.h)("option",{value:e,selected:!0})));n.push((0,r.h)("select",{class:"hidden",name:W.value,multiple:e.multiple},t))}const o=!0===e.useInput||!0!==i?void 0:ie.splitAttrs.attributes.value;return(0,r.h)("div",{class:"q-field__native row items-center",...o},n)},getInnerAppend:()=>!0!==e.loading&&!0!==N.value&&!0!==e.hideDropdownIcon?[(0,r.h)(l.Z,{class:"q-select__dropdown-icon"+(!0===c.value?" rotate-180":""),name:we.value})]:null}),(0,o.ZP)(ie)}})},3940:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var r=n(9835),i=n(244);const o={size:{type:[Number,String],default:"1em"},color:String};function s(e){return{cSize:(0,r.Fl)((()=>e.size in i.Ok?`${i.Ok[e.size]}px`:e.size)),classes:(0,r.Fl)((()=>"q-spinner"+(e.color?` text-${e.color}`:"")))}}var a=n(5987);const l=(0,a.L)({name:"QSpinner",props:{...o,thickness:{type:Number,default:5}},setup(e){const{cSize:t,classes:n}=s(e);return()=>(0,r.h)("svg",{class:n.value+" q-spinner-mat",width:t.value,height:t.value,viewBox:"25 25 50 50"},[(0,r.h)("circle",{class:"path",cx:"50",cy:"50",r:"20",fill:"none",stroke:"currentColor","stroke-width":e.thickness,"stroke-miterlimit":"10"})])}})},4106:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(9835),i=n(9683),o=n(5987),s=n(2026);const a=(0,o.L)({name:"QTabPanel",props:i.vZ,setup(e,{slots:t}){return()=>(0,r.h)("div",{class:"q-tab-panel"},(0,s.KR)(t.default))}})},9800:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var r=n(9835),i=n(8234),o=n(9683),s=n(5987),a=n(2026);const l=(0,s.L)({name:"QTabPanels",props:{...o.t6,...i.S},emits:o.K6,setup(e,{slots:t}){const n=(0,r.FN)(),s=(0,i.Z)(e,n.proxy.$q),{updatePanelsList:l,getPanelContent:u,panelDirectives:c}=(0,o.ZP)(),h=(0,r.Fl)((()=>"q-tab-panels q-panel-parent"+(!0===s.value?" q-tab-panels--dark q-dark":"")));return()=>(l(t),(0,a.Jl)("div",{class:h.value},u(),"pan",e.swipeable,(()=>c.value)))}})},9032:(e,t,n)=>{"use strict";n.d(t,{Z:()=>de});n(6727),n(702);var r=n(9835),i=n(499),o=n(2857),s=n(5987),a=n(2026);const l=(0,s.L)({name:"QTh",props:{props:Object,autoWidth:Boolean},emits:["click"],setup(e,{slots:t,emit:n}){const i=(0,r.FN)(),{proxy:{$q:s}}=i,l=e=>{n("click",e)};return()=>{if(void 0===e.props)return(0,r.h)("th",{class:!0===e.autoWidth?"q-table--col-auto-width":"",onClick:l},(0,a.KR)(t.default));let n,u;const c=i.vnode.key;if(c){if(n=e.props.colsMap[c],void 0===n)return}else n=e.props.col;if(!0===n.sortable){const e="right"===n.align?"unshift":"push";u=(0,a.Bl)(t.default,[]),u[e]((0,r.h)(o.Z,{class:n.__iconClass,name:s.iconSet.table.arrowUp}))}else u=(0,a.KR)(t.default);const h={class:n.__thClass+(!0===e.autoWidth?" q-table--col-auto-width":""),style:n.headerStyle,onClick:t=>{!0===n.sortable&&e.props.sort(n),l(t)}};return(0,r.h)("th",h,u)}}});var u=n(8234);const c={true:"inset",item:"item-inset","item-thumbnail":"item-thumbnail-inset"},h={xs:2,sm:4,md:8,lg:16,xl:24},d=(0,s.L)({name:"QSeparator",props:{...u.S,spaced:[Boolean,String],inset:[Boolean,String],vertical:Boolean,color:String,size:String},setup(e){const t=(0,r.FN)(),n=(0,u.Z)(e,t.proxy.$q),i=(0,r.Fl)((()=>!0===e.vertical?"vertical":"horizontal")),o=(0,r.Fl)((()=>` q-separator--${i.value}`)),s=(0,r.Fl)((()=>!1!==e.inset?`${o.value}-${c[e.inset]}`:"")),a=(0,r.Fl)((()=>`q-separator${o.value}${s.value}`+(void 0!==e.color?` bg-${e.color}`:"")+(!0===n.value?" q-separator--dark":""))),l=(0,r.Fl)((()=>{const t={};if(void 0!==e.size&&(t[!0===e.vertical?"width":"height"]=e.size),!1!==e.spaced){const n=!0===e.spaced?`${h.md}px`:e.spaced in h?`${h[e.spaced]}px`:e.spaced,r=!0===e.vertical?["Left","Right"]:["Top","Bottom"];t[`margin${r[0]}`]=t[`margin${r[1]}`]=n}return t}));return()=>(0,r.h)("hr",{class:a.value,style:l.value,"aria-orientation":i.value})}}),f=(0,s.L)({name:"QList",props:{...u.S,bordered:Boolean,dense:Boolean,separator:Boolean,padding:Boolean},setup(e,{slots:t}){const n=(0,r.FN)(),i=(0,u.Z)(e,n.proxy.$q),o=(0,r.Fl)((()=>"q-list"+(!0===e.bordered?" q-list--bordered":"")+(!0===e.dense?" q-list--dense":"")+(!0===e.separator?" q-list--separator":"")+(!0===i.value?" q-list--dark":"")+(!0===e.padding?" q-list--padding":"")));return()=>(0,r.h)("div",{class:o.value},(0,a.KR)(t.default))}}),p=["horizontal","vertical","cell","none"],m=(0,s.L)({name:"QMarkupTable",props:{...u.S,dense:Boolean,flat:Boolean,bordered:Boolean,square:Boolean,wrapCells:Boolean,separator:{type:String,default:"horizontal",validator:e=>p.includes(e)}},setup(e,{slots:t}){const n=(0,r.FN)(),i=(0,u.Z)(e,n.proxy.$q),o=(0,r.Fl)((()=>`q-markup-table q-table__container q-table__card q-table--${e.separator}-separator`+(!0===i.value?" q-table--dark q-table__card--dark q-dark":"")+(!0===e.dense?" q-table--dense":"")+(!0===e.flat?" q-table--flat":"")+(!0===e.bordered?" q-table--bordered":"")+(!0===e.square?" q-table--square":"")+(!1===e.wrapCells?" q-table--no-wrap":"")));return()=>(0,r.h)("div",{class:o.value},[(0,r.h)("table",{class:"q-table"},(0,a.KR)(t.default))])}});function g(e,t){return(0,r.h)("div",e,[(0,r.h)("table",{class:"q-table"},t)])}var v=n(2043),y=n(3701),b=n(1384);const w={list:f,table:m},_=["list","table","__qtable"],S=(0,s.L)({name:"QVirtualScroll",props:{...v.t9,type:{type:String,default:"list",validator:e=>_.includes(e)},items:{type:Array,default:()=>[]},itemsFn:Function,itemsSize:Number,scrollTarget:{default:void 0}},setup(e,{slots:t,attrs:n}){let o;const s=(0,i.iH)(null),l=(0,r.Fl)((()=>e.itemsSize>=0&&void 0!==e.itemsFn?parseInt(e.itemsSize,10):Array.isArray(e.items)?e.items.length:0)),{virtualScrollSliceRange:u,localResetVirtualScroll:c,padVirtualScroll:h,onVirtualScrollEvt:d}=(0,v.vp)({virtualScrollLength:l,getVirtualScrollTarget:S,getVirtualScrollEl:_}),f=(0,r.Fl)((()=>{if(0===l.value)return[];const t=(e,t)=>({index:u.value.from+t,item:e});return void 0===e.itemsFn?e.items.slice(u.value.from,u.value.to).map(t):e.itemsFn(u.value.from,u.value.to-u.value.from).map(t)})),p=(0,r.Fl)((()=>"q-virtual-scroll q-virtual-scroll"+(!0===e.virtualScrollHorizontal?"--horizontal":"--vertical")+(void 0!==e.scrollTarget?"":" scroll"))),m=(0,r.Fl)((()=>void 0!==e.scrollTarget?{}:{tabindex:0}));function _(){return s.value.$el||s.value}function S(){return o}function k(){o=(0,y.b0)(_(),e.scrollTarget),o.addEventListener("scroll",d,b.rU.passive)}function I(){void 0!==o&&(o.removeEventListener("scroll",d,b.rU.passive),o=void 0)}function x(){let n=h("list"===e.type?"div":"tbody",f.value.map(t.default));return void 0!==t.before&&(n=t.before().concat(n)),(0,a.vs)(t.after,n)}return(0,r.YP)(l,(()=>{c()})),(0,r.YP)((()=>e.scrollTarget),(()=>{I(),k()})),(0,r.wF)((()=>{c()})),(0,r.bv)((()=>{k()})),(0,r.dl)((()=>{k()})),(0,r.se)((()=>{I()})),(0,r.Jd)((()=>{I()})),()=>{if(void 0!==t.default)return"__qtable"===e.type?g({ref:s,class:"q-table__middle "+p.value},x()):(0,r.h)(w[e.type],{...n,ref:s,class:[n.class,p.value],...m.value},x);console.error("QVirtualScroll: default scoped slot is required for rendering")}}});var k=n(9812),I=n(244);const x={xs:2,sm:4,md:6,lg:10,xl:14};function E(e,t,n){return{transform:!0===t?`translateX(${!0===n.lang.rtl?"-":""}100%) scale3d(${-e},1,1)`:`scale3d(${e},1,1)`}}const T=(0,s.L)({name:"QLinearProgress",props:{...u.S,...I.LU,value:{type:Number,default:0},buffer:Number,color:String,trackColor:String,reverse:Boolean,stripe:Boolean,indeterminate:Boolean,query:Boolean,rounded:Boolean,animationSpeed:{type:[String,Number],default:2100},instantFeedback:Boolean},setup(e,{slots:t}){const{proxy:n}=(0,r.FN)(),i=(0,u.Z)(e,n.$q),o=(0,I.ZP)(e,x),s=(0,r.Fl)((()=>!0===e.indeterminate||!0===e.query)),l=(0,r.Fl)((()=>e.reverse!==e.query)),c=(0,r.Fl)((()=>({...null!==o.value?o.value:{},"--q-linear-progress-speed":`${e.animationSpeed}ms`}))),h=(0,r.Fl)((()=>"q-linear-progress"+(void 0!==e.color?` text-${e.color}`:"")+(!0===e.reverse||!0===e.query?" q-linear-progress--reverse":"")+(!0===e.rounded?" rounded-borders":""))),d=(0,r.Fl)((()=>E(void 0!==e.buffer?e.buffer:1,l.value,n.$q))),f=(0,r.Fl)((()=>`q-linear-progress__track absolute-full q-linear-progress__track--with${!0===e.instantFeedback?"out":""}-transition q-linear-progress__track--`+(!0===i.value?"dark":"light")+(void 0!==e.trackColor?` bg-${e.trackColor}`:""))),p=(0,r.Fl)((()=>E(!0===s.value?1:e.value,l.value,n.$q))),m=(0,r.Fl)((()=>`q-linear-progress__model absolute-full q-linear-progress__model--with${!0===e.instantFeedback?"out":""}-transition q-linear-progress__model--${!0===s.value?"in":""}determinate`)),g=(0,r.Fl)((()=>({width:100*e.value+"%"}))),v=(0,r.Fl)((()=>"q-linear-progress__stripe absolute-"+(!0===e.reverse?"right":"left")));return()=>{const n=[(0,r.h)("div",{class:f.value,style:d.value}),(0,r.h)("div",{class:m.value,style:p.value})];return!0===e.stripe&&!1===s.value&&n.push((0,r.h)("div",{class:v.value,style:g.value})),(0,r.h)("div",{class:h.value,style:c.value,role:"progressbar","aria-valuemin":0,"aria-valuemax":1,"aria-valuenow":!0===e.indeterminate?void 0:e.value},(0,a.vs)(t.default,n))}}});var C=n(5917),A=n(9256),R=n(9480);const O={...u.S,...I.LU,...A.Fz,modelValue:{required:!0,default:null},val:{},trueValue:{default:!0},falseValue:{default:!1},indeterminateValue:{default:null},checkedIcon:String,uncheckedIcon:String,indeterminateIcon:String,toggleOrder:{type:String,validator:e=>"tf"===e||"ft"===e},toggleIndeterminate:Boolean,label:String,leftLabel:Boolean,color:String,keepColor:Boolean,dense:Boolean,disable:Boolean,tabindex:[String,Number]},N=["update:modelValue"];function P(e,t){const{props:n,slots:o,emit:s,proxy:l}=(0,r.FN)(),{$q:c}=l,h=(0,u.Z)(n,c),d=(0,i.iH)(null),{refocusTargetEl:f,refocusTarget:p}=(0,C.Z)(n,d),m=(0,I.ZP)(n,R.Z),g=(0,r.Fl)((()=>void 0!==n.val&&Array.isArray(n.modelValue))),v=(0,r.Fl)((()=>{const e=(0,i.IU)(n.val);return!0===g.value?n.modelValue.findIndex((t=>(0,i.IU)(t)===e)):-1})),y=(0,r.Fl)((()=>!0===g.value?v.value>-1:(0,i.IU)(n.modelValue)===(0,i.IU)(n.trueValue))),w=(0,r.Fl)((()=>!0===g.value?-1===v.value:(0,i.IU)(n.modelValue)===(0,i.IU)(n.falseValue))),_=(0,r.Fl)((()=>!1===y.value&&!1===w.value)),S=(0,r.Fl)((()=>!0===n.disable?-1:n.tabindex||0)),k=(0,r.Fl)((()=>`q-${e} cursor-pointer no-outline row inline no-wrap items-center`+(!0===n.disable?" disabled":"")+(!0===h.value?` q-${e}--dark`:"")+(!0===n.dense?` q-${e}--dense`:"")+(!0===n.leftLabel?" reverse":""))),x=(0,r.Fl)((()=>{const t=!0===y.value?"truthy":!0===w.value?"falsy":"indet",r=void 0===n.color||!0!==n.keepColor&&("toggle"===e?!0!==y.value:!0===w.value)?"":` text-${n.color}`;return`q-${e}__inner relative-position non-selectable q-${e}__inner--${t}${r}`})),E=(0,r.Fl)((()=>{const e={type:"checkbox"};return void 0!==n.name&&Object.assign(e,{"^checked":!0===y.value?"checked":void 0,name:n.name,value:!0===g.value?n.val:n.trueValue}),e})),T=(0,A.eX)(E),O=(0,r.Fl)((()=>{const e={tabindex:S.value,role:"checkbox","aria-label":n.label,"aria-checked":!0===_.value?"mixed":!0===y.value?"true":"false"};return!0===n.disable&&(e["aria-disabled"]="true"),e}));function N(e){void 0!==e&&((0,b.NS)(e),p(e)),!0!==n.disable&&s("update:modelValue",P(),e)}function P(){if(!0===g.value){if(!0===y.value){const e=n.modelValue.slice();return e.splice(v.value,1),e}return n.modelValue.concat([n.val])}if(!0===y.value){if("ft"!==n.toggleOrder||!1===n.toggleIndeterminate)return n.falseValue}else{if(!0!==w.value)return"ft"!==n.toggleOrder?n.trueValue:n.falseValue;if("ft"===n.toggleOrder||!1===n.toggleIndeterminate)return n.trueValue}return n.indeterminateValue}function D(e){13!==e.keyCode&&32!==e.keyCode||(0,b.NS)(e)}function L(e){13!==e.keyCode&&32!==e.keyCode||N(e)}const F=t(y,_);return Object.assign(l,{toggle:N}),()=>{const t=F();!0!==n.disable&&T(t,"unshift",` q-${e}__native absolute q-ma-none q-pa-none`);const i=[(0,r.h)("div",{class:x.value,style:m.value},t)];null!==f.value&&i.push(f.value);const s=void 0!==n.label?(0,a.vs)(o.default,[n.label]):(0,a.KR)(o.default);return void 0!==s&&i.push((0,r.h)("div",{class:`q-${e}__label q-anchor--skip`},s)),(0,r.h)("div",{ref:d,class:k.value,...O.value,onClick:N,onKeydown:D,onKeyup:L},i)}}const D=(0,r.h)("div",{key:"svg",class:"q-checkbox__bg absolute"},[(0,r.h)("svg",{class:"q-checkbox__svg fit absolute-full",viewBox:"0 0 24 24","aria-hidden":"true"},[(0,r.h)("path",{class:"q-checkbox__truthy",fill:"none",d:"M1.73,12.91 8.1,19.28 22.79,4.59"}),(0,r.h)("path",{class:"q-checkbox__indet",d:"M4,14H20V10H4"})])]),L=(0,s.L)({name:"QCheckbox",props:O,emits:N,setup(e){function t(t,n){const i=(0,r.Fl)((()=>(!0===t.value?e.checkedIcon:!0===n.value?e.indeterminateIcon:e.uncheckedIcon)||null));return()=>null!==i.value?[(0,r.h)("div",{key:"icon",class:"q-checkbox__icon-container absolute-full flex flex-center no-wrap"},[(0,r.h)(o.Z,{class:"q-checkbox__icon",name:i.value})])]:[D]}return P("checkbox",t)}});var F=n(4455),M=n(5310),q=n(2046);let U=0;const B={fullscreen:Boolean,noRouteFullscreenExit:Boolean},V=["update:fullscreen","fullscreen"];function j(){const e=(0,r.FN)(),{props:t,emit:n,proxy:o}=e;let s,a,l;const u=(0,i.iH)(!1);function c(){!0===u.value?d():h()}function h(){!0!==u.value&&(u.value=!0,l=o.$el.parentNode,l.replaceChild(a,o.$el),document.body.appendChild(o.$el),U++,1===U&&document.body.classList.add("q-body--fullscreen-mixin"),s={handler:d},M.Z.add(s))}function d(){!0===u.value&&(void 0!==s&&(M.Z.remove(s),s=void 0),l.replaceChild(o.$el,a),u.value=!1,U=Math.max(0,U-1),0===U&&(document.body.classList.remove("q-body--fullscreen-mixin"),void 0!==o.$el.scrollIntoView&&setTimeout((()=>{o.$el.scrollIntoView()}))))}return!0===(0,q.Rb)(e)&&(0,r.YP)((()=>o.$route.fullPath),(()=>{!0!==t.noRouteFullscreenExit&&d()})),(0,r.YP)((()=>t.fullscreen),(e=>{u.value!==e&&c()})),(0,r.YP)(u,(e=>{n("update:fullscreen",e),n("fullscreen",e)})),(0,r.wF)((()=>{a=document.createElement("span")})),(0,r.bv)((()=>{!0===t.fullscreen&&h()})),(0,r.Jd)(d),Object.assign(o,{toggleFullscreen:c,setFullscreen:h,exitFullscreen:d}),{inFullscreen:u,toggleFullscreen:c}}function z(e,t){return new Date(e)-new Date(t)}var $=n(6254);const H={sortMethod:Function,binaryStateSort:Boolean,columnSortOrder:{type:String,validator:e=>"ad"===e||"da"===e,default:"ad"}};function K(e,t,n,i){const o=(0,r.Fl)((()=>{const{sortBy:e}=t.value;return e&&n.value.find((t=>t.name===e))||null})),s=(0,r.Fl)((()=>void 0!==e.sortMethod?e.sortMethod:(e,t,r)=>{const i=n.value.find((e=>e.name===t));if(void 0===i||void 0===i.field)return e;const o=!0===r?-1:1,s="function"===typeof i.field?e=>i.field(e):e=>e[i.field];return e.sort(((e,t)=>{let n=s(e),r=s(t);return null===n||void 0===n?-1*o:null===r||void 0===r?1*o:void 0!==i.sort?i.sort(n,r,e,t)*o:!0===(0,$.hj)(n)&&!0===(0,$.hj)(r)?(n-r)*o:!0===(0,$.J_)(n)&&!0===(0,$.J_)(r)?z(n,r)*o:"boolean"===typeof n&&"boolean"===typeof r?(n-r)*o:([n,r]=[n,r].map((e=>(e+"").toLocaleString().toLowerCase())),n<r?-1*o:n===r?0:o)}))}));function a(r){let o=e.columnSortOrder;if(!0===(0,$.Kn)(r))r.sortOrder&&(o=r.sortOrder),r=r.name;else{const e=n.value.find((e=>e.name===r));void 0!==e&&e.sortOrder&&(o=e.sortOrder)}let{sortBy:s,descending:a}=t.value;s!==r?(s=r,a="da"===o):!0===e.binaryStateSort?a=!a:!0===a?"ad"===o?s=null:a=!1:"ad"===o?a=!0:s=null,i({sortBy:s,descending:a,page:1})}return{columnToSort:o,computedSortMethod:s,sort:a}}const W={filter:[String,Object],filterMethod:Function};function G(e,t){const n=(0,r.Fl)((()=>void 0!==e.filterMethod?e.filterMethod:(e,t,n,r)=>{const i=t?t.toLowerCase():"";return e.filter((e=>n.some((t=>{const n=r(t,e)+"",o="undefined"===n||"null"===n?"":n.toLowerCase();return-1!==o.indexOf(i)}))))}));return(0,r.YP)((()=>e.filter),(()=>{(0,r.Y3)((()=>{t({page:1},!0)}))}),{deep:!0}),{computedFilterMethod:n}}function Z(e,t){for(const n in t)if(t[n]!==e[n])return!1;return!0}function Y(e){return e.page<1&&(e.page=1),void 0!==e.rowsPerPage&&e.rowsPerPage<1&&(e.rowsPerPage=0),e}const Q={pagination:Object,rowsPerPageOptions:{type:Array,default:()=>[5,7,10,15,20,25,50,0]},"onUpdate:pagination":[Function,Array]};function J(e,t){const{props:n,emit:o}=e,s=(0,i.iH)(Object.assign({sortBy:null,descending:!1,page:1,rowsPerPage:n.rowsPerPageOptions.length>0?n.rowsPerPageOptions[0]:5},n.pagination)),a=(0,r.Fl)((()=>{const e=void 0!==n["onUpdate:pagination"]?{...s.value,...n.pagination}:s.value;return Y(e)})),l=(0,r.Fl)((()=>void 0!==a.value.rowsNumber));function u(e){c({pagination:e,filter:n.filter})}function c(e={}){(0,r.Y3)((()=>{o("request",{pagination:e.pagination||a.value,filter:e.filter||n.filter,getCellValue:t})}))}function h(e,t){const r=Y({...a.value,...e});!0!==Z(a.value,r)?!0!==l.value?void 0!==n.pagination&&void 0!==n["onUpdate:pagination"]?o("update:pagination",r):s.value=r:u(r):!0===l.value&&!0===t&&u(r)}return{innerPagination:s,computedPagination:a,isServerSide:l,requestServerInteraction:c,setPagination:h}}function X(e,t,n,i,o,s){const{props:a,emit:l,proxy:{$q:u}}=e,c=(0,r.Fl)((()=>!0===i.value?n.value.rowsNumber||0:s.value)),h=(0,r.Fl)((()=>{const{page:e,rowsPerPage:t}=n.value;return(e-1)*t})),d=(0,r.Fl)((()=>{const{page:e,rowsPerPage:t}=n.value;return e*t})),f=(0,r.Fl)((()=>1===n.value.page)),p=(0,r.Fl)((()=>0===n.value.rowsPerPage?1:Math.max(1,Math.ceil(c.value/n.value.rowsPerPage)))),m=(0,r.Fl)((()=>0===d.value||n.value.page>=p.value)),g=(0,r.Fl)((()=>{const e=a.rowsPerPageOptions.includes(t.value.rowsPerPage)?a.rowsPerPageOptions:[t.value.rowsPerPage].concat(a.rowsPerPageOptions);return e.map((e=>({label:0===e?u.lang.table.allRows:""+e,value:e})))}));function v(){o({page:1})}function y(){const{page:e}=n.value;e>1&&o({page:e-1})}function b(){const{page:e,rowsPerPage:t}=n.value;d.value>0&&e*t<c.value&&o({page:e+1})}function w(){o({page:p.value})}return(0,r.YP)(p,((e,t)=>{if(e===t)return;const r=n.value.page;e&&!r?o({page:1}):e<r&&o({page:e})})),void 0!==a["onUpdate:pagination"]&&l("update:pagination",{...n.value}),{firstRowIndex:h,lastRowIndex:d,isFirstPage:f,isLastPage:m,pagesNumber:p,computedRowsPerPageOptions:g,computedRowsNumber:c,firstPage:v,prevPage:y,nextPage:b,lastPage:w}}const ee={selection:{type:String,default:"none",validator:e=>["single","multiple","none"].includes(e)},selected:{type:Array,default:()=>[]}},te=["update:selected","selection"];function ne(e,t,n,i){const o=(0,r.Fl)((()=>{const t={};return e.selected.map(i.value).forEach((e=>{t[e]=!0})),t})),s=(0,r.Fl)((()=>"none"!==e.selection)),a=(0,r.Fl)((()=>"single"===e.selection)),l=(0,r.Fl)((()=>"multiple"===e.selection)),u=(0,r.Fl)((()=>n.value.length>0&&n.value.every((e=>!0===o.value[i.value(e)])))),c=(0,r.Fl)((()=>!0!==u.value&&n.value.some((e=>!0===o.value[i.value(e)])))),h=(0,r.Fl)((()=>e.selected.length));function d(e){return!0===o.value[e]}function f(){t("update:selected",[])}function p(n,r,o,s){t("selection",{rows:r,added:o,keys:n,evt:s});const l=!0===a.value?!0===o?r:[]:!0===o?e.selected.concat(r):e.selected.filter((e=>!1===n.includes(i.value(e))));t("update:selected",l)}return{hasSelectionMode:s,singleSelection:a,multipleSelection:l,allRowsSelected:u,someRowsSelected:c,rowsSelectedNumber:h,isRowSelected:d,clearSelection:f,updateSelection:p}}function re(e){return Array.isArray(e)?e.slice():[]}const ie={expanded:Array},oe=["update:expanded"];function se(e,t){const n=(0,i.iH)(re(e.expanded));function o(e){return n.value.includes(e)}function s(r){void 0!==e.expanded?t("update:expanded",r):n.value=r}function a(e,t){const r=n.value.slice(),i=r.indexOf(e);!0===t?-1===i&&(r.push(e),s(r)):-1!==i&&(r.splice(i,1),s(r))}return(0,r.YP)((()=>e.expanded),(e=>{n.value=re(e)})),{isRowExpanded:o,setExpanded:s,updateExpanded:a}}const ae={visibleColumns:Array};function le(e,t,n){const i=(0,r.Fl)((()=>{if(void 0!==e.columns)return e.columns;const t=e.rows[0];return void 0!==t?Object.keys(t).map((e=>({name:e,label:e.toUpperCase(),field:e,align:(0,$.hj)(t[e])?"right":"left",sortable:!0}))):[]})),o=(0,r.Fl)((()=>{const{sortBy:n,descending:r}=t.value,o=void 0!==e.visibleColumns?i.value.filter((t=>!0===t.required||!0===e.visibleColumns.includes(t.name))):i.value;return o.map((e=>{const t=e.align||"right",i=`text-${t}`;return{...e,align:t,__iconClass:`q-table__sort-icon q-table__sort-icon--${t}`,__thClass:i+(void 0!==e.headerClasses?" "+e.headerClasses:"")+(!0===e.sortable?" sortable":"")+(e.name===n?" sorted "+(!0===r?"sort-desc":""):""),__tdStyle:void 0!==e.style?"function"!==typeof e.style?()=>e.style:e.style:()=>null,__tdClass:void 0!==e.classes?"function"!==typeof e.classes?()=>i+" "+e.classes:t=>i+" "+e.classes(t):()=>i}}))})),s=(0,r.Fl)((()=>{const e={};return o.value.forEach((t=>{e[t.name]=t})),e})),a=(0,r.Fl)((()=>void 0!==e.tableColspan?e.tableColspan:o.value.length+(!0===n.value?1:0)));return{colList:i,computedCols:o,computedColsMap:s,computedColspan:a}}var ue=n(3251);const ce="q-table__bottom row items-center",he={};v.If.forEach((e=>{he[e]={}}));const de=(0,s.L)({name:"QTable",props:{rows:{type:Array,default:()=>[]},rowKey:{type:[String,Function],default:"id"},columns:Array,loading:Boolean,iconFirstPage:String,iconPrevPage:String,iconNextPage:String,iconLastPage:String,title:String,hideHeader:Boolean,grid:Boolean,gridHeader:Boolean,dense:Boolean,flat:Boolean,bordered:Boolean,square:Boolean,separator:{type:String,default:"horizontal",validator:e=>["horizontal","vertical","cell","none"].includes(e)},wrapCells:Boolean,virtualScroll:Boolean,virtualScrollTarget:{default:void 0},...he,noDataLabel:String,noResultsLabel:String,loadingLabel:String,selectedRowsLabel:Function,rowsPerPageLabel:String,paginationLabel:Function,color:{type:String,default:"grey-8"},titleClass:[String,Array,Object],tableStyle:[String,Array,Object],tableClass:[String,Array,Object],tableHeaderStyle:[String,Array,Object],tableHeaderClass:[String,Array,Object],cardContainerClass:[String,Array,Object],cardContainerStyle:[String,Array,Object],cardStyle:[String,Array,Object],cardClass:[String,Array,Object],hideBottom:Boolean,hideSelectedBanner:Boolean,hideNoData:Boolean,hidePagination:Boolean,onRowClick:Function,onRowDblclick:Function,onRowContextmenu:Function,...u.S,...B,...ae,...W,...Q,...ie,...ee,...H},emits:["request","virtual-scroll",...V,...oe,...te],setup(e,{slots:t,emit:n}){const s=(0,r.FN)(),{proxy:{$q:a}}=s,c=(0,u.Z)(e,a),{inFullscreen:h,toggleFullscreen:f}=j(),p=(0,r.Fl)((()=>"function"===typeof e.rowKey?e.rowKey:t=>t[e.rowKey])),m=(0,i.iH)(null),y=(0,i.iH)(null),b=(0,r.Fl)((()=>!0!==e.grid&&!0===e.virtualScroll)),w=(0,r.Fl)((()=>" q-table__card"+(!0===c.value?" q-table__card--dark q-dark":"")+(!0===e.square?" q-table--square":"")+(!0===e.flat?" q-table--flat":"")+(!0===e.bordered?" q-table--bordered":""))),_=(0,r.Fl)((()=>`q-table__container q-table--${e.separator}-separator column no-wrap`+(!0===e.grid?" q-table--grid":w.value)+(!0===c.value?" q-table--dark":"")+(!0===e.dense?" q-table--dense":"")+(!1===e.wrapCells?" q-table--no-wrap":"")+(!0===h.value?" fullscreen scroll":""))),I=(0,r.Fl)((()=>_.value+(!0===e.loading?" q-table--loading":"")));(0,r.YP)((()=>e.tableStyle+e.tableClass+e.tableHeaderStyle+e.tableHeaderClass+_.value),(()=>{!0===b.value&&null!==y.value&&y.value.reset()}));const{innerPagination:x,computedPagination:E,isServerSide:C,requestServerInteraction:A,setPagination:R}=J(s,Fe),{computedFilterMethod:O}=G(e,R),{isRowExpanded:N,setExpanded:P,updateExpanded:D}=se(e,n),M=(0,r.Fl)((()=>{let t=e.rows;if(!0===C.value||0===t.length)return t;const{sortBy:n,descending:r}=E.value;return e.filter&&(t=O.value(t,e.filter,te.value,Fe)),null!==oe.value&&(t=ae.value(e.rows===t?t.slice():t,n,r)),t})),q=(0,r.Fl)((()=>M.value.length)),U=(0,r.Fl)((()=>{let t=M.value;if(!0===C.value)return t;const{rowsPerPage:n}=E.value;return 0!==n&&(0===de.value&&e.rows!==t?t.length>fe.value&&(t=t.slice(0,fe.value)):t=t.slice(de.value,fe.value)),t})),{hasSelectionMode:B,singleSelection:V,multipleSelection:z,allRowsSelected:$,someRowsSelected:H,rowsSelectedNumber:W,isRowSelected:Z,clearSelection:Y,updateSelection:Q}=ne(e,n,U,p),{colList:ee,computedCols:te,computedColsMap:re,computedColspan:ie}=le(e,E,B),{columnToSort:oe,computedSortMethod:ae,sort:he}=K(e,E,ee,R),{firstRowIndex:de,lastRowIndex:fe,isFirstPage:pe,isLastPage:me,pagesNumber:ge,computedRowsPerPageOptions:ve,computedRowsNumber:ye,firstPage:be,prevPage:we,nextPage:_e,lastPage:Se}=X(s,x,E,C,R,q),ke=(0,r.Fl)((()=>0===U.value.length)),Ie=(0,r.Fl)((()=>{const t={};return v.If.forEach((n=>{t[n]=e[n]})),void 0===t.virtualScrollItemSize&&(t.virtualScrollItemSize=!0===e.dense?28:48),t}));function xe(){!0===b.value&&y.value.reset()}function Ee(){if(!0===e.grid)return Ze();const n=!0!==e.hideHeader?Be:null;if(!0===b.value){const i=t["top-row"],o=t["bottom-row"],s={default:e=>Re(e.item,t.body,e.index)};if(void 0!==i){const e=(0,r.h)("tbody",i({cols:te.value}));s.before=null===n?()=>e:()=>[n()].concat(e)}else null!==n&&(s.before=n);return void 0!==o&&(s.after=()=>(0,r.h)("tbody",o({cols:te.value}))),(0,r.h)(S,{ref:y,class:e.tableClass,style:e.tableStyle,...Ie.value,scrollTarget:e.virtualScrollTarget,items:U.value,type:"__qtable",tableColspan:ie.value,onVirtualScroll:Ce},s)}const i=[Oe()];return null!==n&&i.unshift(n()),g({class:["q-table__middle scroll",e.tableClass],style:e.tableStyle},i)}function Te(e,t){if(null!==y.value)return void y.value.scrollTo(e,t);e=parseInt(e,10);const r=m.value.querySelector(`tbody tr:nth-of-type(${e+1})`);if(null!==r){const t=m.value.querySelector(".q-table__middle.scroll"),{offsetTop:i}=r,o=i<t.scrollTop?"decrease":"increase";t.scrollTop=i,n("virtual-scroll",{index:e,from:0,to:x.value.rowsPerPage-1,direction:o})}}function Ce(e){n("virtual-scroll",e)}function Ae(){return[(0,r.h)(T,{class:"q-table__linear-progress",color:e.color,dark:c.value,indeterminate:!0,trackColor:"transparent"})]}function Re(i,o,s){const a=p.value(i),l=Z(a);if(void 0!==o)return o(Ne({key:a,row:i,pageIndex:s,__trClass:l?"selected":""}));const u=t["body-cell"],h=te.value.map((e=>{const n=t[`body-cell-${e.name}`],o=void 0!==n?n:u;return void 0!==o?o(Pe({key:a,row:i,pageIndex:s,col:e})):(0,r.h)("td",{class:e.__tdClass(i),style:e.__tdStyle(i)},Fe(e,i))}));if(!0===B.value){const n=t["body-selection"],o=void 0!==n?n(De({key:a,row:i,pageIndex:s})):[(0,r.h)(L,{modelValue:l,color:e.color,dark:c.value,dense:e.dense,"onUpdate:modelValue":(e,t)=>{Q([a],[i],e,t)}})];h.unshift((0,r.h)("td",{class:"q-table--col-auto-width"},o))}const d={key:a,class:{selected:l}};return void 0!==e.onRowClick&&(d.class["cursor-pointer"]=!0,d.onClick=e=>{n("RowClick",e,i,s)}),void 0!==e.onRowDblclick&&(d.class["cursor-pointer"]=!0,d.onDblclick=e=>{n("RowDblclick",e,i,s)}),void 0!==e.onRowContextmenu&&(d.class["cursor-pointer"]=!0,d.onContextmenu=e=>{n("RowContextmenu",e,i,s)}),(0,r.h)("tr",d,h)}function Oe(){const e=t.body,n=t["top-row"],i=t["bottom-row"];let o=U.value.map(((t,n)=>Re(t,e,n)));return void 0!==n&&(o=n({cols:te.value}).concat(o)),void 0!==i&&(o=o.concat(i({cols:te.value}))),(0,r.h)("tbody",o)}function Ne(e){return Le(e),e.cols=e.cols.map((t=>{const n={...t};return(0,ue.g)(n,"value",(()=>Fe(t,e.row))),n})),e}function Pe(e){return Le(e),(0,ue.g)(e,"value",(()=>Fe(e.col,e.row))),e}function De(e){return Le(e),e}function Le(t){Object.assign(t,{cols:te.value,colsMap:re.value,sort:he,rowIndex:de.value+t.pageIndex,color:e.color,dark:c.value,dense:e.dense}),!0===B.value&&(0,ue.g)(t,"selected",(()=>Z(t.key)),((e,n)=>{Q([t.key],[t.row],e,n)})),(0,ue.g)(t,"expand",(()=>N(t.key)),(e=>{D(t.key,e)}))}function Fe(e,t){const n="function"===typeof e.field?e.field(t):t[e.field];return void 0!==e.format?e.format(n,t):n}const Me=(0,r.Fl)((()=>({pagination:E.value,pagesNumber:ge.value,isFirstPage:pe.value,isLastPage:me.value,firstPage:be,prevPage:we,nextPage:_e,lastPage:Se,inFullscreen:h.value,toggleFullscreen:f})));function qe(){const n=t.top,i=t["top-left"],o=t["top-right"],s=t["top-selection"],a=!0===B.value&&void 0!==s&&W.value>0,l="q-table__top relative-position row items-center";if(void 0!==n)return(0,r.h)("div",{class:l},[n(Me.value)]);let u;return!0===a?u=s(Me.value).slice():(u=[],void 0!==i?u.push((0,r.h)("div",{class:"q-table-control"},[i(Me.value)])):e.title&&u.push((0,r.h)("div",{class:"q-table__control"},[(0,r.h)("div",{class:["q-table__title",e.titleClass]},e.title)]))),void 0!==o&&(u.push((0,r.h)("div",{class:"q-table__separator col"})),u.push((0,r.h)("div",{class:"q-table__control"},[o(Me.value)]))),0!==u.length?(0,r.h)("div",{class:l},u):void 0}const Ue=(0,r.Fl)((()=>!0===H.value?null:$.value));function Be(){const n=Ve();return!0===e.loading&&void 0===t.loading&&n.push((0,r.h)("tr",{class:"q-table__progress"},[(0,r.h)("th",{class:"relative-position",colspan:ie.value},Ae())])),(0,r.h)("thead",n)}function Ve(){const n=t.header,i=t["header-cell"];if(void 0!==n)return n(je({header:!0})).slice();const o=te.value.map((e=>{const n=t[`header-cell-${e.name}`],o=void 0!==n?n:i,s=je({col:e});return void 0!==o?o(s):(0,r.h)(l,{key:e.name,props:s},(()=>e.label))}));if(!0===V.value&&!0!==e.grid)o.unshift((0,r.h)("th",{class:"q-table--col-auto-width"}," "));else if(!0===z.value){const n=t["header-selection"],i=void 0!==n?n(je({})):[(0,r.h)(L,{color:e.color,modelValue:Ue.value,dark:c.value,dense:e.dense,"onUpdate:modelValue":ze})];o.unshift((0,r.h)("th",{class:"q-table--col-auto-width"},i))}return[(0,r.h)("tr",{class:e.tableHeaderClass,style:e.tableHeaderStyle},o)]}function je(t){return Object.assign(t,{cols:te.value,sort:he,colsMap:re.value,color:e.color,dark:c.value,dense:e.dense}),!0===z.value&&(0,ue.g)(t,"selected",(()=>Ue.value),ze),t}function ze(e){!0===H.value&&(e=!1),Q(U.value.map(p.value),U.value,e)}const $e=(0,r.Fl)((()=>{const t=[e.iconFirstPage||a.iconSet.table.firstPage,e.iconPrevPage||a.iconSet.table.prevPage,e.iconNextPage||a.iconSet.table.nextPage,e.iconLastPage||a.iconSet.table.lastPage];return!0===a.lang.rtl?t.reverse():t}));function He(){if(!0===e.hideBottom)return;if(!0===ke.value){if(!0===e.hideNoData)return;const n=!0===e.loading?e.loadingLabel||a.lang.table.loading:e.filter?e.noResultsLabel||a.lang.table.noResults:e.noDataLabel||a.lang.table.noData,i=t["no-data"],s=void 0!==i?[i({message:n,icon:a.iconSet.table.warning,filter:e.filter})]:[(0,r.h)(o.Z,{class:"q-table__bottom-nodata-icon",name:a.iconSet.table.warning}),n];return(0,r.h)("div",{class:ce+" q-table__bottom--nodata"},s)}const n=t.bottom;if(void 0!==n)return(0,r.h)("div",{class:ce},[n(Me.value)]);const i=!0!==e.hideSelectedBanner&&!0===B.value&&W.value>0?[(0,r.h)("div",{class:"q-table__control"},[(0,r.h)("div",[(e.selectedRowsLabel||a.lang.table.selectedRecords)(W.value)])])]:[];return!0!==e.hidePagination?(0,r.h)("div",{class:ce+" justify-end"},We(i)):i.length>0?(0,r.h)("div",{class:ce},i):void 0}function Ke(e){R({page:1,rowsPerPage:e.value})}function We(n){let i;const{rowsPerPage:o}=E.value,s=e.paginationLabel||a.lang.table.pagination,l=t.pagination,u=e.rowsPerPageOptions.length>1;if(n.push((0,r.h)("div",{class:"q-table__separator col"})),!0===u&&n.push((0,r.h)("div",{class:"q-table__control"},[(0,r.h)("span",{class:"q-table__bottom-item"},[e.rowsPerPageLabel||a.lang.table.recordsPerPage]),(0,r.h)(k.Z,{class:"q-table__select inline q-table__bottom-item",color:e.color,modelValue:o,options:ve.value,displayValue:0===o?a.lang.table.allRows:o,dark:c.value,borderless:!0,dense:!0,optionsDense:!0,optionsCover:!0,"onUpdate:modelValue":Ke})])),void 0!==l)i=l(Me.value);else if(i=[(0,r.h)("span",0!==o?{class:"q-table__bottom-item"}:{},[o?s(de.value+1,Math.min(fe.value,ye.value),ye.value):s(1,q.value,ye.value)])],0!==o&&ge.value>1){const t={color:e.color,round:!0,dense:!0,flat:!0};!0===e.dense&&(t.size="sm"),ge.value>2&&i.push((0,r.h)(F.Z,{key:"pgFirst",...t,icon:$e.value[0],disable:pe.value,onClick:be})),i.push((0,r.h)(F.Z,{key:"pgPrev",...t,icon:$e.value[1],disable:pe.value,onClick:we}),(0,r.h)(F.Z,{key:"pgNext",...t,icon:$e.value[2],disable:me.value,onClick:_e})),ge.value>2&&i.push((0,r.h)(F.Z,{key:"pgLast",...t,icon:$e.value[3],disable:me.value,onClick:Se}))}return n.push((0,r.h)("div",{class:"q-table__control"},i)),n}function Ge(){const n=!0===e.gridHeader?[(0,r.h)("table",{class:"q-table"},[Be(r.h)])]:!0===e.loading&&void 0===t.loading?Ae(r.h):void 0;return(0,r.h)("div",{class:"q-table__middle"},n)}function Ze(){const i=void 0!==t.item?t.item:i=>{const o=i.cols.map((e=>(0,r.h)("div",{class:"q-table__grid-item-row"},[(0,r.h)("div",{class:"q-table__grid-item-title"},[e.label]),(0,r.h)("div",{class:"q-table__grid-item-value"},[e.value])])));if(!0===B.value){const n=t["body-selection"],s=void 0!==n?n(i):[(0,r.h)(L,{modelValue:i.selected,color:e.color,dark:c.value,dense:e.dense,"onUpdate:modelValue":(e,t)=>{Q([i.key],[i.row],e,t)}})];o.unshift((0,r.h)("div",{class:"q-table__grid-item-row"},s),(0,r.h)(d,{dark:c.value}))}const s={class:["q-table__grid-item-card"+w.value,e.cardClass],style:e.cardStyle};return void 0===e.onRowClick&&void 0===e.onRowDblclick||(s.class[0]+=" cursor-pointer",void 0!==e.onRowClick&&(s.onClick=e=>{n("RowClick",e,i.row,i.pageIndex)}),void 0!==e.onRowDblclick&&(s.onDblclick=e=>{n("RowDblclick",e,i.row,i.pageIndex)})),(0,r.h)("div",{class:"q-table__grid-item col-xs-12 col-sm-6 col-md-4 col-lg-3"+(!0===i.selected?" q-table__grid-item--selected":"")},[(0,r.h)("div",s,o)])};return(0,r.h)("div",{class:["q-table__grid-content row",e.cardContainerClass],style:e.cardContainerStyle},U.value.map(((e,t)=>i(Ne({key:p.value(e),row:e,pageIndex:t})))))}return Object.assign(s.proxy,{requestServerInteraction:A,setPagination:R,firstPage:be,prevPage:we,nextPage:_e,lastPage:Se,isRowSelected:Z,clearSelection:Y,isRowExpanded:N,setExpanded:P,sort:he,resetVirtualScroll:xe,scrollTo:Te,getCellValue:Fe}),(0,ue.K)(s.proxy,{filteredSortedRows:()=>M.value,computedRows:()=>U.value,computedRowsNumber:()=>ye.value}),()=>{const n=[qe()],i={ref:m,class:I.value};return!0===e.grid?n.push(Ge()):Object.assign(i,{class:[i.class,e.cardClass],style:e.cardStyle}),n.push(Ee(),He()),!0===e.loading&&void 0!==t.loading&&n.push(t.loading()),(0,r.h)("div",i,n)}}})},900:(e,t,n)=>{"use strict";n.d(t,{Z:()=>g});var r=n(9835),i=n(499),o=n(2857),s=n(1136),a=n(2026),l=n(1705),u=n(5439),c=n(1384);let h=0;const d=["click","keydown"],f={icon:String,label:[Number,String],alert:[Boolean,String],alertIcon:String,name:{type:[Number,String],default:()=>"t_"+h++},noCaps:Boolean,tabindex:[String,Number],disable:Boolean,contentClass:String,ripple:{type:[Boolean,Object],default:!0}};function p(e,t,n,h){const d=(0,r.f3)(u.Nd,(()=>{console.error("QTab/QRouteTab component needs to be child of QTabs")})),{proxy:f}=(0,r.FN)(),p=(0,i.iH)(null),m=(0,i.iH)(null),g=(0,i.iH)(null),v=(0,r.Fl)((()=>!0!==e.disable&&!1!==e.ripple&&Object.assign({keyCodes:[13,32],early:!0},!0===e.ripple?{}:e.ripple))),y=(0,r.Fl)((()=>d.currentModel.value===e.name)),b=(0,r.Fl)((()=>"q-tab relative-position self-stretch flex flex-center text-center"+(!0===y.value?" q-tab--active"+(d.tabProps.value.activeClass?" "+d.tabProps.value.activeClass:"")+(d.tabProps.value.activeColor?` text-${d.tabProps.value.activeColor}`:"")+(d.tabProps.value.activeBgColor?` bg-${d.tabProps.value.activeBgColor}`:""):" q-tab--inactive")+(e.icon&&e.label&&!1===d.tabProps.value.inlineLabel?" q-tab--full":"")+(!0===e.noCaps||!0===d.tabProps.value.noCaps?" q-tab--no-caps":"")+(!0===e.disable?" disabled":" q-focusable q-hoverable cursor-pointer")+(void 0!==h&&""!==h.linkClass.value?` ${h.linkClass.value}`:""))),w=(0,r.Fl)((()=>"q-tab__content self-stretch flex-center relative-position q-anchor--skip non-selectable "+(!0===d.tabProps.value.inlineLabel?"row no-wrap q-tab__content--inline":"column")+(void 0!==e.contentClass?` ${e.contentClass}`:""))),_=(0,r.Fl)((()=>!0===e.disable||!0===d.hasFocus.value?-1:e.tabindex||0));function S(t,r){if(!0!==r&&null!==p.value&&p.value.focus(),!0!==e.disable){let r;if(void 0!==h){if(!0!==h.hasRouterLink.value)return void n("click",t);r=()=>{t.__qNavigate=!0,d.avoidRouteWatcher=!0;const n=h.navigateToRouterLink(t);!1===n?d.avoidRouteWatcher=!1:n.then((t=>{d.avoidRouteWatcher=!1,void 0===t&&d.updateModel({name:e.name,fromRoute:!0})}))}}else r=()=>{d.updateModel({name:e.name,fromRoute:!1})};n("click",t,r),!0!==t.defaultPrevented&&r()}}function k(e){(0,l.So)(e,[13,32])?S(e,!0):!0!==(0,l.Wm)(e)&&e.keyCode>=35&&e.keyCode<=40&&!0!==e.altKey&&!0!==e.metaKey&&!0===d.onKbdNavigate(e.keyCode,f.$el)&&(0,c.NS)(e),n("keydown",e)}function I(){const n=d.tabProps.value.narrowIndicator,i=[],s=(0,r.h)("div",{ref:g,class:["q-tab__indicator",d.tabProps.value.indicatorClass]});void 0!==e.icon&&i.push((0,r.h)(o.Z,{class:"q-tab__icon",name:e.icon})),void 0!==e.label&&i.push((0,r.h)("div",{class:"q-tab__label"},e.label)),!1!==e.alert&&i.push(void 0!==e.alertIcon?(0,r.h)(o.Z,{class:"q-tab__alert-icon",color:!0!==e.alert?e.alert:void 0,name:e.alertIcon}):(0,r.h)("div",{class:"q-tab__alert"+(!0!==e.alert?` text-${e.alert}`:"")})),!0===n&&i.push(s);const l=[(0,r.h)("div",{class:"q-focus-helper",tabindex:-1,ref:p}),(0,r.h)("div",{class:w.value},(0,a.vs)(t.default,i))];return!1===n&&l.push(s),l}const x={name:(0,r.Fl)((()=>e.name)),rootRef:m,tabIndicatorRef:g,routerProps:h};function E(t,n){const i={ref:m,class:b.value,tabindex:_.value,role:"tab","aria-selected":!0===y.value?"true":"false","aria-disabled":!0===e.disable?"true":void 0,onClick:S,onKeydown:k,...n};return(0,r.wy)((0,r.h)(t,i,I()),[[s.Z,v.value]])}return(0,r.Jd)((()=>{d.unregisterTab(x),d.recalculateScroll()})),(0,r.bv)((()=>{d.registerTab(x),d.recalculateScroll()})),{renderTab:E,$tabs:d}}var m=n(5987);const g=(0,m.L)({name:"QTab",props:f,emits:d,setup(e,{slots:t,emit:n}){const{renderTab:r}=p(e,t,n);return()=>r("div")}})},3555:(e,t,n)=>{"use strict";n.d(t,{Z:()=>_});n(6727),n(702);var r=n(9835),i=n(499),o=n(2857),s=n(7506);function a(){const e=(0,i.iH)(!s.uX.value);return!1===e.value&&(0,r.bv)((()=>{e.value=!0})),e}var l=n(5987),u=n(1384);const c="undefined"!==typeof ResizeObserver,h=!0===c?{}:{style:"display:block;position:absolute;top:0;left:0;right:0;bottom:0;height:100%;width:100%;overflow:hidden;pointer-events:none;z-index:-1;",url:"about:blank"},d=(0,l.L)({name:"QResizeObserver",props:{debounce:{type:[String,Number],default:100}},emits:["resize"],setup(e,{emit:t}){let n,i=null,o={width:-1,height:-1};function s(t){!0===t||0===e.debounce||"0"===e.debounce?l():null===i&&(i=setTimeout(l,e.debounce))}function l(){if(clearTimeout(i),i=null,n){const{offsetWidth:e,offsetHeight:r}=n;e===o.width&&r===o.height||(o={width:e,height:r},t("resize",o))}}const d=(0,r.FN)();if(Object.assign(d.proxy,{trigger:s}),!0===c){let f;return(0,r.bv)((()=>{(0,r.Y3)((()=>{n=d.proxy.$el.parentNode,n&&(f=new ResizeObserver(s),f.observe(n),l())}))})),(0,r.Jd)((()=>{clearTimeout(i),void 0!==f&&(void 0!==f.disconnect?f.disconnect():n&&f.unobserve(n))})),u.ZT}{const p=a();let m;function g(){clearTimeout(i),void 0!==m&&(void 0!==m.removeEventListener&&m.removeEventListener("resize",s,u.rU.passive),m=void 0)}function v(){g(),n&&n.contentDocument&&(m=n.contentDocument.defaultView,m.addEventListener("resize",s,u.rU.passive),l())}return(0,r.bv)((()=>{(0,r.Y3)((()=>{n=d.proxy.$el,n&&v()}))})),(0,r.Jd)(g),()=>{if(!0===p.value)return(0,r.h)("object",{style:h.style,tabindex:-1,type:"text/html",data:h.url,"aria-hidden":"true",onLoad:v})}}}});var f=n(6916),p=n(2695),m=n(2026),g=n(5439),v=n(8383);function y(e,t,n){const r=!0===n?["left","right"]:["top","bottom"];return`absolute-${!0===t?r[0]:r[1]}${e?` text-${e}`:""}`}const b=["left","center","right","justify"],w=()=>{},_=(0,l.L)({name:"QTabs",props:{modelValue:[Number,String],align:{type:String,default:"center",validator:e=>b.includes(e)},breakpoint:{type:[String,Number],default:600},vertical:Boolean,shrink:Boolean,stretch:Boolean,activeClass:String,activeColor:String,activeBgColor:String,indicatorColor:String,leftIcon:String,rightIcon:String,outsideArrows:Boolean,mobileArrows:Boolean,switchIndicator:Boolean,narrowIndicator:Boolean,inlineLabel:Boolean,noCaps:Boolean,dense:Boolean,contentClass:String,"onUpdate:modelValue":[Function,Array]},setup(e,{slots:t,emit:n}){const s=(0,r.FN)(),{proxy:{$q:a}}=s,{registerTick:l}=(0,f.Z)(),{registerTimeout:c,removeTimeout:h}=(0,p.Z)(),{registerTimeout:b}=(0,p.Z)(),_=(0,i.iH)(null),S=(0,i.iH)(null),k=(0,i.iH)(e.modelValue),I=(0,i.iH)(!1),x=(0,i.iH)(!0),E=(0,i.iH)(!1),T=(0,i.iH)(!1),C=(0,r.Fl)((()=>!0===a.platform.is.desktop||!0===e.mobileArrows)),A=[],R=(0,i.iH)(!1);let O,N,P,D=!1,L=!0===C.value?G:u.ZT;const F=(0,r.Fl)((()=>({activeClass:e.activeClass,activeColor:e.activeColor,activeBgColor:e.activeBgColor,indicatorClass:y(e.indicatorColor,e.switchIndicator,e.vertical),narrowIndicator:e.narrowIndicator,inlineLabel:e.inlineLabel,noCaps:e.noCaps}))),M=(0,r.Fl)((()=>{const t=!0===I.value?"left":!0===T.value?"justify":e.align;return`q-tabs__content--align-${t}`})),q=(0,r.Fl)((()=>`q-tabs row no-wrap items-center q-tabs--${!0===I.value?"":"not-"}scrollable q-tabs--`+(!0===e.vertical?"vertical":"horizontal")+" q-tabs__arrows--"+(!0===C.value&&!0===e.outsideArrows?"outside":"inside")+(!0===e.dense?" q-tabs--dense":"")+(!0===e.shrink?" col-shrink":"")+(!0===e.stretch?" self-stretch":""))),U=(0,r.Fl)((()=>"q-tabs__content row no-wrap items-center self-stretch hide-scrollbar relative-position "+M.value+(void 0!==e.contentClass?` ${e.contentClass}`:"")+(!0===a.platform.is.mobile?" scroll":""))),B=(0,r.Fl)((()=>!0===e.vertical?{container:"height",content:"offsetHeight",scroll:"scrollHeight"}:{container:"width",content:"offsetWidth",scroll:"scrollWidth"})),V=(0,r.Fl)((()=>!0!==e.vertical&&!0===a.lang.rtl)),j=(0,r.Fl)((()=>!1===v.e&&!0===V.value));function z({name:t,setCurrent:r,skipEmit:i,fromRoute:o}){k.value!==t&&(!0!==i&&n("update:modelValue",t),!0!==r&&void 0!==e["onUpdate:modelValue"]||(K(k.value,t),k.value=t)),void 0!==o&&(D=o)}function $(){l((()=>{!0!==s.isDeactivated&&!0!==s.isUnmounted&&H({width:_.value.offsetWidth,height:_.value.offsetHeight})}))}function H(t){if(void 0===B.value||null===S.value)return;const n=t[B.value.container],i=Math.min(S.value[B.value.scroll],Array.prototype.reduce.call(S.value.children,((e,t)=>e+(t[B.value.content]||0)),0)),o=n>0&&i>n;I.value!==o&&(I.value=o),!0===o&&(0,r.Y3)(L);const s=n<parseInt(e.breakpoint,10);T.value!==s&&(T.value=s)}function K(t,n){const i=void 0!==t&&null!==t&&""!==t?A.find((e=>e.name.value===t)):null,o=void 0!==n&&null!==n&&""!==n?A.find((e=>e.name.value===n)):null;if(i&&o){const t=i.tabIndicatorRef.value,n=o.tabIndicatorRef.value;clearTimeout(O),t.style.transition="none",t.style.transform="none",n.style.transition="none",n.style.transform="none";const s=t.getBoundingClientRect(),a=n.getBoundingClientRect();n.style.transform=!0===e.vertical?`translate3d(0,${s.top-a.top}px,0) scale3d(1,${a.height?s.height/a.height:1},1)`:`translate3d(${s.left-a.left}px,0,0) scale3d(${a.width?s.width/a.width:1},1,1)`,(0,r.Y3)((()=>{O=setTimeout((()=>{n.style.transition="transform .25s cubic-bezier(.4, 0, .2, 1)",n.style.transform="none"}),70)}))}o&&!0===I.value&&W(o.rootRef.value)}function W(t){const{left:n,width:r,top:i,height:o}=S.value.getBoundingClientRect(),s=t.getBoundingClientRect();let a=!0===e.vertical?s.top-i:s.left-n;if(a<0)return S.value[!0===e.vertical?"scrollTop":"scrollLeft"]+=Math.floor(a),void L();a+=!0===e.vertical?s.height-o:s.width-r,a>0&&(S.value[!0===e.vertical?"scrollTop":"scrollLeft"]+=Math.ceil(a),L())}function G(){const t=S.value;if(null!==t){const n=t.getBoundingClientRect(),r=!0===e.vertical?t.scrollTop:Math.abs(t.scrollLeft);!0===V.value?(x.value=Math.ceil(r+n.width)<t.scrollWidth-1,E.value=r>0):(x.value=r>0,E.value=!0===e.vertical?Math.ceil(r+n.height)<t.scrollHeight:Math.ceil(r+n.width)<t.scrollWidth)}}function Z(e){J(),te(e),N=setInterval((()=>{!0===te(e)&&J()}),5)}function Y(){Z(!0===j.value?Number.MAX_SAFE_INTEGER:0)}function Q(){Z(!0===j.value?0:Number.MAX_SAFE_INTEGER)}function J(){clearInterval(N)}function X(t,n){const r=Array.prototype.filter.call(S.value.children,(e=>e===n||e.matches&&!0===e.matches(".q-tab.q-focusable"))),i=r.length;if(0===i)return;if(36===t)return W(r[0]),!0;if(35===t)return W(r[i-1]),!0;const o=t===(!0===e.vertical?38:37),s=t===(!0===e.vertical?40:39),a=!0===o?-1:!0===s?1:void 0;if(void 0!==a){const e=!0===V.value?-1:1,t=r.indexOf(n)+a*e;return t>=0&&t<i&&(W(r[t]),r[t].focus({preventScroll:!0})),!0}}(0,r.YP)(V,L),(0,r.YP)((()=>e.modelValue),(e=>{z({name:e,setCurrent:!0,skipEmit:!0})})),(0,r.YP)((()=>e.outsideArrows),(()=>{(0,r.Y3)($())})),(0,r.YP)(C,(e=>{L=!0===e?G:u.ZT,(0,r.Y3)($())}));const ee=(0,r.Fl)((()=>!0===j.value?{get:e=>Math.abs(e.scrollLeft),set:(e,t)=>{e.scrollLeft=-t}}:!0===e.vertical?{get:e=>e.scrollTop,set:(e,t)=>{e.scrollTop=t}}:{get:e=>e.scrollLeft,set:(e,t)=>{e.scrollLeft=t}}));function te(e){const t=S.value,{get:n,set:r}=ee.value;let i=!1,o=n(t);const s=e<o?-1:1;return o+=5*s,o<0?(i=!0,o=0):(-1===s&&o<=e||1===s&&o>=e)&&(i=!0,o=e),r(t,o),L(),i}function ne(){return A.filter((e=>void 0!==e.routerProps&&!0===e.routerProps.hasRouterLink.value))}function re(){let e=null,t=D;const n={matchedLen:0,hrefLen:0,exact:!1,found:!1},{hash:r}=s.proxy.$route,i=k.value;let o=!0===t?w:e=>{i===e.name.value&&(t=!0,o=w)};const a=ne();for(const s of a){const t=!0===s.routerProps.exact.value;if(!0!==s.routerProps[!0===t?"linkIsExactActive":"linkIsActive"].value||!0===n.exact&&!0!==t){o(s);continue}const i=s.routerProps.linkRoute.value,a=i.hash;if(!0===t){if(r===a){e=s.name.value;break}if(""!==r&&""!==a){o(s);continue}}const l=i.matched.length,u=i.href.length-a.length;(l===n.matchedLen?u>n.hrefLen:l>n.matchedLen)?(e=s.name.value,Object.assign(n,{matchedLen:l,hrefLen:u,exact:t})):o(s)}!0!==t&&null===e||z({name:e,setCurrent:!0,fromRoute:!0})}function ie(e){if(h(),!0!==R.value&&null!==_.value&&e.target&&"function"===typeof e.target.closest){const t=e.target.closest(".q-tab");t&&!0===_.value.contains(t)&&(R.value=!0)}}function oe(){c((()=>{R.value=!1}),30)}function se(){!0!==ue.avoidRouteWatcher&&b(re)}function ae(e){A.push(e);const t=ne();t.length>0&&(void 0===P&&(P=(0,r.YP)((()=>s.proxy.$route),se)),se())}function le(e){if(A.splice(A.indexOf(e),1),void 0!==P){const e=ne();0===e.length&&(P(),P=void 0),se()}}const ue={currentModel:k,tabProps:F,hasFocus:R,registerTab:ae,unregisterTab:le,verifyRouteModel:se,updateModel:z,recalculateScroll:$,onKbdNavigate:X,avoidRouteWatcher:!1};(0,r.JJ)(g.Nd,ue),(0,r.Jd)((()=>{clearTimeout(O),void 0!==P&&P()}));let ce=!1;return(0,r.se)((()=>{ce=!0})),(0,r.dl)((()=>{!0===ce&&$()})),()=>{const n=[(0,r.h)(d,{onResize:H}),(0,r.h)("div",{ref:S,class:U.value,onScroll:L},(0,m.KR)(t.default))];return!0===C.value&&n.push((0,r.h)(o.Z,{class:"q-tabs__arrow q-tabs__arrow--left absolute q-tab__icon"+(!0===x.value?"":" q-tabs__arrow--faded"),name:e.leftIcon||a.iconSet.tabs[!0===e.vertical?"up":"left"],onMousedown:Y,onTouchstartPassive:Y,onMouseup:J,onMouseleave:J,onTouchend:J}),(0,r.h)(o.Z,{class:"q-tabs__arrow q-tabs__arrow--right absolute q-tab__icon"+(!0===E.value?"":" q-tabs__arrow--faded"),name:e.rightIcon||a.iconSet.tabs[!0===e.vertical?"down":"right"],onMousedown:Q,onTouchstartPassive:Q,onMouseup:J,onMouseleave:J,onTouchend:J})),(0,r.h)("div",{ref:_,class:q.value,role:"tablist",onFocusin:ie,onFocusout:oe},n)}}})},2043:(e,t,n)=>{"use strict";n.d(t,{If:()=>v,t9:()=>y,vp:()=>b});n(8964);var r=n(9835),i=n(499),o=n(899),s=n(1384),a=n(8383);const l=1e3,u=["start","center","end","start-force","center-force","end-force"],c=Array.prototype.filter,h=void 0===window.getComputedStyle(document.body).overflowAnchor?s.ZT:function(e,t){null!==e&&(cancelAnimationFrame(e._qOverflowAnimationFrame),e._qOverflowAnimationFrame=requestAnimationFrame((()=>{if(null===e)return;const n=e.children||[];c.call(n,(e=>e.dataset&&void 0!==e.dataset.qVsAnchor)).forEach((e=>{delete e.dataset.qVsAnchor}));const r=n[t];r&&r.dataset&&(r.dataset.qVsAnchor="")})))};function d(e,t){return e+t}function f(e,t,n,r,i,o,s,l){const u=e===window?document.scrollingElement||document.documentElement:e,c=!0===i?"offsetWidth":"offsetHeight",h={scrollStart:0,scrollViewSize:-s-l,scrollMaxSize:0,offsetStart:-s,offsetEnd:-l};if(!0===i?(e===window?(h.scrollStart=window.pageXOffset||window.scrollX||document.body.scrollLeft||0,h.scrollViewSize+=document.documentElement.clientWidth):(h.scrollStart=u.scrollLeft,h.scrollViewSize+=u.clientWidth),h.scrollMaxSize=u.scrollWidth,!0===o&&(h.scrollStart=(!0===a.e?h.scrollMaxSize-h.scrollViewSize:0)-h.scrollStart)):(e===window?(h.scrollStart=window.pageYOffset||window.scrollY||document.body.scrollTop||0,h.scrollViewSize+=document.documentElement.clientHeight):(h.scrollStart=u.scrollTop,h.scrollViewSize+=u.clientHeight),h.scrollMaxSize=u.scrollHeight),null!==n)for(let a=n.previousElementSibling;null!==a;a=a.previousElementSibling)!1===a.classList.contains("q-virtual-scroll--skip")&&(h.offsetStart+=a[c]);if(null!==r)for(let a=r.nextElementSibling;null!==a;a=a.nextElementSibling)!1===a.classList.contains("q-virtual-scroll--skip")&&(h.offsetEnd+=a[c]);if(t!==e){const n=u.getBoundingClientRect(),r=t.getBoundingClientRect();!0===i?(h.offsetStart+=r.left-n.left,h.offsetEnd-=r.width):(h.offsetStart+=r.top-n.top,h.offsetEnd-=r.height),e!==window&&(h.offsetStart+=h.scrollStart),h.offsetEnd+=h.scrollMaxSize-h.offsetStart}return h}function p(e,t,n,r){"end"===t&&(t=(e===window?document.body:e)[!0===n?"scrollWidth":"scrollHeight"]),e===window?!0===n?(!0===r&&(t=(!0===a.e?document.body.scrollWidth-document.documentElement.clientWidth:0)-t),window.scrollTo(t,window.pageYOffset||window.scrollY||document.body.scrollTop||0)):window.scrollTo(window.pageXOffset||window.scrollX||document.body.scrollLeft||0,t):!0===n?(!0===r&&(t=(!0===a.e?e.scrollWidth-e.offsetWidth:0)-t),e.scrollLeft=t):e.scrollTop=t}function m(e,t,n,r){if(n>=r)return 0;const i=t.length,o=Math.floor(n/l),s=Math.floor((r-1)/l)+1;let a=e.slice(o,s).reduce(d,0);return n%l!==0&&(a-=t.slice(o*l,n).reduce(d,0)),r%l!==0&&r!==i&&(a-=t.slice(r,s*l).reduce(d,0)),a}const g={virtualScrollSliceSize:{type:[Number,String],default:null},virtualScrollSliceRatioBefore:{type:[Number,String],default:1},virtualScrollSliceRatioAfter:{type:[Number,String],default:1},virtualScrollItemSize:{type:[Number,String],default:24},virtualScrollStickySizeStart:{type:[Number,String],default:0},virtualScrollStickySizeEnd:{type:[Number,String],default:0},tableColspan:[Number,String]},v=Object.keys(g),y={virtualScrollHorizontal:Boolean,onVirtualScroll:Function,...g};function b({virtualScrollLength:e,getVirtualScrollTarget:t,getVirtualScrollEl:n,virtualScrollItemSizeComputed:s}){const a=(0,r.FN)(),{props:g,emit:v,proxy:y}=a,{$q:b}=y;let w,_,S,k,I=[];const x=(0,i.iH)(0),E=(0,i.iH)(0),T=(0,i.iH)({}),C=(0,i.iH)(null),A=(0,i.iH)(null),R=(0,i.iH)(null),O=(0,i.iH)({from:0,to:0}),N=(0,r.Fl)((()=>void 0!==g.tableColspan?g.tableColspan:100));void 0===s&&(s=(0,r.Fl)((()=>g.virtualScrollItemSize)));const P=(0,r.Fl)((()=>s.value+";"+g.virtualScrollHorizontal)),D=(0,r.Fl)((()=>P.value+";"+g.virtualScrollSliceRatioBefore+";"+g.virtualScrollSliceRatioAfter));function L(){j(_,!0)}function F(e){j(void 0===e?_:e)}function M(r,i){const o=t();if(void 0===o||null===o||8===o.nodeType)return;const s=f(o,n(),C.value,A.value,g.virtualScrollHorizontal,b.lang.rtl,g.virtualScrollStickySizeStart,g.virtualScrollStickySizeEnd);S!==s.scrollViewSize&&z(s.scrollViewSize),U(o,s,Math.min(e.value-1,Math.max(0,parseInt(r,10)||0)),0,u.indexOf(i)>-1?i:_>-1&&r>_?"end":"start")}function q(){const r=t();if(void 0===r||null===r||8===r.nodeType)return;const i=f(r,n(),C.value,A.value,g.virtualScrollHorizontal,b.lang.rtl,g.virtualScrollStickySizeStart,g.virtualScrollStickySizeEnd),o=e.value-1,s=i.scrollMaxSize-i.offsetStart-i.offsetEnd-E.value;if(w===i.scrollStart)return;if(i.scrollMaxSize<=0)return void U(r,i,0,0);S!==i.scrollViewSize&&z(i.scrollViewSize),B(O.value.from);const a=Math.floor(i.scrollMaxSize-Math.max(i.scrollViewSize,i.offsetEnd)-Math.min(k[o],i.scrollViewSize/2));if(a>0&&Math.ceil(i.scrollStart)>=a)return void U(r,i,o,i.scrollMaxSize-i.offsetEnd-I.reduce(d,0));let u=0,c=i.scrollStart-i.offsetStart,h=c;if(c<=s&&c+i.scrollViewSize>=x.value)c-=x.value,u=O.value.from,h=c;else for(let e=0;c>=I[e]&&u<o;e++)c-=I[e],u+=l;while(c>0&&u<o)c-=k[u],c>-i.scrollViewSize?(u++,h=c):h=k[u]+c;U(r,i,u,h)}function U(t,n,r,i,o){const s="string"===typeof o&&o.indexOf("-force")>-1,a=!0===s?o.replace("-force",""):o,l=void 0!==a?a:"start";let u=Math.max(0,r-T.value[l]),c=u+T.value.total;c>e.value&&(c=e.value,u=Math.max(0,c-T.value.total)),w=n.scrollStart;const f=u!==O.value.from||c!==O.value.to;if(!1===f&&void 0===a)return void H(r);const{activeElement:v}=document,y=R.value;!0===f&&null!==y&&y!==v&&!0===y.contains(v)&&(y.addEventListener("focusout",V),setTimeout((()=>{null!==y&&y.removeEventListener("focusout",V)}))),h(y,r-u);const _=void 0!==a?k.slice(u,r).reduce(d,0):0;if(!0===f){const t=c>=O.value.from&&u<=O.value.to?O.value.to:c;O.value={from:u,to:t},x.value=m(I,k,0,u),E.value=m(I,k,c,e.value),requestAnimationFrame((()=>{O.value.to!==c&&w===n.scrollStart&&(O.value={from:O.value.from,to:c},E.value=m(I,k,c,e.value))}))}requestAnimationFrame((()=>{if(w!==n.scrollStart)return;!0===f&&B(u);const e=k.slice(u,r).reduce(d,0),o=e+n.offsetStart+x.value,l=o+k[r];let c=o+i;if(void 0!==a){const t=e-_,i=n.scrollStart+t;c=!0!==s&&i<o&&l<i+n.scrollViewSize?i:"end"===a?l-n.scrollViewSize:o-("start"===a?0:Math.round((n.scrollViewSize-k[r])/2))}w=c,p(t,c,g.virtualScrollHorizontal,b.lang.rtl),H(r)}))}function B(e){const t=R.value;if(t){const n=c.call(t.children,(e=>e.classList&&!1===e.classList.contains("q-virtual-scroll--skip"))),r=n.length,i=!0===g.virtualScrollHorizontal?e=>e.getBoundingClientRect().width:e=>e.offsetHeight;let o,s,a=e;for(let e=0;e<r;){o=i(n[e]),e++;while(e<r&&!0===n[e].classList.contains("q-virtual-scroll--with-prev"))o+=i(n[e]),e++;s=o-k[a],0!==s&&(k[a]+=s,I[Math.floor(a/l)]+=s),a++}}}function V(){null!==R.value&&void 0!==R.value&&R.value.focus()}function j(t,n){const i=1*s.value;!0!==n&&!1!==Array.isArray(k)||(k=[]);const o=k.length;k.length=e.value;for(let r=e.value-1;r>=o;r--)k[r]=i;const a=Math.floor((e.value-1)/l);I=[];for(let r=0;r<=a;r++){let t=0;const n=Math.min((r+1)*l,e.value);for(let e=r*l;e<n;e++)t+=k[e];I.push(t)}_=-1,w=void 0,x.value=m(I,k,0,O.value.from),E.value=m(I,k,O.value.to,e.value),t>=0?(B(O.value.from),(0,r.Y3)((()=>{M(t)}))):K()}function z(e){if(void 0===e&&"undefined"!==typeof window){const r=t();void 0!==r&&null!==r&&8!==r.nodeType&&(e=f(r,n(),C.value,A.value,g.virtualScrollHorizontal,b.lang.rtl,g.virtualScrollStickySizeStart,g.virtualScrollStickySizeEnd).scrollViewSize)}S=e;const r=parseFloat(g.virtualScrollSliceRatioBefore)||0,i=parseFloat(g.virtualScrollSliceRatioAfter)||0,o=1+r+i,a=void 0===e||e<=0?1:Math.ceil(e/s.value),l=Math.max(1,a,Math.ceil((g.virtualScrollSliceSize>0?g.virtualScrollSliceSize:10)/o));T.value={total:Math.ceil(l*o),start:Math.ceil(l*r),center:Math.ceil(l*(.5+r)),end:Math.ceil(l*(1+r)),view:a}}function $(e,t){const n=!0===g.virtualScrollHorizontal?"width":"height",i={["--q-virtual-scroll-item-"+n]:s.value+"px"};return["tbody"===e?(0,r.h)(e,{class:"q-virtual-scroll__padding",key:"before",ref:C},[(0,r.h)("tr",[(0,r.h)("td",{style:{[n]:`${x.value}px`,...i},colspan:N.value})])]):(0,r.h)(e,{class:"q-virtual-scroll__padding",key:"before",ref:C,style:{[n]:`${x.value}px`,...i}}),(0,r.h)(e,{class:"q-virtual-scroll__content",key:"content",ref:R,tabindex:-1},t.flat()),"tbody"===e?(0,r.h)(e,{class:"q-virtual-scroll__padding",key:"after",ref:A},[(0,r.h)("tr",[(0,r.h)("td",{style:{[n]:`${E.value}px`,...i},colspan:N.value})])]):(0,r.h)(e,{class:"q-virtual-scroll__padding",key:"after",ref:A,style:{[n]:`${E.value}px`,...i}})]}function H(e){_!==e&&(void 0!==g.onVirtualScroll&&v("virtual-scroll",{index:e,from:O.value.from,to:O.value.to-1,direction:e<_?"decrease":"increase",ref:y}),_=e)}(0,r.YP)(D,(()=>{z()})),(0,r.YP)(P,L),z();const K=(0,o.Z)(q,!0===b.platform.is.ios?120:35);(0,r.wF)((()=>{z()}));let W=!1;return(0,r.se)((()=>{W=!0})),(0,r.dl)((()=>{if(!0!==W)return;const e=t();void 0!==w&&void 0!==e&&null!==e&&8!==e.nodeType?p(e,w,g.virtualScrollHorizontal,b.lang.rtl):M(_)})),(0,r.Jd)((()=>{K.cancel()})),Object.assign(y,{scrollTo:M,reset:L,refresh:F}),{virtualScrollSliceRange:O,virtualScrollSliceSizeComputed:T,setVirtualScrollSize:z,onVirtualScrollEvt:K,localResetVirtualScroll:j,padVirtualScroll:$,scrollTo:M,reset:L,refresh:F}}},5065:(e,t,n)=>{"use strict";n.d(t,{ZP:()=>a,jO:()=>s});n(6727);var r=n(9835);const i={left:"start",center:"center",right:"end",between:"between",around:"around",evenly:"evenly",stretch:"stretch"},o=Object.keys(i),s={align:{type:String,validator:e=>o.includes(e)}};function a(e){return(0,r.Fl)((()=>{const t=void 0===e.align?!0===e.vertical?"stretch":"left":e.align;return`${!0===e.vertical?"items":"justify"}-${i[t]}`}))}},4397:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u,u:()=>l});var r=n(9835),i=n(499),o=n(2589),s=n(1384),a=n(1705);const l={target:{default:!0},noParentEvent:Boolean,contextMenu:Boolean};function u({showing:e,avoidEmit:t,configureAnchorEl:n}){const{props:l,proxy:u,emit:c}=(0,r.FN)(),h=(0,i.iH)(null);let d;function f(e){return null!==h.value&&(void 0===e||void 0===e.touches||e.touches.length<=1)}const p={};function m(){(0,s.ul)(p,"anchor")}function g(e){h.value=e;while(h.value.classList.contains("q-anchor--skip"))h.value=h.value.parentNode;n()}function v(){if(!1===l.target||""===l.target||null===u.$el.parentNode)h.value=null;else if(!0===l.target)g(u.$el.parentNode);else{let t=l.target;if("string"===typeof l.target)try{t=document.querySelector(l.target)}catch(e){t=void 0}void 0!==t&&null!==t?(h.value=t.$el||t,n()):(h.value=null,console.error(`Anchor: target "${l.target}" not found`))}}return void 0===n&&(Object.assign(p,{hide(e){u.hide(e)},toggle(e){u.toggle(e),e.qAnchorHandled=!0},toggleKey(e){!0===(0,a.So)(e,13)&&p.toggle(e)},contextClick(e){u.hide(e),(0,s.X$)(e),(0,r.Y3)((()=>{u.show(e),e.qAnchorHandled=!0}))},prevent:s.X$,mobileTouch(e){if(p.mobileCleanup(e),!0!==f(e))return;u.hide(e),h.value.classList.add("non-selectable");const t=e.target;(0,s.M0)(p,"anchor",[[t,"touchmove","mobileCleanup","passive"],[t,"touchend","mobileCleanup","passive"],[t,"touchcancel","mobileCleanup","passive"],[h.value,"contextmenu","prevent","notPassive"]]),d=setTimeout((()=>{u.show(e),e.qAnchorHandled=!0}),300)},mobileCleanup(t){h.value.classList.remove("non-selectable"),clearTimeout(d),!0===e.value&&void 0!==t&&(0,o.M)()}}),n=function(e=l.contextMenu){if(!0===l.noParentEvent||null===h.value)return;let t;t=!0===e?!0===u.$q.platform.is.mobile?[[h.value,"touchstart","mobileTouch","passive"]]:[[h.value,"mousedown","hide","passive"],[h.value,"contextmenu","contextClick","notPassive"]]:[[h.value,"click","toggle","passive"],[h.value,"keyup","toggleKey","passive"]],(0,s.M0)(p,"anchor",t)}),(0,r.YP)((()=>l.contextMenu),(e=>{null!==h.value&&(m(),n(e))})),(0,r.YP)((()=>l.target),(()=>{null!==h.value&&m(),v()})),(0,r.YP)((()=>l.noParentEvent),(e=>{null!==h.value&&(!0===e?m():n())})),(0,r.bv)((()=>{v(),!0!==t&&!0===l.modelValue&&null===h.value&&c("update:modelValue",!1)})),(0,r.Jd)((()=>{clearTimeout(d),m()})),{anchorEl:h,canShow:f,anchorEvents:p}}},3978:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});n(702);function r(){const e=new Map;return{getCache:function(t,n){return void 0===e[t]?e[t]=n:e[t]},getCacheWithFn:function(t,n){return void 0===e[t]?e[t]=n():e[t]}}}},8234:(e,t,n)=>{"use strict";n.d(t,{S:()=>i,Z:()=>o});var r=n(9835);const i={dark:{type:Boolean,default:null}};function o(e,t){return(0,r.Fl)((()=>null===e.dark?t.dark.isActive:e.dark))}},2840:(e,t,n)=>{"use strict";n.d(t,{ZP:()=>X,yV:()=>Z,HJ:()=>Q,Cl:()=>Y,tL:()=>J});var r=n(9835),i=n(499),o=n(1957),s=n(7506),a=n(2857),l=n(3940),u=n(8234),c=(n(6727),n(702),n(5439));function h({validate:e,resetValidation:t,requiresQForm:n}){const i=(0,r.f3)(c.vh,!1);if(!1!==i){const{props:n,proxy:o}=(0,r.FN)();Object.assign(o,{validate:e,resetValidation:t}),(0,r.YP)((()=>n.disable),(e=>{!0===e?("function"===typeof t&&t(),i.unbindComponent(o)):i.bindComponent(o)})),!0!==n.disable&&i.bindComponent(o),(0,r.Jd)((()=>{!0!==n.disable&&i.unbindComponent(o)}))}else!0===n&&console.error("Parent QForm not found on useFormChild()!")}const d=/^#[0-9a-fA-F]{3}([0-9a-fA-F]{3})?$/,f=/^#[0-9a-fA-F]{4}([0-9a-fA-F]{4})?$/,p=/^#([0-9a-fA-F]{3}|[0-9a-fA-F]{4}|[0-9a-fA-F]{6}|[0-9a-fA-F]{8})$/,m=/^rgb\(((0|[1-9][\d]?|1[\d]{0,2}|2[\d]?|2[0-4][\d]|25[0-5]),){2}(0|[1-9][\d]?|1[\d]{0,2}|2[\d]?|2[0-4][\d]|25[0-5])\)$/,g=/^rgba\(((0|[1-9][\d]?|1[\d]{0,2}|2[\d]?|2[0-4][\d]|25[0-5]),){2}(0|[1-9][\d]?|1[\d]{0,2}|2[\d]?|2[0-4][\d]|25[0-5]),(0|0\.[0-9]+[1-9]|0\.[1-9]+|1)\)$/,v={date:e=>/^-?[\d]+\/[0-1]\d\/[0-3]\d$/.test(e),time:e=>/^([0-1]?\d|2[0-3]):[0-5]\d$/.test(e),fulltime:e=>/^([0-1]?\d|2[0-3]):[0-5]\d:[0-5]\d$/.test(e),timeOrFulltime:e=>/^([0-1]?\d|2[0-3]):[0-5]\d(:[0-5]\d)?$/.test(e),email:e=>/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e),hexColor:e=>d.test(e),hexaColor:e=>f.test(e),hexOrHexaColor:e=>p.test(e),rgbColor:e=>m.test(e),rgbaColor:e=>g.test(e),rgbOrRgbaColor:e=>m.test(e)||g.test(e),hexOrRgbColor:e=>d.test(e)||m.test(e),hexaOrRgbaColor:e=>f.test(e)||g.test(e),anyColor:e=>p.test(e)||m.test(e)||g.test(e)};n(3122);n(6822),n(8964);Object.prototype.toString,Object.prototype.hasOwnProperty;const y={};"Boolean Number String Function Array Date RegExp Object".split(" ").forEach((e=>{y["[object "+e+"]"]=e.toLowerCase()}));n(4641),n(3269),n(4455);var b=n(244);const w={...b.LU,min:{type:Number,default:0},max:{type:Number,default:100},color:String,centerColor:String,trackColor:String,fontSize:String,thickness:{type:Number,default:.2,validator:e=>e>=0&&e<=1},angle:{type:Number,default:0},showValue:Boolean,reverse:Boolean,instantFeedback:Boolean};var _=n(5987),S=n(2026),k=n(321);const I=50,x=2*I,E=x*Math.PI,T=Math.round(1e3*E)/1e3;(0,_.L)({name:"QCircularProgress",props:{...w,value:{type:Number,default:0},animationSpeed:{type:[String,Number],default:600},indeterminate:Boolean},setup(e,{slots:t}){const{proxy:{$q:n}}=(0,r.FN)(),i=(0,b.ZP)(e),o=(0,r.Fl)((()=>{const t=(!0===n.lang.rtl?-1:1)*e.angle;return{transform:e.reverse!==(!0===n.lang.rtl)?`scale3d(-1, 1, 1) rotate3d(0, 0, 1, ${-90-t}deg)`:`rotate3d(0, 0, 1, ${t-90}deg)`}})),s=(0,r.Fl)((()=>!0!==e.instantFeedback&&!0!==e.indeterminate?{transition:`stroke-dashoffset ${e.animationSpeed}ms ease 0s, stroke ${e.animationSpeed}ms ease`}:"")),a=(0,r.Fl)((()=>x/(1-e.thickness/2))),l=(0,r.Fl)((()=>`${a.value/2} ${a.value/2} ${a.value} ${a.value}`)),u=(0,r.Fl)((()=>(0,k.vX)(e.value,e.min,e.max))),c=(0,r.Fl)((()=>E*(1-(u.value-e.min)/(e.max-e.min)))),h=(0,r.Fl)((()=>e.thickness/2*a.value));function d({thickness:e,offset:t,color:n,cls:i}){return(0,r.h)("circle",{class:"q-circular-progress__"+i+(void 0!==n?` text-${n}`:""),style:s.value,fill:"transparent",stroke:"currentColor","stroke-width":e,"stroke-dasharray":T,"stroke-dashoffset":t,cx:a.value,cy:a.value,r:I})}return()=>{const n=[];void 0!==e.centerColor&&"transparent"!==e.centerColor&&n.push((0,r.h)("circle",{class:`q-circular-progress__center text-${e.centerColor}`,fill:"currentColor",r:I-h.value/2,cx:a.value,cy:a.value})),void 0!==e.trackColor&&"transparent"!==e.trackColor&&n.push(d({cls:"track",thickness:h.value,offset:0,color:e.trackColor})),n.push(d({cls:"circle",thickness:h.value,offset:c.value,color:e.color}));const s=[(0,r.h)("svg",{class:"q-circular-progress__svg",style:o.value,viewBox:l.value,"aria-hidden":"true"},n)];return!0===e.showValue&&s.push((0,r.h)("div",{class:"q-circular-progress__text absolute-full row flex-center content-center",style:{fontSize:e.fontSize}},void 0!==t.default?t.default():[(0,r.h)("div",u.value)])),(0,r.h)("div",{class:`q-circular-progress q-circular-progress--${!0===e.indeterminate?"in":""}determinate`,style:i.value,role:"progressbar","aria-valuemin":e.min,"aria-valuemax":e.max,"aria-valuenow":!0===e.indeterminate?void 0:u.value},(0,S.pf)(t.internal,s))}}});var C=n(1384);const A={multiple:Boolean,accept:String,capture:String,maxFileSize:[Number,String],maxTotalSize:[Number,String],maxFiles:[Number,String],filter:Function},R=["rejected"];u.S,Boolean,Boolean,Boolean,Boolean,Boolean,Boolean,Boolean,Boolean;const O=[...R,"start","finish","added","removed"];const N=()=>!0;function P(e){const t={};return e.forEach((e=>{t[e]=N})),t}n(6254);P(O);n(4170);var D=n(899);n(223);n(3701),n(7674),n(8170),n(5231),n(7725),n(9359),n(6408),n(940),n(3667);let L,F=0;const M=new Array(256);for(let ee=0;ee<256;ee++)M[ee]=(ee+256).toString(16).substring(1);const q=(()=>{const e="undefined"!==typeof crypto?crypto:"undefined"!==typeof window?window.crypto||window.msCrypto:void 0;if(void 0!==e){if(void 0!==e.randomBytes)return e.randomBytes;if(void 0!==e.getRandomValues)return t=>{const n=new Uint8Array(t);return e.getRandomValues(n),n}}return e=>{const t=[];for(let n=e;n>0;n--)t.push(Math.floor(256*Math.random()));return t}})(),U=4096;function B(){(void 0===L||F+16>U)&&(F=0,L=q(U));const e=Array.prototype.slice.call(L,F,F+=16);return e[6]=15&e[6]|64,e[8]=63&e[8]|128,M[e[0]]+M[e[1]]+M[e[2]]+M[e[3]]+"-"+M[e[4]]+M[e[5]]+"-"+M[e[6]]+M[e[7]]+"-"+M[e[8]]+M[e[9]]+"-"+M[e[10]]+M[e[11]]+M[e[12]]+M[e[13]]+M[e[14]]+M[e[15]]}var V=n(3251);const j=[!0,!1,"ondemand"],z={modelValue:{},error:{type:Boolean,default:null},errorMessage:String,noErrorIcon:Boolean,rules:Array,reactiveRules:Boolean,lazyRules:{type:[Boolean,String],validator:e=>j.includes(e)}};function $(e,t){const{props:n,proxy:o}=(0,r.FN)(),s=(0,i.iH)(!1),a=(0,i.iH)(null),l=(0,i.iH)(null);h({validate:y,resetValidation:g});let u,c=0;const d=(0,r.Fl)((()=>void 0!==n.rules&&null!==n.rules&&n.rules.length>0)),f=(0,r.Fl)((()=>!0!==n.disable&&!0===d.value)),p=(0,r.Fl)((()=>!0===n.error||!0===s.value)),m=(0,r.Fl)((()=>"string"===typeof n.errorMessage&&n.errorMessage.length>0?n.errorMessage:a.value));function g(){c++,t.value=!1,l.value=null,s.value=!1,a.value=null,w.cancel()}function y(e=n.modelValue){if(!0!==f.value)return!0;const r=++c;!0!==t.value&&!0!==n.lazyRules&&(l.value=!0);const i=(e,n)=>{s.value!==e&&(s.value=e);const r=n||void 0;a.value!==r&&(a.value=r),t.value=!1},o=[];for(let t=0;t<n.rules.length;t++){const r=n.rules[t];let s;if("function"===typeof r?s=r(e):"string"===typeof r&&void 0!==v[r]&&(s=v[r](e)),!1===s||"string"===typeof s)return i(!0,s),!1;!0!==s&&void 0!==s&&o.push(s)}return 0===o.length?(i(!1),!0):(t.value=!0,Promise.all(o).then((e=>{if(void 0===e||!1===Array.isArray(e)||0===e.length)return r===c&&i(!1),!0;const t=e.find((e=>!1===e||"string"===typeof e));return r===c&&i(void 0!==t,t),void 0===t}),(e=>(r===c&&(console.error(e),i(!0)),!1))))}function b(e){!0===f.value&&"ondemand"!==n.lazyRules&&(!0===l.value||!0!==n.lazyRules&&!0!==e)&&w()}(0,r.YP)((()=>n.modelValue),(()=>{b()})),(0,r.YP)((()=>n.reactiveRules),(e=>{!0===e?void 0===u&&(u=(0,r.YP)((()=>n.rules),(()=>{b(!0)}))):void 0!==u&&(u(),u=void 0)}),{immediate:!0}),(0,r.YP)(e,(e=>{!0===e?null===l.value&&(l.value=!1):!1===l.value&&(l.value=!0,!0===f.value&&"ondemand"!==n.lazyRules&&!1===t.value&&w())}));const w=(0,D.Z)(y,0);return(0,r.Jd)((()=>{void 0!==u&&u(),w.cancel()})),Object.assign(o,{resetValidation:g,validate:y}),(0,V.g)(o,"hasError",(()=>p.value)),{isDirtyModel:l,hasRules:d,hasError:p,errorMessage:m,validate:y,resetValidation:g}}const H=/^on[A-Z]/;function K(e,t){const n={listeners:(0,i.iH)({}),attributes:(0,i.iH)({})};function o(){const r={},i={};for(const t in e)"class"!==t&&"style"!==t&&!1===H.test(t)&&(r[t]=e[t]);for(const e in t.props)!0===H.test(e)&&(i[e]=t.props[e]);n.attributes.value=r,n.listeners.value=i}return(0,r.Xn)(o),o(),n}var W=n(7026);function G(e){return void 0===e?`f_${B()}`:e}function Z(e){return void 0!==e&&null!==e&&(""+e).length>0}const Y={...u.S,...z,label:String,stackLabel:Boolean,hint:String,hideHint:Boolean,prefix:String,suffix:String,labelColor:String,color:String,bgColor:String,filled:Boolean,outlined:Boolean,borderless:Boolean,standout:[Boolean,String],square:Boolean,loading:Boolean,labelSlot:Boolean,bottomSlots:Boolean,hideBottomSpace:Boolean,rounded:Boolean,dense:Boolean,itemAligned:Boolean,counter:Boolean,clearable:Boolean,clearIcon:String,disable:Boolean,readonly:Boolean,autofocus:Boolean,for:String,maxlength:[Number,String]},Q=["update:modelValue","clear","focus","blur","popup-show","popup-hide"];function J(){const{props:e,attrs:t,proxy:n,vnode:o}=(0,r.FN)(),s=(0,u.Z)(e,n.$q);return{isDark:s,editable:(0,r.Fl)((()=>!0!==e.disable&&!0!==e.readonly)),innerLoading:(0,i.iH)(!1),focused:(0,i.iH)(!1),hasPopupOpen:!1,splitAttrs:K(t,o),targetUid:(0,i.iH)(G(e.for)),rootRef:(0,i.iH)(null),targetRef:(0,i.iH)(null),controlRef:(0,i.iH)(null)}}function X(e){const{props:t,emit:n,slots:i,attrs:u,proxy:c}=(0,r.FN)(),{$q:h}=c;let d;void 0===e.hasValue&&(e.hasValue=(0,r.Fl)((()=>Z(t.modelValue)))),void 0===e.emitValue&&(e.emitValue=e=>{n("update:modelValue",e)}),void 0===e.controlEvents&&(e.controlEvents={onFocusin:N,onFocusout:P}),Object.assign(e,{clearValue:D,onControlFocusin:N,onControlFocusout:P,focus:R}),void 0===e.computedCounter&&(e.computedCounter=(0,r.Fl)((()=>{if(!1!==t.counter){const e="string"===typeof t.modelValue||"number"===typeof t.modelValue?(""+t.modelValue).length:!0===Array.isArray(t.modelValue)?t.modelValue.length:0,n=void 0!==t.maxlength?t.maxlength:t.maxValues;return e+(void 0!==n?" / "+n:"")}})));const{isDirtyModel:f,hasRules:p,hasError:m,errorMessage:g,resetValidation:v}=$(e.focused,e.innerLoading),y=void 0!==e.floatingLabel?(0,r.Fl)((()=>!0===t.stackLabel||!0===e.focused.value||!0===e.floatingLabel.value)):(0,r.Fl)((()=>!0===t.stackLabel||!0===e.focused.value||!0===e.hasValue.value)),b=(0,r.Fl)((()=>!0===t.bottomSlots||void 0!==t.hint||!0===p.value||!0===t.counter||null!==t.error)),w=(0,r.Fl)((()=>!0===t.filled?"filled":!0===t.outlined?"outlined":!0===t.borderless?"borderless":t.standout?"standout":"standard")),_=(0,r.Fl)((()=>`q-field row no-wrap items-start q-field--${w.value}`+(void 0!==e.fieldClass?` ${e.fieldClass.value}`:"")+(!0===t.rounded?" q-field--rounded":"")+(!0===t.square?" q-field--square":"")+(!0===y.value?" q-field--float":"")+(!0===I.value?" q-field--labeled":"")+(!0===t.dense?" q-field--dense":"")+(!0===t.itemAligned?" q-field--item-aligned q-item-type":"")+(!0===e.isDark.value?" q-field--dark":"")+(void 0===e.getControl?" q-field--auto-height":"")+(!0===e.focused.value?" q-field--focused":"")+(!0===m.value?" q-field--error":"")+(!0===m.value||!0===e.focused.value?" q-field--highlighted":"")+(!0!==t.hideBottomSpace&&!0===b.value?" q-field--with-bottom":"")+(!0===t.disable?" q-field--disabled":!0===t.readonly?" q-field--readonly":""))),k=(0,r.Fl)((()=>"q-field__control relative-position row no-wrap"+(void 0!==t.bgColor?` bg-${t.bgColor}`:"")+(!0===m.value?" text-negative":"string"===typeof t.standout&&t.standout.length>0&&!0===e.focused.value?` ${t.standout}`:void 0!==t.color?` text-${t.color}`:""))),I=(0,r.Fl)((()=>!0===t.labelSlot||void 0!==t.label)),x=(0,r.Fl)((()=>"q-field__label no-pointer-events absolute ellipsis"+(void 0!==t.labelColor&&!0!==m.value?` text-${t.labelColor}`:""))),E=(0,r.Fl)((()=>({id:e.targetUid.value,editable:e.editable.value,focused:e.focused.value,floatingLabel:y.value,modelValue:t.modelValue,emitValue:e.emitValue}))),T=(0,r.Fl)((()=>{const n={for:e.targetUid.value};return!0===t.disable?n["aria-disabled"]="true":!0===t.readonly&&(n["aria-readonly"]="true"),n}));function A(){const t=document.activeElement;let n=void 0!==e.targetRef&&e.targetRef.value;!n||null!==t&&t.id===e.targetUid.value||(!0===n.hasAttribute("tabindex")||(n=n.querySelector("[tabindex]")),n&&n!==t&&n.focus({preventScroll:!0}))}function R(){(0,W.jd)(A)}function O(){(0,W.fP)(A);const t=document.activeElement;null!==t&&e.rootRef.value.contains(t)&&t.blur()}function N(t){clearTimeout(d),!0===e.editable.value&&!1===e.focused.value&&(e.focused.value=!0,n("focus",t))}function P(t,r){clearTimeout(d),d=setTimeout((()=>{(!0!==document.hasFocus()||!0!==e.hasPopupOpen&&void 0!==e.controlRef&&null!==e.controlRef.value&&!1===e.controlRef.value.contains(document.activeElement))&&(!0===e.focused.value&&(e.focused.value=!1,n("blur",t)),void 0!==r&&r())}))}function D(i){if((0,C.NS)(i),!0!==h.platform.is.mobile){const t=void 0!==e.targetRef&&e.targetRef.value||e.rootRef.value;t.focus()}else!0===e.rootRef.value.contains(document.activeElement)&&document.activeElement.blur();"file"===t.type&&(e.inputRef.value.value=null),n("update:modelValue",null),n("clear",t.modelValue),(0,r.Y3)((()=>{v(),!0!==h.platform.is.mobile&&(f.value=!1)}))}function L(){const n=[];return void 0!==i.prepend&&n.push((0,r.h)("div",{class:"q-field__prepend q-field__marginal row no-wrap items-center",key:"prepend",onClick:C.X$},i.prepend())),n.push((0,r.h)("div",{class:"q-field__control-container col relative-position row no-wrap q-anchor--skip"},F())),!0===m.value&&!1===t.noErrorIcon&&n.push(q("error",[(0,r.h)(a.Z,{name:h.iconSet.field.error,color:"negative"})])),!0===t.loading||!0===e.innerLoading.value?n.push(q("inner-loading-append",void 0!==i.loading?i.loading():[(0,r.h)(l.Z,{color:t.color})])):!0===t.clearable&&!0===e.hasValue.value&&!0===e.editable.value&&n.push(q("inner-clearable-append",[(0,r.h)(a.Z,{class:"q-field__focusable-action",tag:"button",name:t.clearIcon||h.iconSet.field.clear,tabindex:0,type:"button","aria-hidden":null,role:null,onClick:D})])),void 0!==i.append&&n.push((0,r.h)("div",{class:"q-field__append q-field__marginal row no-wrap items-center",key:"append",onClick:C.X$},i.append())),void 0!==e.getInnerAppend&&n.push(q("inner-append",e.getInnerAppend())),void 0!==e.getControlChild&&n.push(e.getControlChild()),n}function F(){const n=[];return void 0!==t.prefix&&null!==t.prefix&&n.push((0,r.h)("div",{class:"q-field__prefix no-pointer-events row items-center"},t.prefix)),void 0!==e.getShadowControl&&!0===e.hasShadow.value&&n.push(e.getShadowControl()),void 0!==e.getControl?n.push(e.getControl()):void 0!==i.rawControl?n.push(i.rawControl()):void 0!==i.control&&n.push((0,r.h)("div",{ref:e.targetRef,class:"q-field__native row",tabindex:-1,...e.splitAttrs.attributes.value,"data-autofocus":!0===t.autofocus||void 0},i.control(E.value))),!0===I.value&&n.push((0,r.h)("div",{class:x.value},(0,S.KR)(i.label,t.label))),void 0!==t.suffix&&null!==t.suffix&&n.push((0,r.h)("div",{class:"q-field__suffix no-pointer-events row items-center"},t.suffix)),n.concat((0,S.KR)(i.default))}function M(){let n,s;!0===m.value?null!==g.value?(n=[(0,r.h)("div",{role:"alert"},g.value)],s=`q--slot-error-${g.value}`):(n=(0,S.KR)(i.error),s="q--slot-error"):!0===t.hideHint&&!0!==e.focused.value||(void 0!==t.hint?(n=[(0,r.h)("div",t.hint)],s=`q--slot-hint-${t.hint}`):(n=(0,S.KR)(i.hint),s="q--slot-hint"));const a=!0===t.counter||void 0!==i.counter;if(!0===t.hideBottomSpace&&!1===a&&void 0===n)return;const l=(0,r.h)("div",{key:s,class:"q-field__messages col"},n);return(0,r.h)("div",{class:"q-field__bottom row items-start q-field__bottom--"+(!0!==t.hideBottomSpace?"animated":"stale")},[!0===t.hideBottomSpace?l:(0,r.h)(o.uT,{name:"q-transition--field-message"},(()=>l)),!0===a?(0,r.h)("div",{class:"q-field__counter"},void 0!==i.counter?i.counter():e.computedCounter.value):null])}function q(e,t){return null===t?null:(0,r.h)("div",{key:e,class:"q-field__append q-field__marginal row no-wrap items-center q-anchor--skip"},t)}(0,r.YP)((()=>t.for),(t=>{e.targetUid.value=G(t)})),Object.assign(c,{focus:R,blur:O});let U=!1;return(0,r.se)((()=>{U=!0})),(0,r.dl)((()=>{!0===U&&!0===t.autofocus&&c.focus()})),(0,r.bv)((()=>{!0===s.uX.value&&void 0===t.for&&(e.targetUid.value=G()),!0===t.autofocus&&c.focus()})),(0,r.Jd)((()=>{clearTimeout(d)})),function(){const n=void 0===e.getControl&&void 0===i.control?{...e.splitAttrs.attributes.value,"data-autofocus":!0===t.autofocus||void 0,...T.value}:T.value;return(0,r.h)("label",{ref:e.rootRef,class:[_.value,u.class],style:u.style,...n},[void 0!==i.before?(0,r.h)("div",{class:"q-field__before q-field__marginal row no-wrap items-center",onClick:C.X$},i.before()):null,(0,r.h)("div",{class:"q-field__inner relative-position col self-stretch"},[(0,r.h)("div",{ref:e.controlRef,class:k.value,tabindex:-1,...e.controlEvents},L()),!0===b.value?M():null]),void 0!==i.after?(0,r.h)("div",{class:"q-field__after q-field__marginal row no-wrap items-center",onClick:C.X$},i.after()):null])}}},9256:(e,t,n)=>{"use strict";n.d(t,{Do:()=>a,Fz:()=>i,Vt:()=>o,eX:()=>s});var r=n(9835);const i={name:String};function o(e){return(0,r.Fl)((()=>({type:"hidden",name:e.name,value:e.modelValue})))}function s(e={}){return(t,n,i)=>{t[n]((0,r.h)("input",{class:"hidden"+(i||""),...e.value}))}}function a(e){return(0,r.Fl)((()=>e.name||e.for))}},2802:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var r=n(7506);const i=/[\u3000-\u303f\u3040-\u309f\u30a0-\u30ff\uff00-\uff9f\u4e00-\u9faf\u3400-\u4dbf]/,o=/[\u4e00-\u9fff\u3400-\u4dbf\u{20000}-\u{2a6df}\u{2a700}-\u{2b73f}\u{2b740}-\u{2b81f}\u{2b820}-\u{2ceaf}\uf900-\ufaff\u3300-\u33ff\ufe30-\ufe4f\uf900-\ufaff\u{2f800}-\u{2fa1f}]/u,s=/[\u3131-\u314e\u314f-\u3163\uac00-\ud7a3]/,a=/[a-z0-9_ -]$/i;function l(e){return function(t){if("compositionend"===t.type||"change"===t.type){if(!0!==t.target.qComposing)return;t.target.qComposing=!1,e(t)}else if("compositionupdate"===t.type&&!0!==t.target.qComposing&&"string"===typeof t.data){const e=!0===r.Lp.is.firefox?!1===a.test(t.data):!0===i.test(t.data)||!0===o.test(t.data)||!0===s.test(t.data);!0===e&&(t.target.qComposing=!0)}}}},3842:(e,t,n)=>{"use strict";n.d(t,{ZP:()=>a,gH:()=>s,vr:()=>o});var r=n(9835),i=n(2046);const o={modelValue:{type:Boolean,default:null},"onUpdate:modelValue":[Function,Array]},s=["before-show","show","before-hide","hide"];function a({showing:e,canShow:t,hideOnRouteChange:n,handleShow:o,handleHide:s,processOnMount:a}){const l=(0,r.FN)(),{props:u,emit:c,proxy:h}=l;let d;function f(t){!0===e.value?g(t):p(t)}function p(e){if(!0===u.disable||void 0!==e&&!0===e.qAnchorHandled||void 0!==t&&!0!==t(e))return;const n=void 0!==u["onUpdate:modelValue"];!0===n&&(c("update:modelValue",!0),d=e,(0,r.Y3)((()=>{d===e&&(d=void 0)}))),null!==u.modelValue&&!1!==n||m(e)}function m(t){!0!==e.value&&(e.value=!0,c("before-show",t),void 0!==o?o(t):c("show",t))}function g(e){if(!0===u.disable)return;const t=void 0!==u["onUpdate:modelValue"];!0===t&&(c("update:modelValue",!1),d=e,(0,r.Y3)((()=>{d===e&&(d=void 0)}))),null!==u.modelValue&&!1!==t||v(e)}function v(t){!1!==e.value&&(e.value=!1,c("before-hide",t),void 0!==s?s(t):c("hide",t))}function y(t){if(!0===u.disable&&!0===t)void 0!==u["onUpdate:modelValue"]&&c("update:modelValue",!1);else if(!0===t!==e.value){const e=!0===t?m:v;e(d)}}(0,r.YP)((()=>u.modelValue),y),void 0!==n&&!0===(0,i.Rb)(l)&&(0,r.YP)((()=>h.$route.fullPath),(()=>{!0===n.value&&!0===e.value&&g()})),!0===a&&(0,r.bv)((()=>{y(u.modelValue)}));const b={show:p,hide:g,toggle:f};return Object.assign(h,b),b}},9683:(e,t,n)=>{"use strict";n.d(t,{ZP:()=>k,vZ:()=>b,K6:()=>S,t6:()=>_});var r=n(9835),i=n(499),o=n(1957),s=n(7506),a=n(5987);n(702);const l={left:!0,right:!0,up:!0,down:!0,horizontal:!0,vertical:!0},u=Object.keys(l);function c(e){const t={};for(const n of u)!0===e[n]&&(t[n]=!0);return 0===Object.keys(t).length?l:(!0===t.horizontal?t.left=t.right=!0:!0===t.left&&!0===t.right&&(t.horizontal=!0),!0===t.vertical?t.up=t.down=!0:!0===t.up&&!0===t.down&&(t.vertical=!0),!0===t.horizontal&&!0===t.vertical&&(t.all=!0),t)}function h(e,t){return void 0===t.event&&void 0!==e.target&&!0!==e.target.draggable&&"function"===typeof t.handler&&"INPUT"!==e.target.nodeName.toUpperCase()&&(void 0===e.qClonedBy||-1===e.qClonedBy.indexOf(t.uid))}l.all=!0;var d=n(1384),f=n(2589);function p(e){const t=[.06,6,50];return"string"===typeof e&&e.length&&e.split(":").forEach(((e,n)=>{const r=parseFloat(e);r&&(t[n]=r)})),t}const m=(0,a.f)({name:"touch-swipe",beforeMount(e,{value:t,arg:n,modifiers:r}){if(!0!==r.mouse&&!0!==s.Lp.has.touch)return;const i=!0===r.mouseCapture?"Capture":"",o={handler:t,sensitivity:p(n),direction:c(r),noop:d.ZT,mouseStart(e){h(e,o)&&(0,d.du)(e)&&((0,d.M0)(o,"temp",[[document,"mousemove","move",`notPassive${i}`],[document,"mouseup","end","notPassiveCapture"]]),o.start(e,!0))},touchStart(e){if(h(e,o)){const t=e.target;(0,d.M0)(o,"temp",[[t,"touchmove","move","notPassiveCapture"],[t,"touchcancel","end","notPassiveCapture"],[t,"touchend","end","notPassiveCapture"]]),o.start(e)}},start(t,n){!0===s.Lp.is.firefox&&(0,d.Jf)(e,!0);const r=(0,d.FK)(t);o.event={x:r.left,y:r.top,time:Date.now(),mouse:!0===n,dir:!1}},move(e){if(void 0===o.event)return;if(!1!==o.event.dir)return void(0,d.NS)(e);const t=Date.now()-o.event.time;if(0===t)return;const n=(0,d.FK)(e),r=n.left-o.event.x,i=Math.abs(r),s=n.top-o.event.y,a=Math.abs(s);if(!0!==o.event.mouse){if(i<o.sensitivity[1]&&a<o.sensitivity[1])return void o.end(e)}else if(i<o.sensitivity[2]&&a<o.sensitivity[2])return;const l=i/t,u=a/t;!0===o.direction.vertical&&i<a&&i<100&&u>o.sensitivity[0]&&(o.event.dir=s<0?"up":"down"),!0===o.direction.horizontal&&i>a&&a<100&&l>o.sensitivity[0]&&(o.event.dir=r<0?"left":"right"),!0===o.direction.up&&i<a&&s<0&&i<100&&u>o.sensitivity[0]&&(o.event.dir="up"),!0===o.direction.down&&i<a&&s>0&&i<100&&u>o.sensitivity[0]&&(o.event.dir="down"),!0===o.direction.left&&i>a&&r<0&&a<100&&l>o.sensitivity[0]&&(o.event.dir="left"),!0===o.direction.right&&i>a&&r>0&&a<100&&l>o.sensitivity[0]&&(o.event.dir="right"),!1!==o.event.dir?((0,d.NS)(e),!0===o.event.mouse&&(document.body.classList.add("no-pointer-events--children"),document.body.classList.add("non-selectable"),(0,f.M)(),o.styleCleanup=e=>{o.styleCleanup=void 0,document.body.classList.remove("non-selectable");const t=()=>{document.body.classList.remove("no-pointer-events--children")};!0===e?setTimeout(t,50):t()}),o.handler({evt:e,touch:!0!==o.event.mouse,mouse:o.event.mouse,direction:o.event.dir,duration:t,distance:{x:i,y:a}})):o.end(e)},end(t){void 0!==o.event&&((0,d.ul)(o,"temp"),!0===s.Lp.is.firefox&&(0,d.Jf)(e,!1),void 0!==o.styleCleanup&&o.styleCleanup(!0),void 0!==t&&!1!==o.event.dir&&(0,d.NS)(t),o.event=void 0)}};e.__qtouchswipe=o,!0===r.mouse&&(0,d.M0)(o,"main",[[e,"mousedown","mouseStart",`passive${i}`]]),!0===s.Lp.has.touch&&(0,d.M0)(o,"main",[[e,"touchstart","touchStart","passive"+(!0===r.capture?"Capture":"")],[e,"touchmove","noop","notPassiveCapture"]])},updated(e,t){const n=e.__qtouchswipe;void 0!==n&&(t.oldValue!==t.value&&("function"!==typeof t.value&&n.end(),n.handler=t.value),n.direction=c(t.modifiers))},beforeUnmount(e){const t=e.__qtouchswipe;void 0!==t&&((0,d.ul)(t,"main"),(0,d.ul)(t,"temp"),!0===s.Lp.is.firefox&&(0,d.Jf)(e,!1),void 0!==t.styleCleanup&&t.styleCleanup(),delete e.__qtouchswipe)}});var g=n(3978),v=n(2026),y=n(2046);const b={name:{required:!0},disable:Boolean},w={setup(e,{slots:t}){return()=>(0,r.h)("div",{class:"q-panel scroll",role:"tabpanel"},(0,v.KR)(t.default))}},_={modelValue:{required:!0},animated:Boolean,infinite:Boolean,swipeable:Boolean,vertical:Boolean,transitionPrev:String,transitionNext:String,transitionDuration:{type:[String,Number],default:300},keepAlive:Boolean,keepAliveInclude:[String,Array,RegExp],keepAliveExclude:[String,Array,RegExp],keepAliveMax:Number},S=["update:modelValue","before-transition","transition"];function k(){const{props:e,emit:t,proxy:n}=(0,r.FN)(),{getCacheWithFn:s}=(0,g.Z)();let a,l;const u=(0,i.iH)(null),c=(0,i.iH)(null);function h(t){const r=!0===e.vertical?"up":"left";O((!0===n.$q.lang.rtl?-1:1)*(t.direction===r?1:-1))}const d=(0,r.Fl)((()=>[[m,h,void 0,{horizontal:!0!==e.vertical,vertical:e.vertical,mouse:!0}]])),f=(0,r.Fl)((()=>e.transitionPrev||"slide-"+(!0===e.vertical?"down":"right"))),p=(0,r.Fl)((()=>e.transitionNext||"slide-"+(!0===e.vertical?"up":"left"))),b=(0,r.Fl)((()=>`--q-transition-duration: ${e.transitionDuration}ms`)),_=(0,r.Fl)((()=>"string"===typeof e.modelValue||"number"===typeof e.modelValue?e.modelValue:String(e.modelValue))),S=(0,r.Fl)((()=>({include:e.keepAliveInclude,exclude:e.keepAliveExclude,max:e.keepAliveMax}))),k=(0,r.Fl)((()=>void 0!==e.keepAliveInclude||void 0!==e.keepAliveExclude));function I(){O(1)}function x(){O(-1)}function E(e){t("update:modelValue",e)}function T(e){return void 0!==e&&null!==e&&""!==e}function C(e){return a.findIndex((t=>t.props.name===e&&""!==t.props.disable&&!0!==t.props.disable))}function A(){return a.filter((e=>""!==e.props.disable&&!0!==e.props.disable))}function R(t){const n=0!==t&&!0===e.animated&&-1!==u.value?"q-transition--"+(-1===t?f.value:p.value):null;c.value!==n&&(c.value=n)}function O(n,r=u.value){let i=r+n;while(i>-1&&i<a.length){const e=a[i];if(void 0!==e&&""!==e.props.disable&&!0!==e.props.disable)return R(n),l=!0,t("update:modelValue",e.props.name),void setTimeout((()=>{l=!1}));i+=n}!0===e.infinite&&a.length>0&&-1!==r&&r!==a.length&&O(n,-1===n?a.length:-1)}function N(){const t=C(e.modelValue);return u.value!==t&&(u.value=t),!0}function P(){const t=!0===T(e.modelValue)&&N()&&a[u.value];return!0===e.keepAlive?[(0,r.h)(r.Ob,S.value,[(0,r.h)(!0===k.value?s(_.value,(()=>({...w,name:_.value}))):w,{key:_.value,style:b.value},(()=>t))])]:[(0,r.h)("div",{class:"q-panel scroll",style:b.value,key:_.value,role:"tabpanel"},[t])]}function D(){if(0!==a.length)return!0===e.animated?[(0,r.h)(o.uT,{name:c.value},P)]:P()}function L(e){return a=(0,y.Pf)((0,v.KR)(e.default,[])).filter((e=>null!==e.props&&void 0===e.props.slot&&!0===T(e.props.name))),a.length}function F(){return a}return(0,r.YP)((()=>e.modelValue),((e,n)=>{const i=!0===T(e)?C(e):-1;!0!==l&&R(-1===i?0:i<C(n)?-1:1),u.value!==i&&(u.value=i,t("before-transition",e,n),(0,r.Y3)((()=>{t("transition",e,n)})))})),Object.assign(n,{next:I,previous:x,goTo:E}),{panelIndex:u,panelDirectives:d,updatePanelsList:L,updatePanelIndex:N,getPanelContent:D,getEnabledPanels:A,getPanels:F,isValidPanelName:T,keepAliveProps:S,needsUniqueKeepAliveWrapper:k,goToPanelByOffset:O,goToPanel:E,nextPanel:I,previousPanel:x}}},1518:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u});var r=n(499),i=n(9835),o=(n(1384),n(7026)),s=n(6669),a=n(2909);function l(e){e=e.parent;while(void 0!==e&&null!==e){if("QGlobalDialog"===e.type.name)return!0;if("QDialog"===e.type.name||"QMenu"===e.type.name)return!1;e=e.parent}return!1}function u(e,t,n,u){const c=(0,r.iH)(!1),h=(0,r.iH)(!1);let d=null;const f={},p=!0===u&&l(e);function m(t){if(!0===t)return(0,o.xF)(f),void(h.value=!0);h.value=!1,!1===c.value&&(!1===p&&null===d&&(d=(0,s.q_)()),c.value=!0,a.wN.push(e.proxy),(0,o.YX)(f))}function g(t){if(h.value=!1,!0!==t)return;(0,o.xF)(f),c.value=!1;const n=a.wN.indexOf(e.proxy);n>-1&&a.wN.splice(n,1),null!==d&&((0,s.pB)(d),d=null)}return(0,i.Ah)((()=>{g(!0)})),Object.assign(e.proxy,{__qPortalInnerRef:t}),{showPortal:m,hidePortal:g,portalIsActive:c,portalIsAccessible:h,renderPortal:()=>!0===p?n():!0===c.value?[(0,i.h)(i.lR,{to:d},n())]:void 0}}},5917:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(499),i=n(9835);function o(e,t){const n=(0,r.iH)(null),o=(0,i.Fl)((()=>!0===e.disable?null:(0,i.h)("span",{ref:n,class:"no-outline",tabindex:-1})));function s(e){const r=t.value;void 0!==e&&0===e.type.indexOf("key")?null!==r&&document.activeElement!==r&&!0===r.contains(document.activeElement)&&r.focus():null!==n.value&&(void 0===e||null!==r&&!0===r.contains(e.target))&&n.value.focus()}return{refocusTargetEl:o,refocusTarget:s}}},945:(e,t,n)=>{"use strict";n.d(t,{$:()=>d,Z:()=>f});n(8964);var r=n(9835),i=n(1384),o=n(2046);function s(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}function a(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function l(e,t){for(const n in t){const r=t[n],i=e[n];if("string"===typeof r){if(r!==i)return!1}else if(!1===Array.isArray(i)||i.length!==r.length||r.some(((e,t)=>e!==i[t])))return!1}return!0}function u(e,t){return!0===Array.isArray(t)?e.length===t.length&&e.every(((e,n)=>e===t[n])):1===e.length&&e[0]===t}function c(e,t){return!0===Array.isArray(e)?u(e,t):!0===Array.isArray(t)?u(t,e):e===t}function h(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(!1===c(e[n],t[n]))return!1;return!0}const d={to:[String,Object],replace:Boolean,exact:Boolean,activeClass:{type:String,default:"q-router-link--active"},exactActiveClass:{type:String,default:"q-router-link--exact-active"},href:String,target:String,disable:Boolean};function f(e){const t=(0,r.FN)(),{props:n,proxy:u}=t,c=(0,o.Rb)(t),d=(0,r.Fl)((()=>!0!==n.disable&&void 0!==n.href)),f=(0,r.Fl)((()=>!0===c&&!0!==n.disable&&!0!==d.value&&void 0!==n.to&&null!==n.to&&""!==n.to)),p=(0,r.Fl)((()=>{if(!0===f.value)try{return u.$router.resolve(n.to)}catch(e){}return null})),m=(0,r.Fl)((()=>null!==p.value)),g=(0,r.Fl)((()=>!0===d.value||!0===m.value)),v=(0,r.Fl)((()=>"a"===n.type||!0===g.value?"a":n.tag||e||"div")),y=(0,r.Fl)((()=>!0===d.value?{href:n.href,target:n.target}:!0===m.value?{href:p.value.href,target:n.target}:{})),b=(0,r.Fl)((()=>{if(!1===m.value)return null;const{matched:e}=p.value,{length:t}=e,n=e[t-1];if(void 0===n)return-1;const r=u.$route.matched;if(0===r.length)return-1;const i=r.findIndex(a.bind(null,n));if(i>-1)return i;const o=s(e[t-2]);return t>1&&s(n)===o&&r[r.length-1].path!==o?r.findIndex(a.bind(null,e[t-2])):i})),w=(0,r.Fl)((()=>!0===m.value&&b.value>-1&&l(u.$route.params,p.value.params))),_=(0,r.Fl)((()=>!0===w.value&&b.value===u.$route.matched.length-1&&h(u.$route.params,p.value.params))),S=(0,r.Fl)((()=>!0===m.value?!0===_.value?` ${n.exactActiveClass} ${n.activeClass}`:!0===n.exact?"":!0===w.value?` ${n.activeClass}`:"":""));function k(e){return!(!0===n.disable||e.metaKey||e.altKey||e.ctrlKey||e.shiftKey||!0!==e.__qNavigate&&!0===e.defaultPrevented||void 0!==e.button&&0!==e.button||"_blank"===n.target)&&((0,i.X$)(e),u.$router[!0===n.replace?"replace":"push"](n.to).catch((e=>e)))}return{hasRouterLink:m,hasHrefLink:d,hasLink:g,linkTag:v,linkRoute:p,linkIsActive:w,linkIsExactActive:_,linkClass:S,linkProps:y,navigateToRouterLink:k}}},244:(e,t,n)=>{"use strict";n.d(t,{LU:()=>o,Ok:()=>i,ZP:()=>s});var r=n(9835);const i={xs:18,sm:24,md:32,lg:38,xl:46},o={size:String};function s(e,t=i){return(0,r.Fl)((()=>void 0!==e.size?{fontSize:e.size in t?`${t[e.size]}px`:e.size}:null))}},6916:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(9835);function i(){let e;return(0,r.Jd)((()=>{e=void 0})),{registerTick(t){e=t,(0,r.Y3)((()=>{e===t&&(e(),e=void 0)}))},removeTick(){e=void 0}}}},2695:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var r=n(9835);function i(){let e;return(0,r.Jd)((()=>{clearTimeout(e)})),{registerTimeout(t,n){clearTimeout(e),e=setTimeout(t,n)},removeTimeout(){clearTimeout(e)}}}},431:(e,t,n)=>{"use strict";n.d(t,{D:()=>o,Z:()=>s});var r=n(499),i=n(9835);const o={transitionShow:{type:String,default:"fade"},transitionHide:{type:String,default:"fade"},transitionDuration:{type:[String,Number],default:300}};function s(e,t){const n=(0,r.iH)(t.value);return(0,i.YP)(t,(e=>{(0,i.Y3)((()=>{n.value=e}))})),{transition:(0,i.Fl)((()=>"q-transition--"+(!0===n.value?e.transitionHide:e.transitionShow))),transitionStyle:(0,i.Fl)((()=>`--q-transition-duration: ${e.transitionDuration}ms`))}}},2146:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(5987),i=n(2909),o=n(1705);function s(e){if(!1===e)return 0;if(!0===e||void 0===e)return 1;const t=parseInt(e,10);return isNaN(t)?0:t}const a=(0,r.f)({name:"close-popup",beforeMount(e,{value:t}){const n={depth:s(t),handler(t){0!==n.depth&&setTimeout((()=>{const r=(0,i.HW)(e);void 0!==r&&(0,i.S7)(r,t,n.depth)}))},handlerKey(e){!0===(0,o.So)(e,13)&&n.handler(e)}};e.__qclosepopup=n,e.addEventListener("click",n.handler),e.addEventListener("keyup",n.handlerKey)},updated(e,{value:t,oldValue:n}){t!==n&&(e.__qclosepopup.depth=s(t))},beforeUnmount(e){const t=e.__qclosepopup;e.removeEventListener("click",t.handler),e.removeEventListener("keyup",t.handlerKey),delete e.__qclosepopup}})},1136:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c});var r=n(5987),i=n(223),o=n(1384),s=n(1705);function a(e,t=250){let n,r=!1;return function(){return!1===r&&(r=!0,setTimeout((()=>{r=!1}),t),n=e.apply(this,arguments)),n}}function l(e,t,n,r){!0===n.modifiers.stop&&(0,o.sT)(e);const s=n.modifiers.color;let a=n.modifiers.center;a=!0===a||!0===r;const l=document.createElement("span"),u=document.createElement("span"),c=(0,o.FK)(e),{left:h,top:d,width:f,height:p}=t.getBoundingClientRect(),m=Math.sqrt(f*f+p*p),g=m/2,v=(f-m)/2+"px",y=a?v:c.left-h-g+"px",b=(p-m)/2+"px",w=a?b:c.top-d-g+"px";u.className="q-ripple__inner",(0,i.iv)(u,{height:`${m}px`,width:`${m}px`,transform:`translate3d(${y},${w},0) scale3d(.2,.2,1)`,opacity:0}),l.className="q-ripple"+(s?" text-"+s:""),l.setAttribute("dir","ltr"),l.appendChild(u),t.appendChild(l);const _=()=>{l.remove(),clearTimeout(S)};n.abort.push(_);let S=setTimeout((()=>{u.classList.add("q-ripple__inner--enter"),u.style.transform=`translate3d(${v},${b},0) scale3d(1,1,1)`,u.style.opacity=.2,S=setTimeout((()=>{u.classList.remove("q-ripple__inner--enter"),u.classList.add("q-ripple__inner--leave"),u.style.opacity=0,S=setTimeout((()=>{l.remove(),n.abort.splice(n.abort.indexOf(_),1)}),275)}),250)}),50)}function u(e,{modifiers:t,value:n,arg:r}){const i=Object.assign({},e.cfg.ripple,t,n);e.modifiers={early:!0===i.early,stop:!0===i.stop,center:!0===i.center,color:i.color||r,keyCodes:[].concat(i.keyCodes||13)}}const c=(0,r.f)({name:"ripple",beforeMount(e,t){const n=t.instance.$.appContext.config.globalProperties.$q.config||{};if(!1===n.ripple)return;const r={cfg:n,enabled:!1!==t.value,modifiers:{},abort:[],start(t){!0===r.enabled&&!0!==t.qSkipRipple&&t.type===(!0===r.modifiers.early?"pointerdown":"click")&&l(t,e,r,!0===t.qKeyEvent)},keystart:a((t=>{!0===r.enabled&&!0!==t.qSkipRipple&&!0===(0,s.So)(t,r.modifiers.keyCodes)&&t.type==="key"+(!0===r.modifiers.early?"down":"up")&&l(t,e,r,!0)}),300)};u(r,t),e.__qripple=r,(0,o.M0)(r,"main",[[e,"pointerdown","start","passive"],[e,"click","start","passive"],[e,"keydown","keystart","passive"],[e,"keyup","keystart","passive"]])},updated(e,t){if(t.oldValue!==t.value){const n=e.__qripple;void 0!==n&&(n.enabled=!1!==t.value,!0===n.enabled&&Object(t.value)===t.value&&u(n,t))}},beforeUnmount(e){const t=e.__qripple;void 0!==t&&(t.abort.forEach((e=>{e()})),(0,o.ul)(t,"main"),delete e._qripple)}})},5310:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u});n(702),n(6727);var r=n(7506),i=n(1384);const o=()=>!0;function s(e){return"string"===typeof e&&""!==e&&"/"!==e&&"#/"!==e}function a(e){return!0===e.startsWith("#")&&(e=e.substring(1)),!1===e.startsWith("/")&&(e="/"+e),!0===e.endsWith("/")&&(e=e.substring(0,e.length-1)),"#"+e}function l(e){if(!1===e.backButtonExit)return()=>!1;if("*"===e.backButtonExit)return o;const t=["#/"];return!0===Array.isArray(e.backButtonExit)&&t.push(...e.backButtonExit.filter(s).map(a)),()=>t.includes(window.location.hash)}const u={__history:[],add:i.ZT,remove:i.ZT,install({$q:e}){if(!0===this.__installed)return;const{cordova:t,capacitor:n}=r.Lp.is;if(!0!==t&&!0!==n)return;const i=e.config[!0===t?"cordova":"capacitor"];if(void 0!==i&&!1===i.backButton)return;if(!0===n&&(void 0===window.Capacitor||void 0===window.Capacitor.Plugins.App))return;this.add=e=>{void 0===e.condition&&(e.condition=o),this.__history.push(e)},this.remove=e=>{const t=this.__history.indexOf(e);t>=0&&this.__history.splice(t,1)};const s=l(Object.assign({backButtonExit:!0},i)),a=()=>{if(this.__history.length){const e=this.__history[this.__history.length-1];!0===e.condition()&&(this.__history.pop(),e.handler())}else!0===s()?navigator.app.exitApp():window.history.back()};!0===t?document.addEventListener("deviceready",(()=>{document.addEventListener("backbutton",a,!1)})):window.Capacitor.Plugins.App.addListener("backButton",a)}}},2289:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(4124),i=n(3251);const o={name:"material-icons",type:{positive:"check_circle",negative:"warning",info:"info",warning:"priority_high"},arrow:{up:"arrow_upward",right:"arrow_forward",down:"arrow_downward",left:"arrow_back",dropdown:"arrow_drop_down"},chevron:{left:"chevron_left",right:"chevron_right"},colorPicker:{spectrum:"gradient",tune:"tune",palette:"style"},pullToRefresh:{icon:"refresh"},carousel:{left:"chevron_left",right:"chevron_right",up:"keyboard_arrow_up",down:"keyboard_arrow_down",navigationIcon:"lens"},chip:{remove:"cancel",selected:"check"},datetime:{arrowLeft:"chevron_left",arrowRight:"chevron_right",now:"access_time",today:"today"},editor:{bold:"format_bold",italic:"format_italic",strikethrough:"strikethrough_s",underline:"format_underlined",unorderedList:"format_list_bulleted",orderedList:"format_list_numbered",subscript:"vertical_align_bottom",superscript:"vertical_align_top",hyperlink:"link",toggleFullscreen:"fullscreen",quote:"format_quote",left:"format_align_left",center:"format_align_center",right:"format_align_right",justify:"format_align_justify",print:"print",outdent:"format_indent_decrease",indent:"format_indent_increase",removeFormat:"format_clear",formatting:"text_format",fontSize:"format_size",align:"format_align_left",hr:"remove",undo:"undo",redo:"redo",heading:"format_size",code:"code",size:"format_size",font:"font_download",viewSource:"code"},expansionItem:{icon:"keyboard_arrow_down",denseIcon:"arrow_drop_down"},fab:{icon:"add",activeIcon:"close"},field:{clear:"cancel",error:"error"},pagination:{first:"first_page",prev:"keyboard_arrow_left",next:"keyboard_arrow_right",last:"last_page"},rating:{icon:"grade"},stepper:{done:"check",active:"edit",error:"warning"},tabs:{left:"chevron_left",right:"chevron_right",up:"keyboard_arrow_up",down:"keyboard_arrow_down"},table:{arrowUp:"arrow_upward",warning:"warning",firstPage:"first_page",prevPage:"chevron_left",nextPage:"chevron_right",lastPage:"last_page"},tree:{icon:"play_arrow"},uploader:{done:"done",clear:"clear",add:"add_box",upload:"cloud_upload",removeQueue:"clear_all",removeUploaded:"done_all"}},s=(0,r.Z)({iconMapFn:null,__icons:{}},{set(e,t){const n={...e,rtl:!0===e.rtl};n.set=s.set,Object.assign(s.__icons,n)},install({$q:e,iconSet:t,ssrContext:n}){void 0!==e.config.iconMapFn&&(this.iconMapFn=e.config.iconMapFn),e.iconSet=this.__icons,(0,i.g)(e,"iconMapFn",(()=>this.iconMapFn),(e=>{this.iconMapFn=e})),!0===this.__installed?void 0!==t&&this.set(t):this.set(t||o)}}),a=s},1583:(e,t,n)=>{"use strict";n.d(t,{$:()=>T,Z:()=>R});n(6727);var r=n(1957),i=n(7506),o=(n(702),n(4124)),s=n(1384),a=n(899);const l=["sm","md","lg","xl"],{passive:u}=s.rU,c=(0,o.Z)({width:0,height:0,name:"xs",sizes:{sm:600,md:1024,lg:1440,xl:1920},lt:{sm:!0,md:!0,lg:!0,xl:!0},gt:{xs:!1,sm:!1,md:!1,lg:!1},xs:!0,sm:!1,md:!1,lg:!1,xl:!1},{setSizes:s.ZT,setDebounce:s.ZT,install({$q:e,onSSRHydrated:t}){if(e.screen=this,!0===this.__installed)return void(void 0!==e.config.screen&&(!1===e.config.screen.bodyClasses?document.body.classList.remove(`screen--${this.name}`):this.__update(!0)));const{visualViewport:n}=window,r=n||window,o=document.scrollingElement||document.documentElement,s=void 0===n||!0===i.Lp.is.mobile?()=>[Math.max(window.innerWidth,o.clientWidth),Math.max(window.innerHeight,o.clientHeight)]:()=>[n.width*n.scale+window.innerWidth-o.clientWidth,n.height*n.scale+window.innerHeight-o.clientHeight],c=void 0!==e.config.screen&&!0===e.config.screen.bodyClasses;this.__update=e=>{const[t,n]=s();if(n!==this.height&&(this.height=n),t!==this.width)this.width=t;else if(!0!==e)return;let r=this.sizes;this.gt.xs=t>=r.sm,this.gt.sm=t>=r.md,this.gt.md=t>=r.lg,this.gt.lg=t>=r.xl,this.lt.sm=t<r.sm,this.lt.md=t<r.md,this.lt.lg=t<r.lg,this.lt.xl=t<r.xl,this.xs=this.lt.sm,this.sm=!0===this.gt.xs&&!0===this.lt.md,this.md=!0===this.gt.sm&&!0===this.lt.lg,this.lg=!0===this.gt.md&&!0===this.lt.xl,this.xl=this.gt.lg,r=(!0===this.xs?"xs":!0===this.sm&&"sm")||!0===this.md&&"md"||!0===this.lg&&"lg"||"xl",r!==this.name&&(!0===c&&(document.body.classList.remove(`screen--${this.name}`),document.body.classList.add(`screen--${r}`)),this.name=r)};let h,d={},f=16;this.setSizes=e=>{l.forEach((t=>{void 0!==e[t]&&(d[t]=e[t])}))},this.setDebounce=e=>{f=e};const p=()=>{const e=getComputedStyle(document.body);e.getPropertyValue("--q-size-sm")&&l.forEach((t=>{this.sizes[t]=parseInt(e.getPropertyValue(`--q-size-${t}`),10)})),this.setSizes=e=>{l.forEach((t=>{e[t]&&(this.sizes[t]=e[t])})),this.__update(!0)},this.setDebounce=e=>{void 0!==h&&r.removeEventListener("resize",h,u),h=e>0?(0,a.Z)(this.__update,e):this.__update,r.addEventListener("resize",h,u)},this.setDebounce(f),Object.keys(d).length>0?(this.setSizes(d),d=void 0):this.__update(),!0===c&&"xs"===this.name&&document.body.classList.add("screen--xs")};!0===i.uX.value?t.push(p):p()}});n(8964);const h=(0,o.Z)({isActive:!1,mode:!1},{__media:void 0,set(e){h.mode=e,"auto"===e?(void 0===h.__media&&(h.__media=window.matchMedia("(prefers-color-scheme: dark)"),h.__updateMedia=()=>{h.set("auto")},h.__media.addListener(h.__updateMedia)),e=h.__media.matches):void 0!==h.__media&&(h.__media.removeListener(h.__updateMedia),h.__media=void 0),h.isActive=!0===e,document.body.classList.remove("body--"+(!0===e?"light":"dark")),document.body.classList.add("body--"+(!0===e?"dark":"light"))},toggle(){h.set(!1===h.isActive)},install({$q:e,onSSRHydrated:t,ssrContext:n}){const{dark:r}=e.config;if(e.dark=this,!0===this.__installed&&void 0===r)return;this.isActive=!0===r;const o=void 0!==r&&r;if(!0===i.uX.value){const e=e=>{this.__fromSSR=e},n=this.set;this.set=e,e(o),t.push((()=>{this.set=n,this.set(this.__fromSSR)}))}else this.set(o)}}),d=h;var f=n(5310),p=n(3558),m=n(7674),g=n(1705);function v(e){return!0===e.ios?"ios":!0===e.android?"android":void 0}function y({is:e,has:t,within:n},r){const i=[!0===e.desktop?"desktop":"mobile",(!1===t.touch?"no-":"")+"touch"];if(!0===e.mobile){const t=v(e);void 0!==t&&i.push("platform-"+t)}if(!0===e.nativeMobile){const t=e.nativeMobileWrapper;i.push(t),i.push("native-mobile"),!0!==e.ios||void 0!==r[t]&&!1===r[t].iosStatusBarPadding||i.push("q-ios-padding")}else!0===e.electron?i.push("electron"):!0===e.bex&&i.push("bex");return!0===n.iframe&&i.push("within-iframe"),i}function b(){const e=document.body.className;let t=e;void 0!==i.aG&&(t=t.replace("desktop","platform-ios mobile")),!0===i.Lp.has.touch&&(t=t.replace("no-touch","touch")),!0===i.Lp.within.iframe&&(t+=" within-iframe"),e!==t&&(document.body.className=t)}function w(e){for(const t in e)(0,m.Z)(t,e[t])}const _={install(e){if(!0!==this.__installed){if(!0===i.uX.value)b();else{const{$q:t}=e;void 0!==t.config.brand&&w(t.config.brand);const n=y(i.Lp,t.config);document.body.classList.add.apply(document.body.classList,n)}!0===i.Lp.is.ios&&document.body.addEventListener("touchstart",s.ZT),window.addEventListener("keydown",g.ZK,!0)}}};var S=n(2289),k=n(5439),I=n(7495),x=n(6254);const E=[i.ZP,_,d,c,f.Z,p.Z,S.Z];function T(e,t){const n=(0,r.ri)(e);n.config.globalProperties=t.config.globalProperties;const{reload:i,...o}=t._context;return Object.assign(n._context,o),n}function C(e,t){t.forEach((t=>{t.install(e),t.__installed=!0}))}function A(e,t,n){e.config.globalProperties.$q=n.$q,e.provide(k.Ng,n.$q),C(n,E),void 0!==t.components&&Object.values(t.components).forEach((t=>{!0===(0,x.Kn)(t)&&void 0!==t.name&&e.component(t.name,t)})),void 0!==t.directives&&Object.values(t.directives).forEach((t=>{!0===(0,x.Kn)(t)&&void 0!==t.name&&e.directive(t.name,t)})),void 0!==t.plugins&&C(n,Object.values(t.plugins).filter((e=>"function"===typeof e.install&&!1===E.includes(e)))),!0===i.uX.value&&(n.$q.onSSRHydrated=()=>{n.onSSRHydrated.forEach((e=>{e()})),n.$q.onSSRHydrated=()=>{}})}const R=function(e,t={}){const n={version:"2.7.7"};!1===I.Uf?(void 0!==t.config&&Object.assign(I.w6,t.config),n.config={...I.w6},(0,I.tP)()):n.config=t.config||{},A(e,t,{parentApp:e,$q:n,lang:t.lang,iconSet:t.iconSet,onSSRHydrated:[]})}},3558:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a,F:()=>i});n(8964);var r=n(4124);const i={isoName:"en-US",nativeName:"English (US)",label:{clear:"Clear",ok:"OK",cancel:"Cancel",close:"Close",set:"Set",select:"Select",reset:"Reset",remove:"Remove",update:"Update",create:"Create",search:"Search",filter:"Filter",refresh:"Refresh"},date:{days:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),daysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),firstDayOfWeek:0,format24h:!1,pluralDay:"days"},table:{noData:"No data available",noResults:"No matching records found",loading:"Loading...",selectedRecords:e=>1===e?"1 record selected.":(0===e?"No":e)+" records selected.",recordsPerPage:"Records per page:",allRows:"All",pagination:(e,t,n)=>e+"-"+t+" of "+n,columns:"Columns"},editor:{url:"URL",bold:"Bold",italic:"Italic",strikethrough:"Strikethrough",underline:"Underline",unorderedList:"Unordered List",orderedList:"Ordered List",subscript:"Subscript",superscript:"Superscript",hyperlink:"Hyperlink",toggleFullscreen:"Toggle Fullscreen",quote:"Quote",left:"Left align",center:"Center align",right:"Right align",justify:"Justify align",print:"Print",outdent:"Decrease indentation",indent:"Increase indentation",removeFormat:"Remove formatting",formatting:"Formatting",fontSize:"Font Size",align:"Align",hr:"Insert Horizontal Rule",undo:"Undo",redo:"Redo",heading1:"Heading 1",heading2:"Heading 2",heading3:"Heading 3",heading4:"Heading 4",heading5:"Heading 5",heading6:"Heading 6",paragraph:"Paragraph",code:"Code",size1:"Very small",size2:"A bit small",size3:"Normal",size4:"Medium-large",size5:"Big",size6:"Very big",size7:"Maximum",defaultFont:"Default Font",viewSource:"View Source"},tree:{noNodes:"No nodes available",noResults:"No matching nodes found"}};function o(){const e=!0===Array.isArray(navigator.languages)&&navigator.languages.length>0?navigator.languages[0]:navigator.language;if("string"===typeof e)return e.split(/[-_]/).map(((e,t)=>0===t?e.toLowerCase():t>1||e.length<4?e.toUpperCase():e[0].toUpperCase()+e.slice(1).toLowerCase())).join("-")}const s=(0,r.Z)({__langPack:{}},{getLocale:o,set(e=i,t){const n={...e,rtl:!0===e.rtl,getLocale:o};{const e=document.documentElement;e.setAttribute("dir",!0===n.rtl?"rtl":"ltr"),e.setAttribute("lang",n.isoName),n.set=s.set,Object.assign(s.__langPack,n),s.props=n,s.isoName=n.isoName,s.nativeName=n.nativeName}},install({$q:e,lang:t,ssrContext:n}){e.lang=s.__langPack,!0===this.__installed?void 0!==t&&this.set(t):this.set(t||i)}}),a=s},4328:(e,t,n)=>{"use strict";n.d(t,{Z:()=>O});n(6727);var r=n(499),i=n(9835),o=n(1957),s=n(2857),a=n(244),l=n(5987),u=n(2026);const c=(0,l.L)({name:"QAvatar",props:{...a.LU,fontSize:String,color:String,textColor:String,icon:String,square:Boolean,rounded:Boolean},setup(e,{slots:t}){const n=(0,a.ZP)(e),r=(0,i.Fl)((()=>"q-avatar"+(e.color?` bg-${e.color}`:"")+(e.textColor?` text-${e.textColor} q-chip--colored`:"")+(!0===e.square?" q-avatar--square":!0===e.rounded?" rounded-borders":""))),o=(0,i.Fl)((()=>e.fontSize?{fontSize:e.fontSize}:null));return()=>{const a=void 0!==e.icon?[(0,i.h)(s.Z,{name:e.icon})]:void 0;return(0,i.h)("div",{class:r.value,style:n.value},[(0,i.h)("div",{class:"q-avatar__content row flex-center overflow-hidden",style:o.value},(0,u.pf)(t.default,a))])}}});var h=n(4455),d=n(3940),f=(n(1384),n(6669)),p=n(1583),m=n(6254);let g=0;const v={},y={},b={},w={},_=/^\s*$/,S=[],k=["top-left","top-right","bottom-left","bottom-right","top","bottom","left","right","center"],I=["top-left","top-right","bottom-left","bottom-right"],x={positive:{icon:e=>e.iconSet.type.positive,color:"positive"},negative:{icon:e=>e.iconSet.type.negative,color:"negative"},warning:{icon:e=>e.iconSet.type.warning,color:"warning",textColor:"dark"},info:{icon:e=>e.iconSet.type.info,color:"info"},ongoing:{group:!1,timeout:0,spinner:!0,color:"grey-8"}};function E(e,t,n){if(!e)return A("parameter required");let i;const o={textColor:"white"};if(!0!==e.ignoreDefaults&&Object.assign(o,v),!1===(0,m.Kn)(e)&&(o.type&&Object.assign(o,x[o.type]),e={message:e}),Object.assign(o,x[e.type||o.type],e),"function"===typeof o.icon&&(o.icon=o.icon(t)),o.spinner?(!0===o.spinner&&(o.spinner=d.Z),o.spinner=(0,r.Xl)(o.spinner)):o.spinner=!1,o.meta={hasMedia:Boolean(!1!==o.spinner||o.icon||o.avatar),hasText:C(o.message)||C(o.caption)},o.position){if(!1===k.includes(o.position))return A("wrong position",e)}else o.position="bottom";if(void 0===o.timeout)o.timeout=5e3;else{const t=parseInt(o.timeout,10);if(isNaN(t)||t<0)return A("wrong timeout",e);o.timeout=t}0===o.timeout?o.progress=!1:!0===o.progress&&(o.meta.progressClass="q-notification__progress"+(o.progressClass?` ${o.progressClass}`:""),o.meta.progressStyle={animationDuration:`${o.timeout+1e3}ms`});const s=(!0===Array.isArray(e.actions)?e.actions:[]).concat(!0!==e.ignoreDefaults&&!0===Array.isArray(v.actions)?v.actions:[]).concat(void 0!==x[e.type]&&!0===Array.isArray(x[e.type].actions)?x[e.type].actions:[]),{closeBtn:a}=o;if(a&&s.push({label:"string"===typeof a?a:t.lang.label.close}),o.actions=s.map((({handler:e,noDismiss:t,...n})=>({flat:!0,...n,onClick:"function"===typeof e?()=>{e(),!0!==t&&l()}:()=>{l()}}))),void 0===o.multiLine&&(o.multiLine=o.actions.length>1),Object.assign(o.meta,{class:"q-notification row items-stretch q-notification--"+(!0===o.multiLine?"multi-line":"standard")+(void 0!==o.color?` bg-${o.color}`:"")+(void 0!==o.textColor?` text-${o.textColor}`:"")+(void 0!==o.classes?` ${o.classes}`:""),wrapperClass:"q-notification__wrapper col relative-position border-radius-inherit "+(!0===o.multiLine?"column no-wrap justify-center":"row items-center"),contentClass:"q-notification__content row items-center"+(!0===o.multiLine?"":" col"),leftClass:!0===o.meta.hasText?"additional":"single",attrs:{role:"alert",...o.attrs}}),!1===o.group?(o.group=void 0,o.meta.group=void 0):(void 0!==o.group&&!0!==o.group||(o.group=[o.message,o.caption,o.multiline].concat(o.actions.map((e=>`${e.label}*${e.icon}`))).join("|")),o.meta.group=o.group+"|"+o.position),0===o.actions.length?o.actions=void 0:o.meta.actionsClass="q-notification__actions row items-center "+(!0===o.multiLine?"justify-end":"col-auto")+(!0===o.meta.hasMedia?" q-notification__actions--with-media":""),void 0!==n){clearTimeout(n.notif.meta.timer),o.meta.uid=n.notif.meta.uid;const e=b[o.position].value.indexOf(n.notif);b[o.position].value[e]=o}else{const t=y[o.meta.group];if(void 0===t){if(o.meta.uid=g++,o.meta.badge=1,-1!==["left","right","center"].indexOf(o.position))b[o.position].value.splice(Math.floor(b[o.position].value.length/2),0,o);else{const e=o.position.indexOf("top")>-1?"unshift":"push";b[o.position].value[e](o)}void 0!==o.group&&(y[o.meta.group]=o)}else{if(clearTimeout(t.meta.timer),void 0!==o.badgePosition){if(!1===I.includes(o.badgePosition))return A("wrong badgePosition",e)}else o.badgePosition="top-"+(o.position.indexOf("left")>-1?"right":"left");o.meta.uid=t.meta.uid,o.meta.badge=t.meta.badge+1,o.meta.badgeClass=`q-notification__badge q-notification__badge--${o.badgePosition}`+(void 0!==o.badgeColor?` bg-${o.badgeColor}`:"")+(void 0!==o.badgeTextColor?` text-${o.badgeTextColor}`:"")+(o.badgeClass?` ${o.badgeClass}`:"");const n=b[o.position].value.indexOf(t);b[o.position].value[n]=y[o.meta.group]=o}}const l=()=>{T(o),i=void 0};return o.timeout>0&&(o.meta.timer=setTimeout((()=>{l()}),o.timeout+1e3)),void 0!==o.group?t=>{void 0!==t?A("trying to update a grouped one which is forbidden",e):l()}:(i={dismiss:l,config:e,notif:o},void 0===n?e=>{if(void 0!==i)if(void 0===e)i.dismiss();else{const n=Object.assign({},i.config,e,{group:!1,position:o.position});E(n,t,i)}}:void Object.assign(n,i))}function T(e){clearTimeout(e.meta.timer);const t=b[e.position].value.indexOf(e);if(-1!==t){void 0!==e.group&&delete y[e.meta.group];const n=S[""+e.meta.uid];if(n){const{width:e,height:t}=getComputedStyle(n);n.style.left=`${n.offsetLeft}px`,n.style.width=e,n.style.height=t}b[e.position].value.splice(t,1),"function"===typeof e.onDismiss&&e.onDismiss()}}function C(e){return void 0!==e&&null!==e&&!0!==_.test(e)}function A(e,t){return console.error(`Notify: ${e}`,t),!1}function R(){return(0,l.L)({name:"QNotifications",devtools:{hide:!0},setup(){return()=>(0,i.h)("div",{class:"q-notifications"},k.map((e=>(0,i.h)(o.W3,{key:e,class:w[e],tag:"div",name:`q-notification--${e}`},(()=>b[e].value.map((e=>{const t=e.meta,n=[];if(!0===t.hasMedia&&(!1!==e.spinner?n.push((0,i.h)(e.spinner,{class:"q-notification__spinner q-notification__spinner--"+t.leftClass,color:e.spinnerColor,size:e.spinnerSize})):e.icon?n.push((0,i.h)(s.Z,{class:"q-notification__icon q-notification__icon--"+t.leftClass,name:e.icon,color:e.iconColor,size:e.iconSize,role:"img"})):e.avatar&&n.push((0,i.h)(c,{class:"q-notification__avatar q-notification__avatar--"+t.leftClass},(()=>(0,i.h)("img",{src:e.avatar,"aria-hidden":"true"}))))),!0===t.hasText){let t;const r={class:"q-notification__message col"};if(!0===e.html)r.innerHTML=e.caption?`<div>${e.message}</div><div class="q-notification__caption">${e.caption}</div>`:e.message;else{const n=[e.message];t=e.caption?[(0,i.h)("div",n),(0,i.h)("div",{class:"q-notification__caption"},[e.caption])]:n}n.push((0,i.h)("div",r,t))}const r=[(0,i.h)("div",{class:t.contentClass},n)];return!0===e.progress&&r.push((0,i.h)("div",{key:`${t.uid}|p|${t.badge}`,class:t.progressClass,style:t.progressStyle})),void 0!==e.actions&&r.push((0,i.h)("div",{class:t.actionsClass},e.actions.map((e=>(0,i.h)(h.Z,e))))),t.badge>1&&r.push((0,i.h)("div",{key:`${t.uid}|${t.badge}`,class:e.meta.badgeClass,style:e.badgeStyle},[t.badge])),(0,i.h)("div",{ref:e=>{S[""+t.uid]=e},key:t.uid,class:t.class,...t.attrs},[(0,i.h)("div",{class:t.wrapperClass},r)])})))))))}})}const O={setDefaults(e){!0===(0,m.Kn)(e)&&Object.assign(v,e)},registerType(e,t){!0===(0,m.Kn)(t)&&(x[e]=t)},install({$q:e,parentApp:t}){if(e.notify=this.create=t=>E(t,e),e.notify.setDefaults=this.setDefaults,e.notify.registerType=this.registerType,void 0!==e.config.notify&&this.setDefaults(e.config.notify),!0!==this.__installed){k.forEach((e=>{b[e]=(0,r.iH)([]);const t=!0===["left","center","right"].includes(e)?"center":e.indexOf("top")>-1?"top":"bottom",n=e.indexOf("left")>-1?"start":e.indexOf("right")>-1?"end":"center",i=["left","right"].includes(e)?`items-${"left"===e?"start":"end"} justify-center`:"center"===e?"flex-center":`items-${n}`;w[e]=`q-notifications__list q-notifications__list--${t} fixed column no-wrap ${i}`}));const e=(0,f.q_)("q-notify");(0,p.$)(R(),t).mount(e)}}}},7506:(e,t,n)=>{"use strict";n.d(t,{Lp:()=>m,ZP:()=>v,aG:()=>s,uX:()=>o});var r=n(499),i=n(3251);const o=(0,r.iH)(!1);let s,a=!1;function l(e,t){const n=/(edg|edge|edga|edgios)\/([\w.]+)/.exec(e)||/(opr)[\/]([\w.]+)/.exec(e)||/(vivaldi)[\/]([\w.]+)/.exec(e)||/(chrome|crios)[\/]([\w.]+)/.exec(e)||/(version)(applewebkit)[\/]([\w.]+).*(safari)[\/]([\w.]+)/.exec(e)||/(webkit)[\/]([\w.]+).*(version)[\/]([\w.]+).*(safari)[\/]([\w.]+)/.exec(e)||/(firefox|fxios)[\/]([\w.]+)/.exec(e)||/(webkit)[\/]([\w.]+)/.exec(e)||/(opera)(?:.*version|)[\/]([\w.]+)/.exec(e)||[];return{browser:n[5]||n[3]||n[1]||"",version:n[2]||n[4]||"0",versionNumber:n[4]||n[2]||"0",platform:t[0]||""}}function u(e){return/(ipad)/.exec(e)||/(ipod)/.exec(e)||/(windows phone)/.exec(e)||/(iphone)/.exec(e)||/(kindle)/.exec(e)||/(silk)/.exec(e)||/(android)/.exec(e)||/(win)/.exec(e)||/(mac)/.exec(e)||/(linux)/.exec(e)||/(cros)/.exec(e)||/(playbook)/.exec(e)||/(bb)/.exec(e)||/(blackberry)/.exec(e)||[]}const c="ontouchstart"in window||window.navigator.maxTouchPoints>0;function h(e){s={is:{...e}},delete e.mac,delete e.desktop;const t=Math.min(window.innerHeight,window.innerWidth)>414?"ipad":"iphone";Object.assign(e,{mobile:!0,ios:!0,platform:t,[t]:!0})}function d(e){const t=e.toLowerCase(),n=u(t),r=l(t,n),i={};r.browser&&(i[r.browser]=!0,i.version=r.version,i.versionNumber=parseInt(r.versionNumber,10)),r.platform&&(i[r.platform]=!0);const o=i.android||i.ios||i.bb||i.blackberry||i.ipad||i.iphone||i.ipod||i.kindle||i.playbook||i.silk||i["windows phone"];return!0===o||t.indexOf("mobile")>-1?(i.mobile=!0,i.edga||i.edgios?(i.edge=!0,r.browser="edge"):i.crios?(i.chrome=!0,r.browser="chrome"):i.fxios&&(i.firefox=!0,r.browser="firefox")):i.desktop=!0,(i.ipod||i.ipad||i.iphone)&&(i.ios=!0),i["windows phone"]&&(i.winphone=!0,delete i["windows phone"]),(i.chrome||i.opr||i.safari||i.vivaldi||!0===i.mobile&&!0!==i.ios&&!0!==o)&&(i.webkit=!0),i.edg&&(r.browser="edgechromium",i.edgeChromium=!0),(i.safari&&i.blackberry||i.bb)&&(r.browser="blackberry",i.blackberry=!0),i.safari&&i.playbook&&(r.browser="playbook",i.playbook=!0),i.opr&&(r.browser="opera",i.opera=!0),i.safari&&i.android&&(r.browser="android",i.android=!0),i.safari&&i.kindle&&(r.browser="kindle",i.kindle=!0),i.safari&&i.silk&&(r.browser="silk",i.silk=!0),i.vivaldi&&(r.browser="vivaldi",i.vivaldi=!0),i.name=r.browser,i.platform=r.platform,t.indexOf("electron")>-1?i.electron=!0:document.location.href.indexOf("-extension://")>-1?i.bex=!0:(void 0!==window.Capacitor?(i.capacitor=!0,i.nativeMobile=!0,i.nativeMobileWrapper="capacitor"):void 0===window._cordovaNative&&void 0===window.cordova||(i.cordova=!0,i.nativeMobile=!0,i.nativeMobileWrapper="cordova"),!0===c&&!0===i.mac&&(!0===i.desktop&&!0===i.safari||!0===i.nativeMobile&&!0!==i.android&&!0!==i.ios&&!0!==i.ipad)&&h(i)),i}const f=navigator.userAgent||navigator.vendor||window.opera,p={has:{touch:!1,webStorage:!1},within:{iframe:!1}},m={userAgent:f,is:d(f),has:{touch:c},within:{iframe:window.self!==window.top}},g={install(e){const{$q:t}=e;!0===o.value?(e.onSSRHydrated.push((()=>{o.value=!1,Object.assign(t.platform,m),s=void 0})),t.platform=(0,r.qj)(this)):t.platform=this}};{let e;(0,i.g)(m.has,"webStorage",(()=>{if(void 0!==e)return e;try{if(window.localStorage)return e=!0,!0}catch(t){}return e=!1,!1})),a=!0===m.is.ios&&-1===window.navigator.vendor.toLowerCase().indexOf("apple"),!0===o.value?Object.assign(g,m,s,p):Object.assign(g,m)}const v=g},4170:(e,t,n)=>{"use strict";n.d(t,{Ug:()=>w,bK:()=>g,p6:()=>I});n(8964),n(6822),n(6254);var r=n(321),i=n(3941),o=n(3558);const s=864e5,a=36e5,l=6e4,u="YYYY-MM-DDTHH:mm:ss.SSSZ",c=/\[((?:[^\]\\]|\\]|\\)*)\]|d{1,4}|M{1,4}|m{1,2}|w{1,2}|Qo|Do|D{1,4}|YY(?:YY)?|H{1,2}|h{1,2}|s{1,2}|S{1,3}|Z{1,2}|a{1,2}|[AQExX]/g,h=/(\[[^\]]*\])|d{1,4}|M{1,4}|m{1,2}|w{1,2}|Qo|Do|D{1,4}|YY(?:YY)?|H{1,2}|h{1,2}|s{1,2}|S{1,3}|Z{1,2}|a{1,2}|[AQExX]|([.*+:?^,\s${}()|\\]+)/g,d={};function f(e,t){const n="("+t.days.join("|")+")",r=e+n;if(void 0!==d[r])return d[r];const i="("+t.daysShort.join("|")+")",o="("+t.months.join("|")+")",s="("+t.monthsShort.join("|")+")",a={};let l=0;const u=e.replace(h,(e=>{switch(l++,e){case"YY":return a.YY=l,"(-?\\d{1,2})";case"YYYY":return a.YYYY=l,"(-?\\d{1,4})";case"M":return a.M=l,"(\\d{1,2})";case"MM":return a.M=l,"(\\d{2})";case"MMM":return a.MMM=l,s;case"MMMM":return a.MMMM=l,o;case"D":return a.D=l,"(\\d{1,2})";case"Do":return a.D=l++,"(\\d{1,2}(st|nd|rd|th))";case"DD":return a.D=l,"(\\d{2})";case"H":return a.H=l,"(\\d{1,2})";case"HH":return a.H=l,"(\\d{2})";case"h":return a.h=l,"(\\d{1,2})";case"hh":return a.h=l,"(\\d{2})";case"m":return a.m=l,"(\\d{1,2})";case"mm":return a.m=l,"(\\d{2})";case"s":return a.s=l,"(\\d{1,2})";case"ss":return a.s=l,"(\\d{2})";case"S":return a.S=l,"(\\d{1})";case"SS":return a.S=l,"(\\d{2})";case"SSS":return a.S=l,"(\\d{3})";case"A":return a.A=l,"(AM|PM)";case"a":return a.a=l,"(am|pm)";case"aa":return a.aa=l,"(a\\.m\\.|p\\.m\\.)";case"ddd":return i;case"dddd":return n;case"Q":case"d":case"E":return"(\\d{1})";case"Qo":return"(1st|2nd|3rd|4th)";case"DDD":case"DDDD":return"(\\d{1,3})";case"w":return"(\\d{1,2})";case"ww":return"(\\d{2})";case"Z":return a.Z=l,"(Z|[+-]\\d{2}:\\d{2})";case"ZZ":return a.ZZ=l,"(Z|[+-]\\d{2}\\d{2})";case"X":return a.X=l,"(-?\\d+)";case"x":return a.x=l,"(-?\\d{4,})";default:return l--,"["===e[0]&&(e=e.substring(1,e.length-1)),e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}})),c={map:a,regex:new RegExp("^"+u)};return d[r]=c,c}function p(e,t){return void 0!==e?e:void 0!==t?t.date:o.F.date}function m(e,t=""){const n=e>0?"-":"+",i=Math.abs(e),o=Math.floor(i/60),s=i%60;return n+(0,r.vk)(o)+t+(0,r.vk)(s)}function g(e,t,n,s,a){const l={year:null,month:null,day:null,hour:null,minute:null,second:null,millisecond:null,timezoneOffset:null,dateHash:null,timeHash:null};if(void 0!==a&&Object.assign(l,a),void 0===e||null===e||""===e||"string"!==typeof e)return l;void 0===t&&(t=u);const c=p(n,o.Z.props),h=c.months,d=c.monthsShort,{regex:m,map:g}=f(t,c),v=e.match(m);if(null===v)return l;let y="";if(void 0!==g.X||void 0!==g.x){const e=parseInt(v[void 0!==g.X?g.X:g.x],10);if(!0===isNaN(e)||e<0)return l;const t=new Date(e*(void 0!==g.X?1e3:1));l.year=t.getFullYear(),l.month=t.getMonth()+1,l.day=t.getDate(),l.hour=t.getHours(),l.minute=t.getMinutes(),l.second=t.getSeconds(),l.millisecond=t.getMilliseconds()}else{if(void 0!==g.YYYY)l.year=parseInt(v[g.YYYY],10);else if(void 0!==g.YY){const e=parseInt(v[g.YY],10);l.year=e<0?e:2e3+e}if(void 0!==g.M){if(l.month=parseInt(v[g.M],10),l.month<1||l.month>12)return l}else void 0!==g.MMM?l.month=d.indexOf(v[g.MMM])+1:void 0!==g.MMMM&&(l.month=h.indexOf(v[g.MMMM])+1);if(void 0!==g.D){if(l.day=parseInt(v[g.D],10),null===l.year||null===l.month||l.day<1)return l;const e="persian"!==s?new Date(l.year,l.month,0).getDate():(0,i.qM)(l.year,l.month);if(l.day>e)return l}void 0!==g.H?l.hour=parseInt(v[g.H],10)%24:void 0!==g.h&&(l.hour=parseInt(v[g.h],10)%12,(g.A&&"PM"===v[g.A]||g.a&&"pm"===v[g.a]||g.aa&&"p.m."===v[g.aa])&&(l.hour+=12),l.hour=l.hour%24),void 0!==g.m&&(l.minute=parseInt(v[g.m],10)%60),void 0!==g.s&&(l.second=parseInt(v[g.s],10)%60),void 0!==g.S&&(l.millisecond=parseInt(v[g.S],10)*10**(3-v[g.S].length)),void 0===g.Z&&void 0===g.ZZ||(y=void 0!==g.Z?v[g.Z].replace(":",""):v[g.ZZ],l.timezoneOffset=("+"===y[0]?-1:1)*(60*y.slice(1,3)+1*y.slice(3,5)))}return l.dateHash=(0,r.vk)(l.year,6)+"/"+(0,r.vk)(l.month)+"/"+(0,r.vk)(l.day),l.timeHash=(0,r.vk)(l.hour)+":"+(0,r.vk)(l.minute)+":"+(0,r.vk)(l.second)+y,l}function v(e){const t=new Date(e.getFullYear(),e.getMonth(),e.getDate());t.setDate(t.getDate()-(t.getDay()+6)%7+3);const n=new Date(t.getFullYear(),0,4);n.setDate(n.getDate()-(n.getDay()+6)%7+3);const r=t.getTimezoneOffset()-n.getTimezoneOffset();t.setHours(t.getHours()-r);const i=(t-n)/(7*s);return 1+Math.floor(i)}function y(e,t,n){const r=new Date(e),i="set"+(!0===n?"UTC":"");switch(t){case"year":case"years":r[`${i}Month`](0);case"month":case"months":r[`${i}Date`](1);case"day":case"days":case"date":r[`${i}Hours`](0);case"hour":case"hours":r[`${i}Minutes`](0);case"minute":case"minutes":r[`${i}Seconds`](0);case"second":case"seconds":r[`${i}Milliseconds`](0)}return r}function b(e,t,n){return(e.getTime()-e.getTimezoneOffset()*l-(t.getTime()-t.getTimezoneOffset()*l))/n}function w(e,t,n="days"){const r=new Date(e),i=new Date(t);switch(n){case"years":case"year":return r.getFullYear()-i.getFullYear();case"months":case"month":return 12*(r.getFullYear()-i.getFullYear())+r.getMonth()-i.getMonth();case"days":case"day":case"date":return b(y(r,"day"),y(i,"day"),s);case"hours":case"hour":return b(y(r,"hour"),y(i,"hour"),a);case"minutes":case"minute":return b(y(r,"minute"),y(i,"minute"),l);case"seconds":case"second":return b(y(r,"second"),y(i,"second"),1e3)}}function _(e){return w(e,y(e,"year"),"days")+1}function S(e){if(e>=11&&e<=13)return`${e}th`;switch(e%10){case 1:return`${e}st`;case 2:return`${e}nd`;case 3:return`${e}rd`}return`${e}th`}const k={YY(e,t,n){const i=this.YYYY(e,t,n)%100;return i>=0?(0,r.vk)(i):"-"+(0,r.vk)(Math.abs(i))},YYYY(e,t,n){return void 0!==n&&null!==n?n:e.getFullYear()},M(e){return e.getMonth()+1},MM(e){return(0,r.vk)(e.getMonth()+1)},MMM(e,t){return t.monthsShort[e.getMonth()]},MMMM(e,t){return t.months[e.getMonth()]},Q(e){return Math.ceil((e.getMonth()+1)/3)},Qo(e){return S(this.Q(e))},D(e){return e.getDate()},Do(e){return S(e.getDate())},DD(e){return(0,r.vk)(e.getDate())},DDD(e){return _(e)},DDDD(e){return(0,r.vk)(_(e),3)},d(e){return e.getDay()},dd(e,t){return this.dddd(e,t).slice(0,2)},ddd(e,t){return t.daysShort[e.getDay()]},dddd(e,t){return t.days[e.getDay()]},E(e){return e.getDay()||7},w(e){return v(e)},ww(e){return(0,r.vk)(v(e))},H(e){return e.getHours()},HH(e){return(0,r.vk)(e.getHours())},h(e){const t=e.getHours();return 0===t?12:t>12?t%12:t},hh(e){return(0,r.vk)(this.h(e))},m(e){return e.getMinutes()},mm(e){return(0,r.vk)(e.getMinutes())},s(e){return e.getSeconds()},ss(e){return(0,r.vk)(e.getSeconds())},S(e){return Math.floor(e.getMilliseconds()/100)},SS(e){return(0,r.vk)(Math.floor(e.getMilliseconds()/10))},SSS(e){return(0,r.vk)(e.getMilliseconds(),3)},A(e){return this.H(e)<12?"AM":"PM"},a(e){return this.H(e)<12?"am":"pm"},aa(e){return this.H(e)<12?"a.m.":"p.m."},Z(e,t,n,r){const i=void 0===r||null===r?e.getTimezoneOffset():r;return m(i,":")},ZZ(e,t,n,r){const i=void 0===r||null===r?e.getTimezoneOffset():r;return m(i)},X(e){return Math.floor(e.getTime()/1e3)},x(e){return e.getTime()}};function I(e,t,n,r,i){if(0!==e&&!e||e===1/0||e===-1/0)return;const s=new Date(e);if(isNaN(s))return;void 0===t&&(t=u);const a=p(n,o.Z.props);return t.replace(c,((e,t)=>e in k?k[e](s,a,r,i):void 0===t?e:t.split("\\]").join("]")))}},899:(e,t,n)=>{"use strict";function r(e,t=250,n){let r;function i(){const i=arguments,o=()=>{r=void 0,!0!==n&&e.apply(this,i)};clearTimeout(r),!0===n&&void 0===r&&e.apply(this,i),r=setTimeout(o,t)}return i.cancel=()=>{clearTimeout(r)},i}n.d(t,{Z:()=>r})},223:(e,t,n)=>{"use strict";n.d(t,{iv:()=>i,mY:()=>s,sb:()=>o});var r=n(499);function i(e,t){const n=e.style;for(const r in t)n[r]=t[r]}function o(e){if(void 0===e||null===e)return;if("string"===typeof e)try{return document.querySelector(e)||void 0}catch(n){return}const t=!0===(0,r.dq)(e)?e.value:e;return t?t.$el||t:void 0}function s(e,t){if(void 0===e||null===e||!0===e.contains(t))return!0;for(let n=e.nextElementSibling;null!==n;n=n.nextElementSibling)if(n.contains(t))return!0;return!1}},1384:(e,t,n)=>{"use strict";n.d(t,{AZ:()=>a,FK:()=>s,Jf:()=>h,M0:()=>d,NS:()=>c,X$:()=>u,ZT:()=>i,du:()=>o,rU:()=>r,sT:()=>l,ul:()=>f});n(702);const r={hasPassive:!1,passiveCapture:!0,notPassiveCapture:!0};try{const e=Object.defineProperty({},"passive",{get(){Object.assign(r,{hasPassive:!0,passive:{passive:!0},notPassive:{passive:!1},passiveCapture:{passive:!0,capture:!0},notPassiveCapture:{passive:!1,capture:!0}})}});window.addEventListener("qtest",null,e),window.removeEventListener("qtest",null,e)}catch(p){}function i(){}function o(e){return 0===e.button}function s(e){return e.touches&&e.touches[0]?e=e.touches[0]:e.changedTouches&&e.changedTouches[0]?e=e.changedTouches[0]:e.targetTouches&&e.targetTouches[0]&&(e=e.targetTouches[0]),{top:e.clientY,left:e.clientX}}function a(e){if(e.path)return e.path;if(e.composedPath)return e.composedPath();const t=[];let n=e.target;while(n){if(t.push(n),"HTML"===n.tagName)return t.push(document),t.push(window),t;n=n.parentElement}}function l(e){e.stopPropagation()}function u(e){!1!==e.cancelable&&e.preventDefault()}function c(e){!1!==e.cancelable&&e.preventDefault(),e.stopPropagation()}function h(e,t){if(void 0===e||!0===t&&!0===e.__dragPrevented)return;const n=!0===t?e=>{e.__dragPrevented=!0,e.addEventListener("dragstart",u,r.notPassiveCapture)}:e=>{delete e.__dragPrevented,e.removeEventListener("dragstart",u,r.notPassiveCapture)};e.querySelectorAll("a, img").forEach(n)}function d(e,t,n){const i=`__q_${t}_evt`;e[i]=void 0!==e[i]?e[i].concat(n):n,n.forEach((t=>{t[0].addEventListener(t[1],e[t[2]],r[t[3]])}))}function f(e,t){const n=`__q_${t}_evt`;void 0!==e[n]&&(e[n].forEach((t=>{t[0].removeEventListener(t[1],e[t[2]],r[t[3]])})),e[n]=void 0)}},321:(e,t,n)=>{"use strict";n.d(t,{Uz:()=>o,kC:()=>r,vX:()=>i,vk:()=>s});function r(e){return e.charAt(0).toUpperCase()+e.slice(1)}function i(e,t,n){return n<=t?t:Math.min(n,Math.max(t,e))}function o(e,t,n){if(n<=t)return t;const r=n-t+1;let i=t+(e-t)%r;return i<t&&(i=r+i),0===i?0:i}function s(e,t=2,n="0"){if(void 0===e||null===e)return e;const r=""+e;return r.length>=t?r:new Array(t-r.length+1).join(n)+r}},5987:(e,t,n)=>{"use strict";n.d(t,{L:()=>o,f:()=>s});var r=n(499),i=n(9835);const o=e=>(0,r.Xl)((0,i.aZ)(e)),s=e=>(0,r.Xl)(e)},3941:(e,t,n)=>{"use strict";n.d(t,{nG:()=>i,qJ:()=>o,qM:()=>a});n(6822);const r=[-61,9,38,199,426,686,756,818,1111,1181,1210,1635,2060,2097,2192,2262,2324,2394,2456,3178];function i(e,t,n){return"[object Date]"===Object.prototype.toString.call(e)&&(n=e.getDate(),t=e.getMonth()+1,e=e.getFullYear()),h(d(e,t,n))}function o(e,t,n){return f(c(e,t,n))}function s(e){return 0===l(e)}function a(e,t){return t<=6?31:t<=11||s(e)?30:29}function l(e){const t=r.length;let n,i,o,s,a,l=r[0];if(e<l||e>=r[t-1])throw new Error("Invalid Jalaali year "+e);for(a=1;a<t;a+=1){if(n=r[a],i=n-l,e<n)break;l=n}return s=e-l,i-s<6&&(s=s-i+33*p(i+4,33)),o=m(m(s+1,33)-1,4),-1===o&&(o=4),o}function u(e,t){const n=r.length,i=e+621;let o,s,a,l,u,c=-14,h=r[0];if(e<h||e>=r[n-1])throw new Error("Invalid Jalaali year "+e);for(u=1;u<n;u+=1){if(o=r[u],s=o-h,e<o)break;c=c+8*p(s,33)+p(m(s,33),4),h=o}l=e-h,c=c+8*p(l,33)+p(m(l,33)+3,4),4===m(s,33)&&s-l===4&&(c+=1);const d=p(i,4)-p(3*(p(i,100)+1),4)-150,f=20+c-d;return t||(s-l<6&&(l=l-s+33*p(s+4,33)),a=m(m(l+1,33)-1,4),-1===a&&(a=4)),{leap:a,gy:i,march:f}}function c(e,t,n){const r=u(e,!0);return d(r.gy,3,r.march)+31*(t-1)-p(t,7)*(t-7)+n-1}function h(e){const t=f(e).gy;let n,r,i,o=t-621;const s=u(o,!1),a=d(t,3,s.march);if(i=e-a,i>=0){if(i<=185)return r=1+p(i,31),n=m(i,31)+1,{jy:o,jm:r,jd:n};i-=186}else o-=1,i+=179,1===s.leap&&(i+=1);return r=7+p(i,30),n=m(i,30)+1,{jy:o,jm:r,jd:n}}function d(e,t,n){let r=p(1461*(e+p(t-8,6)+100100),4)+p(153*m(t+9,12)+2,5)+n-34840408;return r=r-p(3*p(e+100100+p(t-8,6),100),4)+752,r}function f(e){let t=4*e+139361631;t=t+4*p(3*p(4*e+183187720,146097),4)-3908;const n=5*p(m(t,1461),4)+308,r=p(m(n,153),5)+1,i=m(p(n,153),12)+1,o=p(t,1461)-100100+p(8-i,6);return{gy:o,gm:i,gd:r}}function p(e,t){return~~(e/t)}function m(e,t){return e-~~(e/t)*t}},4124:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o});var r=n(499),i=n(3251);const o=(e,t)=>{const n=(0,r.qj)(e);for(const r in e)(0,i.g)(t,r,(()=>n[r]),(e=>{n[r]=e}));return t}},6532:(e,t,n)=>{"use strict";n.d(t,{c:()=>h,k:()=>d});var r=n(7506),i=n(1705);const o=[];let s;function a(e){s=27===e.keyCode}function l(){!0===s&&(s=!1)}function u(e){!0===s&&(s=!1,!0===(0,i.So)(e,27)&&o[o.length-1](e))}function c(e){window[e]("keydown",a),window[e]("blur",l),window[e]("keyup",u),s=!1}function h(e){!0===r.Lp.is.desktop&&(o.push(e),1===o.length&&c("addEventListener"))}function d(e){const t=o.indexOf(e);t>-1&&(o.splice(t,1),0===o.length&&c("removeEventListener"))}},7026:(e,t,n)=>{"use strict";n.d(t,{YX:()=>s,fP:()=>u,jd:()=>l,xF:()=>a});let r=[],i=[];function o(e){i=i.filter((t=>t!==e))}function s(e){o(e),i.push(e)}function a(e){o(e),0===i.length&&r.length>0&&(r[r.length-1](),r=[])}function l(e){0===i.length?e():r.push(e)}function u(e){r=r.filter((t=>t!==e))}},4173:(e,t,n)=>{"use strict";n.d(t,{H:()=>a,i:()=>s});var r=n(7506);const i=[];function o(e){i[i.length-1](e)}function s(e){!0===r.Lp.is.desktop&&(i.push(e),1===i.length&&document.body.addEventListener("focusin",o))}function a(e){const t=i.indexOf(e);t>-1&&(i.splice(t,1),0===i.length&&document.body.removeEventListener("focusin",o))}},7495:(e,t,n)=>{"use strict";n.d(t,{Uf:()=>i,tP:()=>o,w6:()=>r});const r={};let i=!1;function o(){i=!0}},6669:(e,t,n)=>{"use strict";n.d(t,{pB:()=>a,q_:()=>s});var r=n(7495);const i=[];let o=document.body;function s(e){const t=document.createElement("div");if(void 0!==e&&(t.id=e),void 0!==r.w6.globalNodes){const e=r.w6.globalNodes["class"];void 0!==e&&(t.className=e)}return o.appendChild(t),i.push(t),t}function a(e){i.splice(i.indexOf(e),1),e.remove()}},3251:(e,t,n)=>{"use strict";function r(e,t,n,r){Object.defineProperty(e,t,{get:n,set:r,enumerable:!0})}function i(e,t){for(const n in t)r(e,n,t[n])}n.d(t,{K:()=>i,g:()=>r})},6254:(e,t,n)=>{"use strict";n.d(t,{J_:()=>l,Kn:()=>a,hj:()=>u,xb:()=>s});n(702),n(3122);const r="function"===typeof Map,i="function"===typeof Set,o="function"===typeof ArrayBuffer;function s(e,t){if(e===t)return!0;if(null!==e&&null!==t&&"object"===typeof e&&"object"===typeof t){if(e.constructor!==t.constructor)return!1;let n,a;if(e.constructor===Array){if(n=e.length,n!==t.length)return!1;for(a=n;0!==a--;)if(!0!==s(e[a],t[a]))return!1;return!0}if(!0===r&&e.constructor===Map){if(e.size!==t.size)return!1;a=e.entries().next();while(!0!==a.done){if(!0!==t.has(a.value[0]))return!1;a=a.next()}a=e.entries().next();while(!0!==a.done){if(!0!==s(a.value[1],t.get(a.value[0])))return!1;a=a.next()}return!0}if(!0===i&&e.constructor===Set){if(e.size!==t.size)return!1;a=e.entries().next();while(!0!==a.done){if(!0!==t.has(a.value[0]))return!1;a=a.next()}return!0}if(!0===o&&null!=e.buffer&&e.buffer.constructor===ArrayBuffer){if(n=e.length,n!==t.length)return!1;for(a=n;0!==a--;)if(e[a]!==t[a])return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===t.toString();const l=Object.keys(e).filter((t=>void 0!==e[t]));if(n=l.length,n!==Object.keys(t).filter((e=>void 0!==t[e])).length)return!1;for(a=n;0!==a--;){const n=l[a];if(!0!==s(e[n],t[n]))return!1}return!0}return e!==e&&t!==t}function a(e){return null!==e&&"object"===typeof e&&!0!==Array.isArray(e)}function l(e){return"[object Date]"===Object.prototype.toString.call(e)}function u(e){return"number"===typeof e&&isFinite(e)}},1705:(e,t,n)=>{"use strict";n.d(t,{So:()=>s,Wm:()=>o,ZK:()=>i});n(6727);let r=!1;function i(e){r=!0===e.isComposing}function o(e){return!0===r||e!==Object(e)||!0===e.isComposing||!0===e.qKeyEvent}function s(e,t){return!0!==o(e)&&[].concat(t).includes(e.keyCode)}},9480:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});const r={xs:30,sm:35,md:40,lg:50,xl:60}},2909:(e,t,n)=>{"use strict";n.d(t,{AH:()=>s,HW:()=>o,S7:()=>a,wN:()=>i});var r=n(2046);const i=[];function o(e){return i.find((t=>null!==t.__qPortalInnerRef.value&&t.__qPortalInnerRef.value.contains(e)))}function s(e,t){do{if("QMenu"===e.$options.name){if(e.hide(t),!0===e.$props.separateClosePopup)return(0,r.Kq)(e)}else if(void 0!==e.__qPortalInnerRef){const n=(0,r.Kq)(e);return void 0!==n&&"QPopupProxy"===n.$options.name?(e.hide(t),n):e}e=(0,r.Kq)(e)}while(void 0!==e&&null!==e)}function a(e,t,n){while(0!==n&&void 0!==e&&null!==e){if(void 0!==e.__qPortalInnerRef){if(n--,"QMenu"===e.$options.name){e=s(e,t);continue}e.hide(t)}e=(0,r.Kq)(e)}}},2026:(e,t,n)=>{"use strict";n.d(t,{Bl:()=>o,Jl:()=>l,KR:()=>i,pf:()=>a,vs:()=>s});var r=n(9835);function i(e,t){return void 0!==e&&e()||t}function o(e,t){if(void 0!==e){const t=e();if(void 0!==t&&null!==t)return t.slice()}return t}function s(e,t){return void 0!==e?t.concat(e()):t}function a(e,t){return void 0===e?t:void 0!==t?t.concat(e()):e()}function l(e,t,n,i,o,s){t.key=i+o;const a=(0,r.h)(e,t,n);return!0===o?(0,r.wy)(a,s()):a}},8383:(e,t,n)=>{"use strict";n.d(t,{e:()=>r});let r=!1;{const e=document.createElement("div"),t=document.createElement("div");e.setAttribute("dir","rtl"),e.style.width="1px",e.style.height="1px",e.style.overflow="auto",t.style.width="1000px",t.style.height="1px",document.body.appendChild(e),e.appendChild(t),e.scrollLeft=-1e3,r=e.scrollLeft>=0,e.remove()}},2589:(e,t,n)=>{"use strict";n.d(t,{M:()=>i});var r=n(7506);function i(){if(void 0!==window.getSelection){const e=window.getSelection();void 0!==e.empty?e.empty():void 0!==e.removeAllRanges&&(e.removeAllRanges(),!0!==r.ZP.is.mobile&&e.addRange(document.createRange()))}else void 0!==document.selection&&document.selection.empty()}},5439:(e,t,n)=>{"use strict";n.d(t,{Nd:()=>o,Ng:()=>r,vh:()=>i});const r="_q_",i="_q_fo_",o="_q_tabs_"},2046:(e,t,n)=>{"use strict";n.d(t,{Kq:()=>r,Pf:()=>o,Rb:()=>s});n(702);function r(e){if(Object(e.$parent)===e.$parent)return e.$parent;e=e.$.parent;while(Object(e)===e){if(Object(e.proxy)===e.proxy)return e.proxy;e=e.parent}}function i(e,t){"symbol"===typeof t.type?!0===Array.isArray(t.children)&&t.children.forEach((t=>{i(e,t)})):e.add(t)}function o(e){const t=new Set;return e.forEach((e=>{i(t,e)})),Array.from(t)}function s(e){return void 0!==e.appContext.config.globalProperties.$router}},3701:(e,t,n)=>{"use strict";n.d(t,{OI:()=>a,QA:()=>c,b0:()=>o,np:()=>u,u3:()=>s});n(6727);var r=n(223);const i=[null,document,document.body,document.scrollingElement,document.documentElement];function o(e,t){let n=(0,r.sb)(t);if(void 0===n){if(void 0===e||null===e)return window;n=e.closest(".scroll,.scroll-y,.overflow-auto")}return i.includes(n)?window:n}function s(e){return e===window?window.pageYOffset||window.scrollY||document.body.scrollTop||0:e.scrollTop}function a(e){return e===window?window.pageXOffset||window.scrollX||document.body.scrollLeft||0:e.scrollLeft}let l;function u(){if(void 0!==l)return l;const e=document.createElement("p"),t=document.createElement("div");(0,r.iv)(e,{width:"100%",height:"200px"}),(0,r.iv)(t,{position:"absolute",top:"0px",left:"0px",visibility:"hidden",width:"200px",height:"150px",overflow:"hidden"}),t.appendChild(e),document.body.appendChild(t);const n=e.offsetWidth;t.style.overflow="scroll";let i=e.offsetWidth;return n===i&&(i=t.clientWidth),t.remove(),l=n-i,l}function c(e,t=!0){return!(!e||e.nodeType!==Node.ELEMENT_NODE)&&(t?e.scrollHeight>e.clientHeight&&(e.classList.contains("scroll")||e.classList.contains("overflow-auto")||["auto","scroll"].includes(window.getComputedStyle(e)["overflow-y"])):e.scrollWidth>e.clientWidth&&(e.classList.contains("scroll")||e.classList.contains("overflow-auto")||["auto","scroll"].includes(window.getComputedStyle(e)["overflow-x"])))}},7674:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});n(6822);function r(e,t,n=document.body){if("string"!==typeof e)throw new TypeError("Expected a string as propName");if("string"!==typeof t)throw new TypeError("Expected a string as value");if(!(n instanceof Element))throw new TypeError("Expected a DOM element");n.style.setProperty(`--q-${e}`,t)}},1947:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var r=n(1583),i=n(3558),o=n(2289);const s={version:"2.7.7",install:r.Z,lang:i.Z,iconSet:o.Z}},8762:(e,t,n)=>{var r=n(6107),i=n(7545),o=TypeError;e.exports=function(e){if(r(e))return e;throw o(i(e)+" is not a function")}},9667:(e,t,n)=>{var r=n(9627),i=n(7545),o=TypeError;e.exports=function(e){if(r(e))return e;throw o(i(e)+" is not a constructor")}},9220:(e,t,n)=>{var r=n(6107),i=String,o=TypeError;e.exports=function(e){if("object"==typeof e||r(e))return e;throw o("Can't set "+i(e)+" as a prototype")}},5323:(e,t,n)=>{var r=n(4103),i=n(5267),o=n(1012).f,s=r("unscopables"),a=Array.prototype;void 0==a[s]&&o(a,s,{configurable:!0,value:i(null)}),e.exports=function(e){a[s][e]=!0}},3366:(e,t,n)=>{"use strict";var r=n(6823).charAt;e.exports=function(e,t,n){return t+(n?r(e,t).length:1)}},8406:(e,t,n)=>{var r=n(6123),i=TypeError;e.exports=function(e,t){if(r(t,e))return e;throw i("Incorrect invocation")}},616:(e,t,n)=>{var r=n(1419),i=String,o=TypeError;e.exports=function(e){if(r(e))return e;throw o(i(e)+" is not an object")}},8389:e=>{e.exports="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView},8086:(e,t,n)=>{"use strict";var r,i,o,s=n(8389),a=n(4133),l=n(3834),u=n(6107),c=n(1419),h=n(2924),d=n(4239),f=n(7545),p=n(4722),m=n(4076),g=n(1012).f,v=n(6123),y=n(7886),b=n(6534),w=n(4103),_=n(3965),S=n(780),k=S.enforce,I=S.get,x=l.Int8Array,E=x&&x.prototype,T=l.Uint8ClampedArray,C=T&&T.prototype,A=x&&y(x),R=E&&y(E),O=Object.prototype,N=l.TypeError,P=w("toStringTag"),D=_("TYPED_ARRAY_TAG"),L="TypedArrayConstructor",F=s&&!!b&&"Opera"!==d(l.opera),M=!1,q={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},U={BigInt64Array:8,BigUint64Array:8},B=function(e){if(!c(e))return!1;var t=d(e);return"DataView"===t||h(q,t)||h(U,t)},V=function(e){var t=y(e);if(c(t)){var n=I(t);return n&&h(n,L)?n[L]:V(t)}},j=function(e){if(!c(e))return!1;var t=d(e);return h(q,t)||h(U,t)},z=function(e){if(j(e))return e;throw N("Target is not a typed array")},$=function(e){if(u(e)&&(!b||v(A,e)))return e;throw N(f(e)+" is not a typed array constructor")},H=function(e,t,n,r){if(a){if(n)for(var i in q){var o=l[i];if(o&&h(o.prototype,e))try{delete o.prototype[e]}catch(s){try{o.prototype[e]=t}catch(u){}}}R[e]&&!n||m(R,e,n?t:F&&E[e]||t,r)}},K=function(e,t,n){var r,i;if(a){if(b){if(n)for(r in q)if(i=l[r],i&&h(i,e))try{delete i[e]}catch(o){}if(A[e]&&!n)return;try{return m(A,e,n?t:F&&A[e]||t)}catch(o){}}for(r in q)i=l[r],!i||i[e]&&!n||m(i,e,t)}};for(r in q)i=l[r],o=i&&i.prototype,o?k(o)[L]=i:F=!1;for(r in U)i=l[r],o=i&&i.prototype,o&&(k(o)[L]=i);if((!F||!u(A)||A===Function.prototype)&&(A=function(){throw N("Incorrect invocation")},F))for(r in q)l[r]&&b(l[r],A);if((!F||!R||R===O)&&(R=A.prototype,F))for(r in q)l[r]&&b(l[r].prototype,R);if(F&&y(C)!==R&&b(C,R),a&&!h(R,P))for(r in M=!0,g(R,P,{get:function(){return c(this)?this[D]:void 0}}),q)l[r]&&p(l[r],D,r);e.exports={NATIVE_ARRAY_BUFFER_VIEWS:F,TYPED_ARRAY_TAG:M&&D,aTypedArray:z,aTypedArrayConstructor:$,exportTypedArrayMethod:H,exportTypedArrayStaticMethod:K,getTypedArrayConstructor:V,isView:B,isTypedArray:j,TypedArray:A,TypedArrayPrototype:R}},2248:(e,t,n)=>{"use strict";var r=n(3834),i=n(1636),o=n(4133),s=n(8389),a=n(9104),l=n(4722),u=n(2714),c=n(8814),h=n(8406),d=n(6675),f=n(7302),p=n(4686),m=n(9798),g=n(7886),v=n(6534),y=n(3450).f,b=n(1012).f,w=n(5408),_=n(6378),S=n(2365),k=n(780),I=a.PROPER,x=a.CONFIGURABLE,E=k.get,T=k.set,C="ArrayBuffer",A="DataView",R="prototype",O="Wrong length",N="Wrong index",P=r[C],D=P,L=D&&D[R],F=r[A],M=F&&F[R],q=Object.prototype,U=r.Array,B=r.RangeError,V=i(w),j=i([].reverse),z=m.pack,$=m.unpack,H=function(e){return[255&e]},K=function(e){return[255&e,e>>8&255]},W=function(e){return[255&e,e>>8&255,e>>16&255,e>>24&255]},G=function(e){return e[3]<<24|e[2]<<16|e[1]<<8|e[0]},Z=function(e){return z(e,23,4)},Y=function(e){return z(e,52,8)},Q=function(e,t){b(e[R],t,{get:function(){return E(this)[t]}})},J=function(e,t,n,r){var i=p(n),o=E(e);if(i+t>o.byteLength)throw B(N);var s=E(o.buffer).bytes,a=i+o.byteOffset,l=_(s,a,a+t);return r?l:j(l)},X=function(e,t,n,r,i,o){var s=p(n),a=E(e);if(s+t>a.byteLength)throw B(N);for(var l=E(a.buffer).bytes,u=s+a.byteOffset,c=r(+i),h=0;h<t;h++)l[u+h]=c[o?h:t-h-1]};if(s){var ee=I&&P.name!==C;if(c((function(){P(1)}))&&c((function(){new P(-1)}))&&!c((function(){return new P,new P(1.5),new P(NaN),1!=P.length||ee&&!x})))ee&&x&&l(P,"name",C);else{D=function(e){return h(this,L),new P(p(e))},D[R]=L;for(var te,ne=y(P),re=0;ne.length>re;)(te=ne[re++])in D||l(D,te,P[te]);L.constructor=D}v&&g(M)!==q&&v(M,q);var ie=new F(new D(2)),oe=i(M.setInt8);ie.setInt8(0,2147483648),ie.setInt8(1,2147483649),!ie.getInt8(0)&&ie.getInt8(1)||u(M,{setInt8:function(e,t){oe(this,e,t<<24>>24)},setUint8:function(e,t){oe(this,e,t<<24>>24)}},{unsafe:!0})}else D=function(e){h(this,L);var t=p(e);T(this,{bytes:V(U(t),0),byteLength:t}),o||(this.byteLength=t)},L=D[R],F=function(e,t,n){h(this,M),h(e,L);var r=E(e).byteLength,i=d(t);if(i<0||i>r)throw B("Wrong offset");if(n=void 0===n?r-i:f(n),i+n>r)throw B(O);T(this,{buffer:e,byteLength:n,byteOffset:i}),o||(this.buffer=e,this.byteLength=n,this.byteOffset=i)},M=F[R],o&&(Q(D,"byteLength"),Q(F,"buffer"),Q(F,"byteLength"),Q(F,"byteOffset")),u(M,{getInt8:function(e){return J(this,1,e)[0]<<24>>24},getUint8:function(e){return J(this,1,e)[0]},getInt16:function(e){var t=J(this,2,e,arguments.length>1?arguments[1]:void 0);return(t[1]<<8|t[0])<<16>>16},getUint16:function(e){var t=J(this,2,e,arguments.length>1?arguments[1]:void 0);return t[1]<<8|t[0]},getInt32:function(e){return G(J(this,4,e,arguments.length>1?arguments[1]:void 0))},getUint32:function(e){return G(J(this,4,e,arguments.length>1?arguments[1]:void 0))>>>0},getFloat32:function(e){return $(J(this,4,e,arguments.length>1?arguments[1]:void 0),23)},getFloat64:function(e){return $(J(this,8,e,arguments.length>1?arguments[1]:void 0),52)},setInt8:function(e,t){X(this,1,e,H,t)},setUint8:function(e,t){X(this,1,e,H,t)},setInt16:function(e,t){X(this,2,e,K,t,arguments.length>2?arguments[2]:void 0)},setUint16:function(e,t){X(this,2,e,K,t,arguments.length>2?arguments[2]:void 0)},setInt32:function(e,t){X(this,4,e,W,t,arguments.length>2?arguments[2]:void 0)},setUint32:function(e,t){X(this,4,e,W,t,arguments.length>2?arguments[2]:void 0)},setFloat32:function(e,t){X(this,4,e,Z,t,arguments.length>2?arguments[2]:void 0)},setFloat64:function(e,t){X(this,8,e,Y,t,arguments.length>2?arguments[2]:void 0)}});S(D,C),S(F,A),e.exports={ArrayBuffer:D,DataView:F}},5408:(e,t,n)=>{"use strict";var r=n(8332),i=n(2661),o=n(8600);e.exports=function(e){var t=r(this),n=o(t),s=arguments.length,a=i(s>1?arguments[1]:void 0,n),l=s>2?arguments[2]:void 0,u=void 0===l?n:i(l,n);while(u>a)t[a++]=e;return t}},7508:(e,t,n)=>{"use strict";var r=n(6158),i=n(6654),o=n(8332),s=n(1108),a=n(5712),l=n(9627),u=n(8600),c=n(5976),h=n(4021),d=n(3395),f=Array;e.exports=function(e){var t=o(e),n=l(this),p=arguments.length,m=p>1?arguments[1]:void 0,g=void 0!==m;g&&(m=r(m,p>2?arguments[2]:void 0));var v,y,b,w,_,S,k=d(t),I=0;if(!k||this===f&&a(k))for(v=u(t),y=n?new this(v):f(v);v>I;I++)S=g?m(t[I],I):t[I],c(y,I,S);else for(w=h(t,k),_=w.next,y=n?new this:[];!(b=i(_,w)).done;I++)S=g?s(w,m,[b.value,I],!0):b.value,c(y,I,S);return y.length=I,y}},7714:(e,t,n)=>{var r=n(7447),i=n(2661),o=n(8600),s=function(e){return function(t,n,s){var a,l=r(t),u=o(l),c=i(s,u);if(e&&n!=n){while(u>c)if(a=l[c++],a!=a)return!0}else for(;u>c;c++)if((e||c in l)&&l[c]===n)return e||c||0;return!e&&-1}};e.exports={includes:s(!0),indexOf:s(!1)}},9275:(e,t,n)=>{var r=n(6158),i=n(3972),o=n(8332),s=n(8600),a=function(e){var t=1==e;return function(n,a,l){var u,c,h=o(n),d=i(h),f=r(a,l),p=s(d);while(p-- >0)if(u=d[p],c=f(u,p,h),c)switch(e){case 0:return u;case 1:return p}return t?-1:void 0}};e.exports={findLast:a(0),findLastIndex:a(1)}},9226:(e,t,n)=>{var r=n(6158),i=n(1636),o=n(3972),s=n(8332),a=n(8600),l=n(4837),u=i([].push),c=function(e){var t=1==e,n=2==e,i=3==e,c=4==e,h=6==e,d=7==e,f=5==e||h;return function(p,m,g,v){for(var y,b,w=s(p),_=o(w),S=r(m,g),k=a(_),I=0,x=v||l,E=t?x(p,k):n||d?x(p,0):void 0;k>I;I++)if((f||I in _)&&(y=_[I],b=S(y,I,w),e))if(t)E[I]=b;else if(b)switch(e){case 3:return!0;case 5:return y;case 6:return I;case 2:u(E,y)}else switch(e){case 4:return!1;case 7:u(E,y)}return h?-1:i||c?c:E}};e.exports={forEach:c(0),map:c(1),filter:c(2),some:c(3),every:c(4),find:c(5),findIndex:c(6),filterReject:c(7)}},6378:(e,t,n)=>{var r=n(2661),i=n(8600),o=n(5976),s=Array,a=Math.max;e.exports=function(e,t,n){for(var l=i(e),u=r(t,l),c=r(void 0===n?l:n,l),h=s(a(c-u,0)),d=0;u<c;u++,d++)o(h,d,e[u]);return h.length=d,h}},7085:(e,t,n)=>{var r=n(6378),i=Math.floor,o=function(e,t){var n=e.length,l=i(n/2);return n<8?s(e,t):a(e,o(r(e,0,l),t),o(r(e,l),t),t)},s=function(e,t){var n,r,i=e.length,o=1;while(o<i){r=o,n=e[o];while(r&&t(e[r-1],n)>0)e[r]=e[--r];r!==o++&&(e[r]=n)}return e},a=function(e,t,n,r){var i=t.length,o=n.length,s=0,a=0;while(s<i||a<o)e[s+a]=s<i&&a<o?r(t[s],n[a])<=0?t[s++]:n[a++]:s<i?t[s++]:n[a++];return e};e.exports=o},4622:(e,t,n)=>{var r=n(6555),i=n(9627),o=n(1419),s=n(4103),a=s("species"),l=Array;e.exports=function(e){var t;return r(e)&&(t=e.constructor,i(t)&&(t===l||r(t.prototype))?t=void 0:o(t)&&(t=t[a],null===t&&(t=void 0))),void 0===t?l:t}},4837:(e,t,n)=>{var r=n(4622);e.exports=function(e,t){return new(r(e))(0===t?0:t)}},1108:(e,t,n)=>{var r=n(616),i=n(4829);e.exports=function(e,t,n,o){try{return o?t(r(n)[0],n[1]):t(n)}catch(s){i(e,"throw",s)}}},8272:(e,t,n)=>{var r=n(4103),i=r("iterator"),o=!1;try{var s=0,a={next:function(){return{done:!!s++}},return:function(){o=!0}};a[i]=function(){return this},Array.from(a,(function(){throw 2}))}catch(l){}e.exports=function(e,t){if(!t&&!o)return!1;var n=!1;try{var r={};r[i]=function(){return{next:function(){return{done:n=!0}}}},e(r)}catch(l){}return n}},6749:(e,t,n)=>{var r=n(1636),i=r({}.toString),o=r("".slice);e.exports=function(e){return o(i(e),8,-1)}},4239:(e,t,n)=>{var r=n(8088),i=n(6107),o=n(6749),s=n(4103),a=s("toStringTag"),l=Object,u="Arguments"==o(function(){return arguments}()),c=function(e,t){try{return e[t]}catch(n){}};e.exports=r?o:function(e){var t,n,r;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=c(t=l(e),a))?n:u?o(t):"Object"==(r=o(t))&&i(t.callee)?"Arguments":r}},7366:(e,t,n)=>{var r=n(2924),i=n(1240),o=n(863),s=n(1012);e.exports=function(e,t,n){for(var a=i(t),l=s.f,u=o.f,c=0;c<a.length;c++){var h=a[c];r(e,h)||n&&r(n,h)||l(e,h,u(t,h))}}},911:(e,t,n)=>{var r=n(8814);e.exports=!r((function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}))},4722:(e,t,n)=>{var r=n(4133),i=n(1012),o=n(3386);e.exports=r?function(e,t,n){return i.f(e,t,o(1,n))}:function(e,t,n){return e[t]=n,e}},3386:e=>{e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},5976:(e,t,n)=>{"use strict";var r=n(1017),i=n(1012),o=n(3386);e.exports=function(e,t,n){var s=r(t);s in e?i.f(e,s,o(0,n)):e[s]=n}},9570:(e,t,n)=>{var r=n(2358),i=n(1012);e.exports=function(e,t,n){return n.get&&r(n.get,t,{getter:!0}),n.set&&r(n.set,t,{setter:!0}),i.f(e,t,n)}},4076:(e,t,n)=>{var r=n(6107),i=n(1012),o=n(2358),s=n(5437);e.exports=function(e,t,n,a){a||(a={});var l=a.enumerable,u=void 0!==a.name?a.name:t;if(r(n)&&o(n,u,a),a.global)l?e[t]=n:s(t,n);else{try{a.unsafe?e[t]&&(l=!0):delete e[t]}catch(c){}l?e[t]=n:i.f(e,t,{value:n,enumerable:!1,configurable:!a.nonConfigurable,writable:!a.nonWritable})}return e}},2714:(e,t,n)=>{var r=n(4076);e.exports=function(e,t,n){for(var i in t)r(e,i,t[i],n);return e}},5437:(e,t,n)=>{var r=n(3834),i=Object.defineProperty;e.exports=function(e,t){try{i(r,e,{value:t,configurable:!0,writable:!0})}catch(n){r[e]=t}return t}},4133:(e,t,n)=>{var r=n(8814);e.exports=!r((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},1657:(e,t,n)=>{var r=n(3834),i=n(1419),o=r.document,s=i(o)&&i(o.createElement);e.exports=function(e){return s?o.createElement(e):{}}},5243:e=>{e.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},4130:(e,t,n)=>{var r=n(1657),i=r("span").classList,o=i&&i.constructor&&i.constructor.prototype;e.exports=o===Object.prototype?void 0:o},259:(e,t,n)=>{var r=n(322),i=r.match(/firefox\/(\d+)/i);e.exports=!!i&&+i[1]},1280:(e,t,n)=>{var r=n(322);e.exports=/MSIE|Trident/.test(r)},322:(e,t,n)=>{var r=n(7859);e.exports=r("navigator","userAgent")||""},1418:(e,t,n)=>{var r,i,o=n(3834),s=n(322),a=o.process,l=o.Deno,u=a&&a.versions||l&&l.version,c=u&&u.v8;c&&(r=c.split("."),i=r[0]>0&&r[0]<4?1:+(r[0]+r[1])),!i&&s&&(r=s.match(/Edge\/(\d+)/),(!r||r[1]>=74)&&(r=s.match(/Chrome\/(\d+)/),r&&(i=+r[1]))),e.exports=i},7433:(e,t,n)=>{var r=n(322),i=r.match(/AppleWebKit\/(\d+)\./);e.exports=!!i&&+i[1]},203:e=>{e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},7940:(e,t,n)=>{var r=n(1636),i=Error,o=r("".replace),s=function(e){return String(i(e).stack)}("zxcasd"),a=/\n\s*at [^:]*:[^\n]*/,l=a.test(s);e.exports=function(e,t){if(l&&"string"==typeof e&&!i.prepareStackTrace)while(t--)e=o(e,a,"");return e}},9277:(e,t,n)=>{var r=n(8814),i=n(3386);e.exports=!r((function(){var e=Error("a");return!("stack"in e)||(Object.defineProperty(e,"stack",i(1,7)),7!==e.stack)}))},6943:(e,t,n)=>{var r=n(3834),i=n(863).f,o=n(4722),s=n(4076),a=n(5437),l=n(7366),u=n(2764);e.exports=function(e,t){var n,c,h,d,f,p,m=e.target,g=e.global,v=e.stat;if(c=g?r:v?r[m]||a(m,{}):(r[m]||{}).prototype,c)for(h in t){if(f=t[h],e.dontCallGetSet?(p=i(c,h),d=p&&p.value):d=c[h],n=u(g?h:m+(v?".":"#")+h,e.forced),!n&&void 0!==d){if(typeof f==typeof d)continue;l(f,d)}(e.sham||d&&d.sham)&&o(f,"sham",!0),s(c,h,f,e)}}},8814:e=>{e.exports=function(e){try{return!!e()}catch(t){return!0}}},3218:(e,t,n)=>{"use strict";n(1476);var r=n(1636),i=n(4076),o=n(738),s=n(8814),a=n(4103),l=n(4722),u=a("species"),c=RegExp.prototype;e.exports=function(e,t,n,h){var d=a(e),f=!s((function(){var t={};return t[d]=function(){return 7},7!=""[e](t)})),p=f&&!s((function(){var t=!1,n=/a/;return"split"===e&&(n={},n.constructor={},n.constructor[u]=function(){return n},n.flags="",n[d]=/./[d]),n.exec=function(){return t=!0,null},n[d](""),!t}));if(!f||!p||n){var m=r(/./[d]),g=t(d,""[e],(function(e,t,n,i,s){var a=r(e),l=t.exec;return l===o||l===c.exec?f&&!s?{done:!0,value:m(t,n,i)}:{done:!0,value:a(n,t,i)}:{done:!1}}));i(String.prototype,e,g[0]),i(c,d,g[1])}h&&l(c[d],"sham",!0)}},6112:(e,t,n)=>{var r=n(9793),i=Function.prototype,o=i.apply,s=i.call;e.exports="object"==typeof Reflect&&Reflect.apply||(r?s.bind(o):function(){return s.apply(o,arguments)})},6158:(e,t,n)=>{var r=n(1636),i=n(8762),o=n(9793),s=r(r.bind);e.exports=function(e,t){return i(e),void 0===t?e:o?s(e,t):function(){return e.apply(t,arguments)}}},9793:(e,t,n)=>{var r=n(8814);e.exports=!r((function(){var e=function(){}.bind();return"function"!=typeof e||e.hasOwnProperty("prototype")}))},6654:(e,t,n)=>{var r=n(9793),i=Function.prototype.call;e.exports=r?i.bind(i):function(){return i.apply(i,arguments)}},9104:(e,t,n)=>{var r=n(4133),i=n(2924),o=Function.prototype,s=r&&Object.getOwnPropertyDescriptor,a=i(o,"name"),l=a&&"something"===function(){}.name,u=a&&(!r||r&&s(o,"name").configurable);e.exports={EXISTS:a,PROPER:l,CONFIGURABLE:u}},1636:(e,t,n)=>{var r=n(9793),i=Function.prototype,o=i.bind,s=i.call,a=r&&o.bind(s,s);e.exports=r?function(e){return e&&a(e)}:function(e){return e&&function(){return s.apply(e,arguments)}}},7859:(e,t,n)=>{var r=n(3834),i=n(6107),o=function(e){return i(e)?e:void 0};e.exports=function(e,t){return arguments.length<2?o(r[e]):r[e]&&r[e][t]}},3395:(e,t,n)=>{var r=n(4239),i=n(7689),o=n(3873),s=n(1366),a=n(4103),l=a("iterator");e.exports=function(e){if(!o(e))return i(e,l)||i(e,"@@iterator")||s[r(e)]}},4021:(e,t,n)=>{var r=n(6654),i=n(8762),o=n(616),s=n(7545),a=n(3395),l=TypeError;e.exports=function(e,t){var n=arguments.length<2?a(e):t;if(i(n))return o(r(n,e));throw l(s(e)+" is not iterable")}},7689:(e,t,n)=>{var r=n(8762),i=n(3873);e.exports=function(e,t){var n=e[t];return i(n)?void 0:r(n)}},3075:(e,t,n)=>{var r=n(1636),i=n(8332),o=Math.floor,s=r("".charAt),a=r("".replace),l=r("".slice),u=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,c=/\$([$&'`]|\d{1,2})/g;e.exports=function(e,t,n,r,h,d){var f=n+e.length,p=r.length,m=c;return void 0!==h&&(h=i(h),m=u),a(d,m,(function(i,a){var u;switch(s(a,0)){case"$":return"$";case"&":return e;case"`":return l(t,0,n);case"'":return l(t,f);case"<":u=h[l(a,1,-1)];break;default:var c=+a;if(0===c)return i;if(c>p){var d=o(c/10);return 0===d?i:d<=p?void 0===r[d-1]?s(a,1):r[d-1]+s(a,1):i}u=r[c-1]}return void 0===u?"":u}))}},3834:(e,t,n)=>{var r=function(e){return e&&e.Math==Math&&e};e.exports=r("object"==typeof globalThis&&globalThis)||r("object"==typeof window&&window)||r("object"==typeof self&&self)||r("object"==typeof n.g&&n.g)||function(){return this}()||Function("return this")()},2924:(e,t,n)=>{var r=n(1636),i=n(8332),o=r({}.hasOwnProperty);e.exports=Object.hasOwn||function(e,t){return o(i(e),t)}},1999:e=>{e.exports={}},6052:(e,t,n)=>{var r=n(7859);e.exports=r("document","documentElement")},6335:(e,t,n)=>{var r=n(4133),i=n(8814),o=n(1657);e.exports=!r&&!i((function(){return 7!=Object.defineProperty(o("div"),"a",{get:function(){return 7}}).a}))},9798:e=>{var t=Array,n=Math.abs,r=Math.pow,i=Math.floor,o=Math.log,s=Math.LN2,a=function(e,a,l){var u,c,h,d=t(l),f=8*l-a-1,p=(1<<f)-1,m=p>>1,g=23===a?r(2,-24)-r(2,-77):0,v=e<0||0===e&&1/e<0?1:0,y=0;e=n(e),e!=e||e===1/0?(c=e!=e?1:0,u=p):(u=i(o(e)/s),h=r(2,-u),e*h<1&&(u--,h*=2),e+=u+m>=1?g/h:g*r(2,1-m),e*h>=2&&(u++,h/=2),u+m>=p?(c=0,u=p):u+m>=1?(c=(e*h-1)*r(2,a),u+=m):(c=e*r(2,m-1)*r(2,a),u=0));while(a>=8)d[y++]=255&c,c/=256,a-=8;u=u<<a|c,f+=a;while(f>0)d[y++]=255&u,u/=256,f-=8;return d[--y]|=128*v,d},l=function(e,t){var n,i=e.length,o=8*i-t-1,s=(1<<o)-1,a=s>>1,l=o-7,u=i-1,c=e[u--],h=127&c;c>>=7;while(l>0)h=256*h+e[u--],l-=8;n=h&(1<<-l)-1,h>>=-l,l+=t;while(l>0)n=256*n+e[u--],l-=8;if(0===h)h=1-a;else{if(h===s)return n?NaN:c?-1/0:1/0;n+=r(2,t),h-=a}return(c?-1:1)*n*r(2,h-t)};e.exports={pack:a,unpack:l}},3972:(e,t,n)=>{var r=n(1636),i=n(8814),o=n(6749),s=Object,a=r("".split);e.exports=i((function(){return!s("z").propertyIsEnumerable(0)}))?function(e){return"String"==o(e)?a(e,""):s(e)}:s},2511:(e,t,n)=>{var r=n(6107),i=n(1419),o=n(6534);e.exports=function(e,t,n){var s,a;return o&&r(s=t.constructor)&&s!==n&&i(a=s.prototype)&&a!==n.prototype&&o(e,a),e}},6461:(e,t,n)=>{var r=n(1636),i=n(6107),o=n(6081),s=r(Function.toString);i(o.inspectSource)||(o.inspectSource=function(e){return s(e)}),e.exports=o.inspectSource},6270:(e,t,n)=>{var r=n(1419),i=n(4722);e.exports=function(e,t){r(t)&&"cause"in t&&i(e,"cause",t.cause)}},780:(e,t,n)=>{var r,i,o,s=n(5779),a=n(3834),l=n(1636),u=n(1419),c=n(4722),h=n(2924),d=n(6081),f=n(5315),p=n(1999),m="Object already initialized",g=a.TypeError,v=a.WeakMap,y=function(e){return o(e)?i(e):r(e,{})},b=function(e){return function(t){var n;if(!u(t)||(n=i(t)).type!==e)throw g("Incompatible receiver, "+e+" required");return n}};if(s||d.state){var w=d.state||(d.state=new v),_=l(w.get),S=l(w.has),k=l(w.set);r=function(e,t){if(S(w,e))throw g(m);return t.facade=e,k(w,e,t),t},i=function(e){return _(w,e)||{}},o=function(e){return S(w,e)}}else{var I=f("state");p[I]=!0,r=function(e,t){if(h(e,I))throw g(m);return t.facade=e,c(e,I,t),t},i=function(e){return h(e,I)?e[I]:{}},o=function(e){return h(e,I)}}e.exports={set:r,get:i,has:o,enforce:y,getterFor:b}},5712:(e,t,n)=>{var r=n(4103),i=n(1366),o=r("iterator"),s=Array.prototype;e.exports=function(e){return void 0!==e&&(i.Array===e||s[o]===e)}},6555:(e,t,n)=>{var r=n(6749);e.exports=Array.isArray||function(e){return"Array"==r(e)}},6107:e=>{e.exports=function(e){return"function"==typeof e}},9627:(e,t,n)=>{var r=n(1636),i=n(8814),o=n(6107),s=n(4239),a=n(7859),l=n(6461),u=function(){},c=[],h=a("Reflect","construct"),d=/^\s*(?:class|function)\b/,f=r(d.exec),p=!d.exec(u),m=function(e){if(!o(e))return!1;try{return h(u,c,e),!0}catch(t){return!1}},g=function(e){if(!o(e))return!1;switch(s(e)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return p||!!f(d,l(e))}catch(t){return!0}};g.sham=!0,e.exports=!h||i((function(){var e;return m(m.call)||!m(Object)||!m((function(){e=!0}))||e}))?g:m},2764:(e,t,n)=>{var r=n(8814),i=n(6107),o=/#|\.prototype\./,s=function(e,t){var n=l[a(e)];return n==c||n!=u&&(i(t)?r(t):!!t)},a=s.normalize=function(e){return String(e).replace(o,".").toLowerCase()},l=s.data={},u=s.NATIVE="N",c=s.POLYFILL="P";e.exports=s},3903:(e,t,n)=>{var r=n(1419),i=Math.floor;e.exports=Number.isInteger||function(e){return!r(e)&&isFinite(e)&&i(e)===e}},3873:e=>{e.exports=function(e){return null===e||void 0===e}},1419:(e,t,n)=>{var r=n(6107),i="object"==typeof document&&document.all,o="undefined"==typeof i&&void 0!==i;e.exports=o?function(e){return"object"==typeof e?null!==e:r(e)||e===i}:function(e){return"object"==typeof e?null!==e:r(e)}},200:e=>{e.exports=!1},1637:(e,t,n)=>{var r=n(7859),i=n(6107),o=n(6123),s=n(49),a=Object;e.exports=s?function(e){return"symbol"==typeof e}:function(e){var t=r("Symbol");return i(t)&&o(t.prototype,a(e))}},4829:(e,t,n)=>{var r=n(6654),i=n(616),o=n(7689);e.exports=function(e,t,n){var s,a;i(e);try{if(s=o(e,"return"),!s){if("throw"===t)throw n;return n}s=r(s,e)}catch(l){a=!0,s=l}if("throw"===t)throw n;if(a)throw s;return i(s),n}},2950:(e,t,n)=>{"use strict";var r=n(619).IteratorPrototype,i=n(5267),o=n(3386),s=n(2365),a=n(1366),l=function(){return this};e.exports=function(e,t,n,u){var c=t+" Iterator";return e.prototype=i(r,{next:o(+!u,n)}),s(e,c,!1,!0),a[c]=l,e}},4987:(e,t,n)=>{"use strict";var r=n(6943),i=n(6654),o=n(200),s=n(9104),a=n(6107),l=n(2950),u=n(7886),c=n(6534),h=n(2365),d=n(4722),f=n(4076),p=n(4103),m=n(1366),g=n(619),v=s.PROPER,y=s.CONFIGURABLE,b=g.IteratorPrototype,w=g.BUGGY_SAFARI_ITERATORS,_=p("iterator"),S="keys",k="values",I="entries",x=function(){return this};e.exports=function(e,t,n,s,p,g,E){l(n,t,s);var T,C,A,R=function(e){if(e===p&&L)return L;if(!w&&e in P)return P[e];switch(e){case S:return function(){return new n(this,e)};case k:return function(){return new n(this,e)};case I:return function(){return new n(this,e)}}return function(){return new n(this)}},O=t+" Iterator",N=!1,P=e.prototype,D=P[_]||P["@@iterator"]||p&&P[p],L=!w&&D||R(p),F="Array"==t&&P.entries||D;if(F&&(T=u(F.call(new e)),T!==Object.prototype&&T.next&&(o||u(T)===b||(c?c(T,b):a(T[_])||f(T,_,x)),h(T,O,!0,!0),o&&(m[O]=x))),v&&p==k&&D&&D.name!==k&&(!o&&y?d(P,"name",k):(N=!0,L=function(){return i(D,this)})),p)if(C={values:R(k),keys:g?L:R(S),entries:R(I)},E)for(A in C)(w||N||!(A in P))&&f(P,A,C[A]);else r({target:t,proto:!0,forced:w||N},C);return o&&!E||P[_]===L||f(P,_,L,{name:p}),m[t]=L,C}},619:(e,t,n)=>{"use strict";var r,i,o,s=n(8814),a=n(6107),l=n(1419),u=n(5267),c=n(7886),h=n(4076),d=n(4103),f=n(200),p=d("iterator"),m=!1;[].keys&&(o=[].keys(),"next"in o?(i=c(c(o)),i!==Object.prototype&&(r=i)):m=!0);var g=!l(r)||s((function(){var e={};return r[p].call(e)!==e}));g?r={}:f&&(r=u(r)),a(r[p])||h(r,p,(function(){return this})),e.exports={IteratorPrototype:r,BUGGY_SAFARI_ITERATORS:m}},1366:e=>{e.exports={}},8600:(e,t,n)=>{var r=n(7302);e.exports=function(e){return r(e.length)}},2358:(e,t,n)=>{var r=n(8814),i=n(6107),o=n(2924),s=n(4133),a=n(9104).CONFIGURABLE,l=n(6461),u=n(780),c=u.enforce,h=u.get,d=Object.defineProperty,f=s&&!r((function(){return 8!==d((function(){}),"length",{value:8}).length})),p=String(String).split("String"),m=e.exports=function(e,t,n){"Symbol("===String(t).slice(0,7)&&(t="["+String(t).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),n&&n.getter&&(t="get "+t),n&&n.setter&&(t="set "+t),(!o(e,"name")||a&&e.name!==t)&&(s?d(e,"name",{value:t,configurable:!0}):e.name=t),f&&n&&o(n,"arity")&&e.length!==n.arity&&d(e,"length",{value:n.arity});try{n&&o(n,"constructor")&&n.constructor?s&&d(e,"prototype",{writable:!1}):e.prototype&&(e.prototype=void 0)}catch(i){}var r=c(e);return o(r,"source")||(r.source=p.join("string"==typeof t?t:"")),e};Function.prototype.toString=m((function(){return i(this)&&h(this).source||l(this)}),"toString")},7233:e=>{var t=Math.ceil,n=Math.floor;e.exports=Math.trunc||function(e){var r=+e;return(r>0?n:t)(r)}},1356:(e,t,n)=>{var r=n(6975);e.exports=function(e,t){return void 0===e?arguments.length<2?"":t:r(e)}},9804:(e,t,n)=>{"use strict";var r=n(4133),i=n(1636),o=n(6654),s=n(8814),a=n(4315),l=n(1996),u=n(8068),c=n(8332),h=n(3972),d=Object.assign,f=Object.defineProperty,p=i([].concat);e.exports=!d||s((function(){if(r&&1!==d({b:1},d(f({},"a",{enumerable:!0,get:function(){f(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var e={},t={},n=Symbol(),i="abcdefghijklmnopqrst";return e[n]=7,i.split("").forEach((function(e){t[e]=e})),7!=d({},e)[n]||a(d({},t)).join("")!=i}))?function(e,t){var n=c(e),i=arguments.length,s=1,d=l.f,f=u.f;while(i>s){var m,g=h(arguments[s++]),v=d?p(a(g),d(g)):a(g),y=v.length,b=0;while(y>b)m=v[b++],r&&!o(f,g,m)||(n[m]=g[m])}return n}:d},5267:(e,t,n)=>{var r,i=n(616),o=n(6029),s=n(203),a=n(1999),l=n(6052),u=n(1657),c=n(5315),h=">",d="<",f="prototype",p="script",m=c("IE_PROTO"),g=function(){},v=function(e){return d+p+h+e+d+"/"+p+h},y=function(e){e.write(v("")),e.close();var t=e.parentWindow.Object;return e=null,t},b=function(){var e,t=u("iframe"),n="java"+p+":";return t.style.display="none",l.appendChild(t),t.src=String(n),e=t.contentWindow.document,e.open(),e.write(v("document.F=Object")),e.close(),e.F},w=function(){try{r=new ActiveXObject("htmlfile")}catch(t){}w="undefined"!=typeof document?document.domain&&r?y(r):b():y(r);var e=s.length;while(e--)delete w[f][s[e]];return w()};a[m]=!0,e.exports=Object.create||function(e,t){var n;return null!==e?(g[f]=i(e),n=new g,g[f]=null,n[m]=e):n=w(),void 0===t?n:o.f(n,t)}},6029:(e,t,n)=>{var r=n(4133),i=n(64),o=n(1012),s=n(616),a=n(7447),l=n(4315);t.f=r&&!i?Object.defineProperties:function(e,t){s(e);var n,r=a(t),i=l(t),u=i.length,c=0;while(u>c)o.f(e,n=i[c++],r[n]);return e}},1012:(e,t,n)=>{var r=n(4133),i=n(6335),o=n(64),s=n(616),a=n(1017),l=TypeError,u=Object.defineProperty,c=Object.getOwnPropertyDescriptor,h="enumerable",d="configurable",f="writable";t.f=r?o?function(e,t,n){if(s(e),t=a(t),s(n),"function"===typeof e&&"prototype"===t&&"value"in n&&f in n&&!n[f]){var r=c(e,t);r&&r[f]&&(e[t]=n.value,n={configurable:d in n?n[d]:r[d],enumerable:h in n?n[h]:r[h],writable:!1})}return u(e,t,n)}:u:function(e,t,n){if(s(e),t=a(t),s(n),i)try{return u(e,t,n)}catch(r){}if("get"in n||"set"in n)throw l("Accessors not supported");return"value"in n&&(e[t]=n.value),e}},863:(e,t,n)=>{var r=n(4133),i=n(6654),o=n(8068),s=n(3386),a=n(7447),l=n(1017),u=n(2924),c=n(6335),h=Object.getOwnPropertyDescriptor;t.f=r?h:function(e,t){if(e=a(e),t=l(t),c)try{return h(e,t)}catch(n){}if(u(e,t))return s(!i(o.f,e,t),e[t])}},3450:(e,t,n)=>{var r=n(6682),i=n(203),o=i.concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return r(e,o)}},1996:(e,t)=>{t.f=Object.getOwnPropertySymbols},7886:(e,t,n)=>{var r=n(2924),i=n(6107),o=n(8332),s=n(5315),a=n(911),l=s("IE_PROTO"),u=Object,c=u.prototype;e.exports=a?u.getPrototypeOf:function(e){var t=o(e);if(r(t,l))return t[l];var n=t.constructor;return i(n)&&t instanceof n?n.prototype:t instanceof u?c:null}},6123:(e,t,n)=>{var r=n(1636);e.exports=r({}.isPrototypeOf)},6682:(e,t,n)=>{var r=n(1636),i=n(2924),o=n(7447),s=n(7714).indexOf,a=n(1999),l=r([].push);e.exports=function(e,t){var n,r=o(e),u=0,c=[];for(n in r)!i(a,n)&&i(r,n)&&l(c,n);while(t.length>u)i(r,n=t[u++])&&(~s(c,n)||l(c,n));return c}},4315:(e,t,n)=>{var r=n(6682),i=n(203);e.exports=Object.keys||function(e){return r(e,i)}},8068:(e,t)=>{"use strict";var n={}.propertyIsEnumerable,r=Object.getOwnPropertyDescriptor,i=r&&!n.call({1:2},1);t.f=i?function(e){var t=r(this,e);return!!t&&t.enumerable}:n},6534:(e,t,n)=>{var r=n(1636),i=n(616),o=n(9220);e.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,n={};try{e=r(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set),e(n,[]),t=n instanceof Array}catch(s){}return function(n,r){return i(n),o(r),t?e(n,r):n.__proto__=r,n}}():void 0)},9370:(e,t,n)=>{var r=n(6654),i=n(6107),o=n(1419),s=TypeError;e.exports=function(e,t){var n,a;if("string"===t&&i(n=e.toString)&&!o(a=r(n,e)))return a;if(i(n=e.valueOf)&&!o(a=r(n,e)))return a;if("string"!==t&&i(n=e.toString)&&!o(a=r(n,e)))return a;throw s("Can't convert object to primitive value")}},1240:(e,t,n)=>{var r=n(7859),i=n(1636),o=n(3450),s=n(1996),a=n(616),l=i([].concat);e.exports=r("Reflect","ownKeys")||function(e){var t=o.f(a(e)),n=s.f;return n?l(t,n(e)):t}},4569:(e,t,n)=>{var r=n(1012).f;e.exports=function(e,t,n){n in e||r(e,n,{configurable:!0,get:function(){return t[n]},set:function(e){t[n]=e}})}},3808:(e,t,n)=>{var r=n(6654),i=n(616),o=n(6107),s=n(6749),a=n(738),l=TypeError;e.exports=function(e,t){var n=e.exec;if(o(n)){var u=r(n,e,t);return null!==u&&i(u),u}if("RegExp"===s(e))return r(a,e,t);throw l("RegExp#exec called on incompatible receiver")}},738:(e,t,n)=>{"use strict";var r=n(6654),i=n(1636),o=n(6975),s=n(9592),a=n(9165),l=n(8850),u=n(5267),c=n(780).get,h=n(3425),d=n(10),f=l("native-string-replace",String.prototype.replace),p=RegExp.prototype.exec,m=p,g=i("".charAt),v=i("".indexOf),y=i("".replace),b=i("".slice),w=function(){var e=/a/,t=/b*/g;return r(p,e,"a"),r(p,t,"a"),0!==e.lastIndex||0!==t.lastIndex}(),_=a.BROKEN_CARET,S=void 0!==/()??/.exec("")[1],k=w||S||_||h||d;k&&(m=function(e){var t,n,i,a,l,h,d,k=this,I=c(k),x=o(e),E=I.raw;if(E)return E.lastIndex=k.lastIndex,t=r(m,E,x),k.lastIndex=E.lastIndex,t;var T=I.groups,C=_&&k.sticky,A=r(s,k),R=k.source,O=0,N=x;if(C&&(A=y(A,"y",""),-1===v(A,"g")&&(A+="g"),N=b(x,k.lastIndex),k.lastIndex>0&&(!k.multiline||k.multiline&&"\n"!==g(x,k.lastIndex-1))&&(R="(?: "+R+")",N=" "+N,O++),n=new RegExp("^(?:"+R+")",A)),S&&(n=new RegExp("^"+R+"$(?!\\s)",A)),w&&(i=k.lastIndex),a=r(p,C?n:k,N),C?a?(a.input=b(a.input,O),a[0]=b(a[0],O),a.index=k.lastIndex,k.lastIndex+=a[0].length):k.lastIndex=0:w&&a&&(k.lastIndex=k.global?a.index+a[0].length:i),S&&a&&a.length>1&&r(f,a[0],n,(function(){for(l=1;l<arguments.length-2;l++)void 0===arguments[l]&&(a[l]=void 0)})),a&&T)for(a.groups=h=u(null),l=0;l<T.length;l++)d=T[l],h[d[0]]=a[d[1]];return a}),e.exports=m},9592:(e,t,n)=>{"use strict";var r=n(616);e.exports=function(){var e=r(this),t="";return e.hasIndices&&(t+="d"),e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.unicodeSets&&(t+="v"),e.sticky&&(t+="y"),t}},9165:(e,t,n)=>{var r=n(8814),i=n(3834),o=i.RegExp,s=r((function(){var e=o("a","y");return e.lastIndex=2,null!=e.exec("abcd")})),a=s||r((function(){return!o("a","y").sticky})),l=s||r((function(){var e=o("^r","gy");return e.lastIndex=2,null!=e.exec("str")}));e.exports={BROKEN_CARET:l,MISSED_STICKY:a,UNSUPPORTED_Y:s}},3425:(e,t,n)=>{var r=n(8814),i=n(3834),o=i.RegExp;e.exports=r((function(){var e=o(".","s");return!(e.dotAll&&e.exec("\n")&&"s"===e.flags)}))},10:(e,t,n)=>{var r=n(8814),i=n(3834),o=i.RegExp;e.exports=r((function(){var e=o("(?<a>b)","g");return"b"!==e.exec("b").groups.a||"bc"!=="b".replace(e,"$<a>c")}))},5177:(e,t,n)=>{var r=n(3873),i=TypeError;e.exports=function(e){if(r(e))throw i("Can't call method on "+e);return e}},7104:(e,t,n)=>{"use strict";var r=n(7859),i=n(1012),o=n(4103),s=n(4133),a=o("species");e.exports=function(e){var t=r(e),n=i.f;s&&t&&!t[a]&&n(t,a,{configurable:!0,get:function(){return this}})}},2365:(e,t,n)=>{var r=n(1012).f,i=n(2924),o=n(4103),s=o("toStringTag");e.exports=function(e,t,n){e&&!n&&(e=e.prototype),e&&!i(e,s)&&r(e,s,{configurable:!0,value:t})}},5315:(e,t,n)=>{var r=n(8850),i=n(3965),o=r("keys");e.exports=function(e){return o[e]||(o[e]=i(e))}},6081:(e,t,n)=>{var r=n(3834),i=n(5437),o="__core-js_shared__",s=r[o]||i(o,{});e.exports=s},8850:(e,t,n)=>{var r=n(200),i=n(6081);(e.exports=function(e,t){return i[e]||(i[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.25.0",mode:r?"pure":"global",copyright:" 2014-2022 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.25.0/LICENSE",source:"https://github.com/zloirock/core-js"})},6823:(e,t,n)=>{var r=n(1636),i=n(6675),o=n(6975),s=n(5177),a=r("".charAt),l=r("".charCodeAt),u=r("".slice),c=function(e){return function(t,n){var r,c,h=o(s(t)),d=i(n),f=h.length;return d<0||d>=f?e?"":void 0:(r=l(h,d),r<55296||r>56319||d+1===f||(c=l(h,d+1))<56320||c>57343?e?a(h,d):r:e?u(h,d,d+2):c-56320+(r-55296<<10)+65536)}};e.exports={codeAt:c(!1),charAt:c(!0)}},2552:(e,t,n)=>{"use strict";var r=n(1636),i=2147483647,o=36,s=1,a=26,l=38,u=700,c=72,h=128,d="-",f=/[^\0-\u007E]/,p=/[.\u3002\uFF0E\uFF61]/g,m="Overflow: input needs wider integers to process",g=o-s,v=RangeError,y=r(p.exec),b=Math.floor,w=String.fromCharCode,_=r("".charCodeAt),S=r([].join),k=r([].push),I=r("".replace),x=r("".split),E=r("".toLowerCase),T=function(e){var t=[],n=0,r=e.length;while(n<r){var i=_(e,n++);if(i>=55296&&i<=56319&&n<r){var o=_(e,n++);56320==(64512&o)?k(t,((1023&i)<<10)+(1023&o)+65536):(k(t,i),n--)}else k(t,i)}return t},C=function(e){return e+22+75*(e<26)},A=function(e,t,n){var r=0;e=n?b(e/u):e>>1,e+=b(e/t);while(e>g*a>>1)e=b(e/g),r+=o;return b(r+(g+1)*e/(e+l))},R=function(e){var t=[];e=T(e);var n,r,l=e.length,u=h,f=0,p=c;for(n=0;n<e.length;n++)r=e[n],r<128&&k(t,w(r));var g=t.length,y=g;g&&k(t,d);while(y<l){var _=i;for(n=0;n<e.length;n++)r=e[n],r>=u&&r<_&&(_=r);var I=y+1;if(_-u>b((i-f)/I))throw v(m);for(f+=(_-u)*I,u=_,n=0;n<e.length;n++){if(r=e[n],r<u&&++f>i)throw v(m);if(r==u){var x=f,E=o;while(1){var R=E<=p?s:E>=p+a?a:E-p;if(x<R)break;var O=x-R,N=o-R;k(t,w(C(R+O%N))),x=b(O/N),E+=o}k(t,w(C(x))),p=A(f,I,y==g),f=0,y++}}f++,u++}return S(t,"")};e.exports=function(e){var t,n,r=[],i=x(I(E(e),p,"."),".");for(t=0;t<i.length;t++)n=i[t],k(r,y(f,n)?"xn--"+R(n):n);return S(r,".")}},4651:(e,t,n)=>{var r=n(1418),i=n(8814);e.exports=!!Object.getOwnPropertySymbols&&!i((function(){var e=Symbol();return!String(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&r&&r<41}))},2661:(e,t,n)=>{var r=n(6675),i=Math.max,o=Math.min;e.exports=function(e,t){var n=r(e);return n<0?i(n+t,0):o(n,t)}},7385:(e,t,n)=>{var r=n(4384),i=TypeError;e.exports=function(e){var t=r(e,"number");if("number"==typeof t)throw i("Can't convert number to bigint");return BigInt(t)}},4686:(e,t,n)=>{var r=n(6675),i=n(7302),o=RangeError;e.exports=function(e){if(void 0===e)return 0;var t=r(e),n=i(t);if(t!==n)throw o("Wrong length or index");return n}},7447:(e,t,n)=>{var r=n(3972),i=n(5177);e.exports=function(e){return r(i(e))}},6675:(e,t,n)=>{var r=n(7233);e.exports=function(e){var t=+e;return t!==t||0===t?0:r(t)}},7302:(e,t,n)=>{var r=n(6675),i=Math.min;e.exports=function(e){return e>0?i(r(e),9007199254740991):0}},8332:(e,t,n)=>{var r=n(5177),i=Object;e.exports=function(e){return i(r(e))}},4084:(e,t,n)=>{var r=n(859),i=RangeError;e.exports=function(e,t){var n=r(e);if(n%t)throw i("Wrong offset");return n}},859:(e,t,n)=>{var r=n(6675),i=RangeError;e.exports=function(e){var t=r(e);if(t<0)throw i("The argument can't be less than 0");return t}},4384:(e,t,n)=>{var r=n(6654),i=n(1419),o=n(1637),s=n(7689),a=n(9370),l=n(4103),u=TypeError,c=l("toPrimitive");e.exports=function(e,t){if(!i(e)||o(e))return e;var n,l=s(e,c);if(l){if(void 0===t&&(t="default"),n=r(l,e,t),!i(n)||o(n))return n;throw u("Can't convert object to primitive value")}return void 0===t&&(t="number"),a(e,t)}},1017:(e,t,n)=>{var r=n(4384),i=n(1637);e.exports=function(e){var t=r(e,"string");return i(t)?t:t+""}},8088:(e,t,n)=>{var r=n(4103),i=r("toStringTag"),o={};o[i]="z",e.exports="[object z]"===String(o)},6975:(e,t,n)=>{var r=n(4239),i=String;e.exports=function(e){if("Symbol"===r(e))throw TypeError("Cannot convert a Symbol value to a string");return i(e)}},7545:e=>{var t=String;e.exports=function(e){try{return t(e)}catch(n){return"Object"}}},8532:(e,t,n)=>{"use strict";var r=n(6943),i=n(3834),o=n(6654),s=n(4133),a=n(5136),l=n(8086),u=n(2248),c=n(8406),h=n(3386),d=n(4722),f=n(3903),p=n(7302),m=n(4686),g=n(4084),v=n(1017),y=n(2924),b=n(4239),w=n(1419),_=n(1637),S=n(5267),k=n(6123),I=n(6534),x=n(3450).f,E=n(1157),T=n(9226).forEach,C=n(7104),A=n(1012),R=n(863),O=n(780),N=n(2511),P=O.get,D=O.set,L=O.enforce,F=A.f,M=R.f,q=Math.round,U=i.RangeError,B=u.ArrayBuffer,V=B.prototype,j=u.DataView,z=l.NATIVE_ARRAY_BUFFER_VIEWS,$=l.TYPED_ARRAY_TAG,H=l.TypedArray,K=l.TypedArrayPrototype,W=l.aTypedArrayConstructor,G=l.isTypedArray,Z="BYTES_PER_ELEMENT",Y="Wrong length",Q=function(e,t){W(e);var n=0,r=t.length,i=new e(r);while(r>n)i[n]=t[n++];return i},J=function(e,t){F(e,t,{get:function(){return P(this)[t]}})},X=function(e){var t;return k(V,e)||"ArrayBuffer"==(t=b(e))||"SharedArrayBuffer"==t},ee=function(e,t){return G(e)&&!_(t)&&t in e&&f(+t)&&t>=0},te=function(e,t){return t=v(t),ee(e,t)?h(2,e[t]):M(e,t)},ne=function(e,t,n){return t=v(t),!(ee(e,t)&&w(n)&&y(n,"value"))||y(n,"get")||y(n,"set")||n.configurable||y(n,"writable")&&!n.writable||y(n,"enumerable")&&!n.enumerable?F(e,t,n):(e[t]=n.value,e)};s?(z||(R.f=te,A.f=ne,J(K,"buffer"),J(K,"byteOffset"),J(K,"byteLength"),J(K,"length")),r({target:"Object",stat:!0,forced:!z},{getOwnPropertyDescriptor:te,defineProperty:ne}),e.exports=function(e,t,n){var s=e.match(/\d+$/)[0]/8,l=e+(n?"Clamped":"")+"Array",u="get"+e,h="set"+e,f=i[l],v=f,y=v&&v.prototype,b={},_=function(e,t){var n=P(e);return n.view[u](t*s+n.byteOffset,!0)},k=function(e,t,r){var i=P(e);n&&(r=(r=q(r))<0?0:r>255?255:255&r),i.view[h](t*s+i.byteOffset,r,!0)},A=function(e,t){F(e,t,{get:function(){return _(this,t)},set:function(e){return k(this,t,e)},enumerable:!0})};z?a&&(v=t((function(e,t,n,r){return c(e,y),N(function(){return w(t)?X(t)?void 0!==r?new f(t,g(n,s),r):void 0!==n?new f(t,g(n,s)):new f(t):G(t)?Q(v,t):o(E,v,t):new f(m(t))}(),e,v)})),I&&I(v,H),T(x(f),(function(e){e in v||d(v,e,f[e])})),v.prototype=y):(v=t((function(e,t,n,r){c(e,y);var i,a,l,u=0,h=0;if(w(t)){if(!X(t))return G(t)?Q(v,t):o(E,v,t);i=t,h=g(n,s);var d=t.byteLength;if(void 0===r){if(d%s)throw U(Y);if(a=d-h,a<0)throw U(Y)}else if(a=p(r)*s,a+h>d)throw U(Y);l=a/s}else l=m(t),a=l*s,i=new B(a);D(e,{buffer:i,byteOffset:h,byteLength:a,length:l,view:new j(i)});while(u<l)A(e,u++)})),I&&I(v,H),y=v.prototype=S(K)),y.constructor!==v&&d(y,"constructor",v),L(y).TypedArrayConstructor=v,$&&d(y,$,l);var R=v!=f;b[l]=v,r({global:!0,constructor:!0,forced:R,sham:!z},b),Z in v||d(v,Z,s),Z in y||d(y,Z,s),C(l)}):e.exports=function(){}},5136:(e,t,n)=>{var r=n(3834),i=n(8814),o=n(8272),s=n(8086).NATIVE_ARRAY_BUFFER_VIEWS,a=r.ArrayBuffer,l=r.Int8Array;e.exports=!s||!i((function(){l(1)}))||!i((function(){new l(-1)}))||!o((function(e){new l,new l(null),new l(1.5),new l(e)}),!0)||i((function(){return 1!==new l(new a(2),1,void 0).length}))},1157:(e,t,n)=>{var r=n(6158),i=n(6654),o=n(9667),s=n(8332),a=n(8600),l=n(4021),u=n(3395),c=n(5712),h=n(8086).aTypedArrayConstructor;e.exports=function(e){var t,n,d,f,p,m,g=o(this),v=s(e),y=arguments.length,b=y>1?arguments[1]:void 0,w=void 0!==b,_=u(v);if(_&&!c(_)){p=l(v,_),m=p.next,v=[];while(!(f=i(m,p)).done)v.push(f.value)}for(w&&y>2&&(b=r(b,arguments[2])),n=a(v),d=new(h(g))(n),t=0;n>t;t++)d[t]=w?b(v[t],t):v[t];return d}},3965:(e,t,n)=>{var r=n(1636),i=0,o=Math.random(),s=r(1..toString);e.exports=function(e){return"Symbol("+(void 0===e?"":e)+")_"+s(++i+o,36)}},36:(e,t,n)=>{var r=n(8814),i=n(4103),o=n(200),s=i("iterator");e.exports=!r((function(){var e=new URL("b?a=1&b=2&c=3","http://a"),t=e.searchParams,n="";return e.pathname="c%20d",t.forEach((function(e,r){t["delete"]("b"),n+=r+e})),o&&!e.toJSON||!t.sort||"http://a/c%20d?a=1&c=3"!==e.href||"3"!==t.get("c")||"a=1"!==String(new URLSearchParams("?a=1"))||!t[s]||"a"!==new URL("https://a@b").username||"b"!==new URLSearchParams(new URLSearchParams("a=b")).get("a")||"xn--e1aybc"!==new URL("http://").host||"#%D0%B1"!==new URL("http://a#").hash||"a1c3"!==n||"x"!==new URL("http://x",void 0).host}))},49:(e,t,n)=>{var r=n(4651);e.exports=r&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},64:(e,t,n)=>{var r=n(4133),i=n(8814);e.exports=r&&i((function(){return 42!=Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype}))},5809:e=>{var t=TypeError;e.exports=function(e,n){if(e<n)throw t("Not enough arguments");return e}},5779:(e,t,n)=>{var r=n(3834),i=n(6107),o=r.WeakMap;e.exports=i(o)&&/native code/.test(String(o))},4103:(e,t,n)=>{var r=n(3834),i=n(8850),o=n(2924),s=n(3965),a=n(4651),l=n(49),u=i("wks"),c=r.Symbol,h=c&&c["for"],d=l?c:c&&c.withoutSetter||s;e.exports=function(e){if(!o(u,e)||!a&&"string"!=typeof u[e]){var t="Symbol."+e;a&&o(c,e)?u[e]=c[e]:u[e]=l&&h?h(t):d(t)}return u[e]}},8376:(e,t,n)=>{"use strict";var r=n(7859),i=n(2924),o=n(4722),s=n(6123),a=n(6534),l=n(7366),u=n(4569),c=n(2511),h=n(1356),d=n(6270),f=n(7940),p=n(9277),m=n(4133),g=n(200);e.exports=function(e,t,n,v){var y="stackTraceLimit",b=v?2:1,w=e.split("."),_=w[w.length-1],S=r.apply(null,w);if(S){var k=S.prototype;if(!g&&i(k,"cause")&&delete k.cause,!n)return S;var I=r("Error"),x=t((function(e,t){var n=h(v?t:e,void 0),r=v?new S(e):new S;return void 0!==n&&o(r,"message",n),p&&o(r,"stack",f(r.stack,2)),this&&s(k,this)&&c(r,this,x),arguments.length>b&&d(r,arguments[b]),r}));if(x.prototype=k,"Error"!==_?a?a(x,I):l(x,I,{name:!0}):m&&y in S&&(u(x,S,y),u(x,S,"prepareStackTrace")),l(x,S),!g)try{k.name!==_&&o(k,"name",_),k.constructor=x}catch(E){}return x}}},6727:(e,t,n)=>{"use strict";var r=n(6943),i=n(7714).includes,o=n(8814),s=n(5323),a=o((function(){return!Array(1).includes()}));r({target:"Array",proto:!0,forced:a},{includes:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}}),s("includes")},8998:(e,t,n)=>{"use strict";var r=n(7447),i=n(5323),o=n(1366),s=n(780),a=n(1012).f,l=n(4987),u=n(200),c=n(4133),h="Array Iterator",d=s.set,f=s.getterFor(h);e.exports=l(Array,"Array",(function(e,t){d(this,{type:h,target:r(e),index:0,kind:t})}),(function(){var e=f(this),t=e.target,n=e.kind,r=e.index++;return!t||r>=t.length?(e.target=void 0,{value:void 0,done:!0}):"keys"==n?{value:r,done:!1}:"values"==n?{value:t[r],done:!1}:{value:[r,t[r]],done:!1}}),"values");var p=o.Arguments=o.Array;if(i("keys"),i("values"),i("entries"),!u&&c&&"values"!==p.name)try{a(p,"name",{value:"values"})}catch(m){}},6822:(e,t,n)=>{var r=n(6943),i=n(3834),o=n(6112),s=n(8376),a="WebAssembly",l=i[a],u=7!==Error("e",{cause:7}).cause,c=function(e,t){var n={};n[e]=s(e,t,u),r({global:!0,constructor:!0,arity:1,forced:u},n)},h=function(e,t){if(l&&l[e]){var n={};n[e]=s(a+"."+e,t,u),r({target:a,stat:!0,constructor:!0,arity:1,forced:u},n)}};c("Error",(function(e){return function(t){return o(e,this,arguments)}})),c("EvalError",(function(e){return function(t){return o(e,this,arguments)}})),c("RangeError",(function(e){return function(t){return o(e,this,arguments)}})),c("ReferenceError",(function(e){return function(t){return o(e,this,arguments)}})),c("SyntaxError",(function(e){return function(t){return o(e,this,arguments)}})),c("TypeError",(function(e){return function(t){return o(e,this,arguments)}})),c("URIError",(function(e){return function(t){return o(e,this,arguments)}})),h("CompileError",(function(e){return function(t){return o(e,this,arguments)}})),h("LinkError",(function(e){return function(t){return o(e,this,arguments)}})),h("RuntimeError",(function(e){return function(t){return o(e,this,arguments)}}))},1476:(e,t,n)=>{"use strict";var r=n(6943),i=n(738);r({target:"RegExp",proto:!0,forced:/./.exec!==i},{exec:i})},3122:(e,t,n)=>{var r=n(3834),i=n(4133),o=n(9570),s=n(9592),a=n(8814),l=r.RegExp,u=l.prototype,c=i&&a((function(){var e=!0;try{l(".","d")}catch(c){e=!1}var t={},n="",r=e?"dgimsy":"gimsy",i=function(e,r){Object.defineProperty(t,e,{get:function(){return n+=r,!0}})},o={dotAll:"s",global:"g",ignoreCase:"i",multiline:"m",sticky:"y"};for(var s in e&&(o.hasIndices="d"),o)i(s,o[s]);var a=Object.getOwnPropertyDescriptor(u,"flags").get.call(t);return a!==r||n!==r}));c&&o(u,"flags",{configurable:!0,get:s})},7280:(e,t,n)=>{"use strict";var r=n(6823).charAt,i=n(6975),o=n(780),s=n(4987),a="String Iterator",l=o.set,u=o.getterFor(a);s(String,"String",(function(e){l(this,{type:a,string:i(e),index:0})}),(function(){var e,t=u(this),n=t.string,i=t.index;return i>=n.length?{value:void 0,done:!0}:(e=r(n,i),t.index+=e.length,{value:e,done:!1})}))},8964:(e,t,n)=>{"use strict";var r=n(6112),i=n(6654),o=n(1636),s=n(3218),a=n(8814),l=n(616),u=n(6107),c=n(3873),h=n(6675),d=n(7302),f=n(6975),p=n(5177),m=n(3366),g=n(7689),v=n(3075),y=n(3808),b=n(4103),w=b("replace"),_=Math.max,S=Math.min,k=o([].concat),I=o([].push),x=o("".indexOf),E=o("".slice),T=function(e){return void 0===e?e:String(e)},C=function(){return"$0"==="a".replace(/./,"$0")}(),A=function(){return!!/./[w]&&""===/./[w]("a","$0")}(),R=!a((function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")}));s("replace",(function(e,t,n){var o=A?"$":"$0";return[function(e,n){var r=p(this),o=c(e)?void 0:g(e,w);return o?i(o,e,r,n):i(t,f(r),e,n)},function(e,i){var s=l(this),a=f(e);if("string"==typeof i&&-1===x(i,o)&&-1===x(i,"$<")){var c=n(t,s,a,i);if(c.done)return c.value}var p=u(i);p||(i=f(i));var g=s.global;if(g){var b=s.unicode;s.lastIndex=0}var w=[];while(1){var C=y(s,a);if(null===C)break;if(I(w,C),!g)break;var A=f(C[0]);""===A&&(s.lastIndex=m(a,d(s.lastIndex),b))}for(var R="",O=0,N=0;N<w.length;N++){C=w[N];for(var P=f(C[0]),D=_(S(h(C.index),a.length),0),L=[],F=1;F<C.length;F++)I(L,T(C[F]));var M=C.groups;if(p){var q=k([P],L,D,a);void 0!==M&&I(q,M);var U=f(r(i,void 0,q))}else U=v(P,a,D,L,M,i);D>=O&&(R+=E(a,O,D)+U,O=D+P.length)}return R+E(a,O)}]}),!R||!C||A)},5231:(e,t,n)=>{"use strict";var r=n(8086),i=n(8600),o=n(6675),s=r.aTypedArray,a=r.exportTypedArrayMethod;a("at",(function(e){var t=s(this),n=i(t),r=o(e),a=r>=0?r:n+r;return a<0||a>=n?void 0:t[a]}))},7725:(e,t,n)=>{"use strict";var r=n(8086),i=n(5408),o=n(7385),s=n(4239),a=n(6654),l=n(1636),u=n(8814),c=r.aTypedArray,h=r.exportTypedArrayMethod,d=l("".slice),f=u((function(){var e=0;return new Int8Array(2).fill({valueOf:function(){return e++}}),1!==e}));h("fill",(function(e){var t=arguments.length;c(this);var n="Big"===d(s(this),0,3)?o(e):+e;return a(i,this,n,t>1?arguments[1]:void 0,t>2?arguments[2]:void 0)}),f)},548:(e,t,n)=>{"use strict";var r=n(8086),i=n(9275).findLastIndex,o=r.aTypedArray,s=r.exportTypedArrayMethod;s("findLastIndex",(function(e){return i(o(this),e,arguments.length>1?arguments[1]:void 0)}))},9212:(e,t,n)=>{"use strict";var r=n(8086),i=n(9275).findLast,o=r.aTypedArray,s=r.exportTypedArrayMethod;s("findLast",(function(e){return i(o(this),e,arguments.length>1?arguments[1]:void 0)}))},9359:(e,t,n)=>{"use strict";var r=n(3834),i=n(6654),o=n(8086),s=n(8600),a=n(4084),l=n(8332),u=n(8814),c=r.RangeError,h=r.Int8Array,d=h&&h.prototype,f=d&&d.set,p=o.aTypedArray,m=o.exportTypedArrayMethod,g=!u((function(){var e=new Uint8ClampedArray(2);return i(f,e,{length:1,0:3},1),3!==e[1]})),v=g&&o.NATIVE_ARRAY_BUFFER_VIEWS&&u((function(){var e=new h(2);return e.set(1),e.set("2",1),0!==e[0]||2!==e[1]}));m("set",(function(e){p(this);var t=a(arguments.length>1?arguments[1]:void 0,1),n=l(e);if(g)return i(f,this,n,t);var r=this.length,o=s(n),u=0;if(o+t>r)throw c("Wrong length");while(u<o)this[t+u]=n[u++]}),!g||v)},6408:(e,t,n)=>{"use strict";var r=n(3834),i=n(1636),o=n(8814),s=n(8762),a=n(7085),l=n(8086),u=n(259),c=n(1280),h=n(1418),d=n(7433),f=l.aTypedArray,p=l.exportTypedArrayMethod,m=r.Uint16Array,g=m&&i(m.prototype.sort),v=!!g&&!(o((function(){g(new m(2),null)}))&&o((function(){g(new m(2),{})}))),y=!!g&&!o((function(){if(h)return h<74;if(u)return u<67;if(c)return!0;if(d)return d<602;var e,t,n=new m(516),r=Array(516);for(e=0;e<516;e++)t=e%4,n[e]=515-e,r[e]=e-2*t+3;for(g(n,(function(e,t){return(e/4|0)-(t/4|0)})),e=0;e<516;e++)if(n[e]!==r[e])return!0})),b=function(e){return function(t,n){return void 0!==e?+e(t,n)||0:n!==n?-1:t!==t?1:0===t&&0===n?1/t>0&&1/n<0?1:-1:t>n}};p("sort",(function(e){return void 0!==e&&s(e),y?g(this,e):a(f(this),b(e))}),!y||v)},8170:(e,t,n)=>{var r=n(8532);r("Uint8",(function(e){return function(t,n,r){return e(this,t,n,r)}}))},3667:(e,t,n)=>{n(548)},940:(e,t,n)=>{n(9212)},702:(e,t,n)=>{var r=n(3834),i=n(5243),o=n(4130),s=n(8998),a=n(4722),l=n(4103),u=l("iterator"),c=l("toStringTag"),h=s.values,d=function(e,t){if(e){if(e[u]!==h)try{a(e,u,h)}catch(r){e[u]=h}if(e[c]||a(e,c,t),i[t])for(var n in s)if(e[n]!==s[n])try{a(e,n,s[n])}catch(r){e[n]=s[n]}}};for(var f in i)d(r[f]&&r[f].prototype,f);d(o,"DOMTokenList")},8623:(e,t,n)=>{"use strict";n(8998);var r=n(6943),i=n(3834),o=n(6654),s=n(1636),a=n(4133),l=n(36),u=n(4076),c=n(2714),h=n(2365),d=n(2950),f=n(780),p=n(8406),m=n(6107),g=n(2924),v=n(6158),y=n(4239),b=n(616),w=n(1419),_=n(6975),S=n(5267),k=n(3386),I=n(4021),x=n(3395),E=n(5809),T=n(4103),C=n(7085),A=T("iterator"),R="URLSearchParams",O=R+"Iterator",N=f.set,P=f.getterFor(R),D=f.getterFor(O),L=Object.getOwnPropertyDescriptor,F=function(e){if(!a)return i[e];var t=L(i,e);return t&&t.value},M=F("fetch"),q=F("Request"),U=F("Headers"),B=q&&q.prototype,V=U&&U.prototype,j=i.RegExp,z=i.TypeError,$=i.decodeURIComponent,H=i.encodeURIComponent,K=s("".charAt),W=s([].join),G=s([].push),Z=s("".replace),Y=s([].shift),Q=s([].splice),J=s("".split),X=s("".slice),ee=/\+/g,te=Array(4),ne=function(e){return te[e-1]||(te[e-1]=j("((?:%[\\da-f]{2}){"+e+"})","gi"))},re=function(e){try{return $(e)}catch(t){return e}},ie=function(e){var t=Z(e,ee," "),n=4;try{return $(t)}catch(r){while(n)t=Z(t,ne(n--),re);return t}},oe=/[!'()~]|%20/g,se={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},ae=function(e){return se[e]},le=function(e){return Z(H(e),oe,ae)},ue=d((function(e,t){N(this,{type:O,iterator:I(P(e).entries),kind:t})}),"Iterator",(function(){var e=D(this),t=e.kind,n=e.iterator.next(),r=n.value;return n.done||(n.value="keys"===t?r.key:"values"===t?r.value:[r.key,r.value]),n}),!0),ce=function(e){this.entries=[],this.url=null,void 0!==e&&(w(e)?this.parseObject(e):this.parseQuery("string"==typeof e?"?"===K(e,0)?X(e,1):e:_(e)))};ce.prototype={type:R,bindURL:function(e){this.url=e,this.update()},parseObject:function(e){var t,n,r,i,s,a,l,u=x(e);if(u){t=I(e,u),n=t.next;while(!(r=o(n,t)).done){if(i=I(b(r.value)),s=i.next,(a=o(s,i)).done||(l=o(s,i)).done||!o(s,i).done)throw z("Expected sequence with length 2");G(this.entries,{key:_(a.value),value:_(l.value)})}}else for(var c in e)g(e,c)&&G(this.entries,{key:c,value:_(e[c])})},parseQuery:function(e){if(e){var t,n,r=J(e,"&"),i=0;while(i<r.length)t=r[i++],t.length&&(n=J(t,"="),G(this.entries,{key:ie(Y(n)),value:ie(W(n,"="))}))}},serialize:function(){var e,t=this.entries,n=[],r=0;while(r<t.length)e=t[r++],G(n,le(e.key)+"="+le(e.value));return W(n,"&")},update:function(){this.entries.length=0,this.parseQuery(this.url.query)},updateURL:function(){this.url&&this.url.update()}};var he=function(){p(this,de);var e=arguments.length>0?arguments[0]:void 0;N(this,new ce(e))},de=he.prototype;if(c(de,{append:function(e,t){E(arguments.length,2);var n=P(this);G(n.entries,{key:_(e),value:_(t)}),n.updateURL()},delete:function(e){E(arguments.length,1);var t=P(this),n=t.entries,r=_(e),i=0;while(i<n.length)n[i].key===r?Q(n,i,1):i++;t.updateURL()},get:function(e){E(arguments.length,1);for(var t=P(this).entries,n=_(e),r=0;r<t.length;r++)if(t[r].key===n)return t[r].value;return null},getAll:function(e){E(arguments.length,1);for(var t=P(this).entries,n=_(e),r=[],i=0;i<t.length;i++)t[i].key===n&&G(r,t[i].value);return r},has:function(e){E(arguments.length,1);var t=P(this).entries,n=_(e),r=0;while(r<t.length)if(t[r++].key===n)return!0;return!1},set:function(e,t){E(arguments.length,1);for(var n,r=P(this),i=r.entries,o=!1,s=_(e),a=_(t),l=0;l<i.length;l++)n=i[l],n.key===s&&(o?Q(i,l--,1):(o=!0,n.value=a));o||G(i,{key:s,value:a}),r.updateURL()},sort:function(){var e=P(this);C(e.entries,(function(e,t){return e.key>t.key?1:-1})),e.updateURL()},forEach:function(e){var t,n=P(this).entries,r=v(e,arguments.length>1?arguments[1]:void 0),i=0;while(i<n.length)t=n[i++],r(t.value,t.key,this)},keys:function(){return new ue(this,"keys")},values:function(){return new ue(this,"values")},entries:function(){return new ue(this,"entries")}},{enumerable:!0}),u(de,A,de.entries,{name:"entries"}),u(de,"toString",(function(){return P(this).serialize()}),{enumerable:!0}),h(he,R),r({global:!0,constructor:!0,forced:!l},{URLSearchParams:he}),!l&&m(U)){var fe=s(V.has),pe=s(V.set),me=function(e){if(w(e)){var t,n=e.body;if(y(n)===R)return t=e.headers?new U(e.headers):new U,fe(t,"content-type")||pe(t,"content-type","application/x-www-form-urlencoded;charset=UTF-8"),S(e,{body:k(0,_(n)),headers:k(0,t)})}return e};if(m(M)&&r({global:!0,enumerable:!0,dontCallGetSet:!0,forced:!0},{fetch:function(e){return M(e,arguments.length>1?me(arguments[1]):{})}}),m(q)){var ge=function(e){return p(this,B),new q(e,arguments.length>1?me(arguments[1]):{})};B.constructor=ge,ge.prototype=B,r({global:!0,constructor:!0,dontCallGetSet:!0,forced:!0},{Request:ge})}}e.exports={URLSearchParams:he,getState:P}},3269:(e,t,n)=>{n(8623)},6614:(e,t,n)=>{"use strict";n(7280);var r,i=n(6943),o=n(4133),s=n(36),a=n(3834),l=n(6158),u=n(1636),c=n(4076),h=n(9570),d=n(8406),f=n(2924),p=n(9804),m=n(7508),g=n(6378),v=n(6823).codeAt,y=n(2552),b=n(6975),w=n(2365),_=n(5809),S=n(8623),k=n(780),I=k.set,x=k.getterFor("URL"),E=S.URLSearchParams,T=S.getState,C=a.URL,A=a.TypeError,R=a.parseInt,O=Math.floor,N=Math.pow,P=u("".charAt),D=u(/./.exec),L=u([].join),F=u(1..toString),M=u([].pop),q=u([].push),U=u("".replace),B=u([].shift),V=u("".split),j=u("".slice),z=u("".toLowerCase),$=u([].unshift),H="Invalid authority",K="Invalid scheme",W="Invalid host",G="Invalid port",Z=/[a-z]/i,Y=/[\d+-.a-z]/i,Q=/\d/,J=/^0x/i,X=/^[0-7]+$/,ee=/^\d+$/,te=/^[\da-f]+$/i,ne=/[\0\t\n\r #%/:<>?@[\\\]^|]/,re=/[\0\t\n\r #/:<>?@[\\\]^|]/,ie=/^[\u0000-\u0020]+|[\u0000-\u0020]+$/g,oe=/[\t\n\r]/g,se=function(e){var t,n,r,i,o,s,a,l=V(e,".");if(l.length&&""==l[l.length-1]&&l.length--,t=l.length,t>4)return e;for(n=[],r=0;r<t;r++){if(i=l[r],""==i)return e;if(o=10,i.length>1&&"0"==P(i,0)&&(o=D(J,i)?16:8,i=j(i,8==o?1:2)),""===i)s=0;else{if(!D(10==o?ee:8==o?X:te,i))return e;s=R(i,o)}q(n,s)}for(r=0;r<t;r++)if(s=n[r],r==t-1){if(s>=N(256,5-t))return null}else if(s>255)return null;for(a=M(n),r=0;r<n.length;r++)a+=n[r]*N(256,3-r);return a},ae=function(e){var t,n,r,i,o,s,a,l=[0,0,0,0,0,0,0,0],u=0,c=null,h=0,d=function(){return P(e,h)};if(":"==d()){if(":"!=P(e,1))return;h+=2,u++,c=u}while(d()){if(8==u)return;if(":"!=d()){t=n=0;while(n<4&&D(te,d()))t=16*t+R(d(),16),h++,n++;if("."==d()){if(0==n)return;if(h-=n,u>6)return;r=0;while(d()){if(i=null,r>0){if(!("."==d()&&r<4))return;h++}if(!D(Q,d()))return;while(D(Q,d())){if(o=R(d(),10),null===i)i=o;else{if(0==i)return;i=10*i+o}if(i>255)return;h++}l[u]=256*l[u]+i,r++,2!=r&&4!=r||u++}if(4!=r)return;break}if(":"==d()){if(h++,!d())return}else if(d())return;l[u++]=t}else{if(null!==c)return;h++,u++,c=u}}if(null!==c){s=u-c,u=7;while(0!=u&&s>0)a=l[u],l[u--]=l[c+s-1],l[c+--s]=a}else if(8!=u)return;return l},le=function(e){for(var t=null,n=1,r=null,i=0,o=0;o<8;o++)0!==e[o]?(i>n&&(t=r,n=i),r=null,i=0):(null===r&&(r=o),++i);return i>n&&(t=r,n=i),t},ue=function(e){var t,n,r,i;if("number"==typeof e){for(t=[],n=0;n<4;n++)$(t,e%256),e=O(e/256);return L(t,".")}if("object"==typeof e){for(t="",r=le(e),n=0;n<8;n++)i&&0===e[n]||(i&&(i=!1),r===n?(t+=n?":":"::",i=!0):(t+=F(e[n],16),n<7&&(t+=":")));return"["+t+"]"}return e},ce={},he=p({},ce,{" ":1,'"':1,"<":1,">":1,"`":1}),de=p({},he,{"#":1,"?":1,"{":1,"}":1}),fe=p({},de,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),pe=function(e,t){var n=v(e,0);return n>32&&n<127&&!f(t,e)?e:encodeURIComponent(e)},me={ftp:21,file:null,http:80,https:443,ws:80,wss:443},ge=function(e,t){var n;return 2==e.length&&D(Z,P(e,0))&&(":"==(n=P(e,1))||!t&&"|"==n)},ve=function(e){var t;return e.length>1&&ge(j(e,0,2))&&(2==e.length||"/"===(t=P(e,2))||"\\"===t||"?"===t||"#"===t)},ye=function(e){return"."===e||"%2e"===z(e)},be=function(e){return e=z(e),".."===e||"%2e."===e||".%2e"===e||"%2e%2e"===e},we={},_e={},Se={},ke={},Ie={},xe={},Ee={},Te={},Ce={},Ae={},Re={},Oe={},Ne={},Pe={},De={},Le={},Fe={},Me={},qe={},Ue={},Be={},Ve=function(e,t,n){var r,i,o,s=b(e);if(t){if(i=this.parse(s),i)throw A(i);this.searchParams=null}else{if(void 0!==n&&(r=new Ve(n,!0)),i=this.parse(s,null,r),i)throw A(i);o=T(new E),o.bindURL(this),this.searchParams=o}};Ve.prototype={type:"URL",parse:function(e,t,n){var i,o,s,a,l=this,u=t||we,c=0,h="",d=!1,p=!1,v=!1;e=b(e),t||(l.scheme="",l.username="",l.password="",l.host=null,l.port=null,l.path=[],l.query=null,l.fragment=null,l.cannotBeABaseURL=!1,e=U(e,ie,"")),e=U(e,oe,""),i=m(e);while(c<=i.length){switch(o=i[c],u){case we:if(!o||!D(Z,o)){if(t)return K;u=Se;continue}h+=z(o),u=_e;break;case _e:if(o&&(D(Y,o)||"+"==o||"-"==o||"."==o))h+=z(o);else{if(":"!=o){if(t)return K;h="",u=Se,c=0;continue}if(t&&(l.isSpecial()!=f(me,h)||"file"==h&&(l.includesCredentials()||null!==l.port)||"file"==l.scheme&&!l.host))return;if(l.scheme=h,t)return void(l.isSpecial()&&me[l.scheme]==l.port&&(l.port=null));h="","file"==l.scheme?u=Pe:l.isSpecial()&&n&&n.scheme==l.scheme?u=ke:l.isSpecial()?u=Te:"/"==i[c+1]?(u=Ie,c++):(l.cannotBeABaseURL=!0,q(l.path,""),u=qe)}break;case Se:if(!n||n.cannotBeABaseURL&&"#"!=o)return K;if(n.cannotBeABaseURL&&"#"==o){l.scheme=n.scheme,l.path=g(n.path),l.query=n.query,l.fragment="",l.cannotBeABaseURL=!0,u=Be;break}u="file"==n.scheme?Pe:xe;continue;case ke:if("/"!=o||"/"!=i[c+1]){u=xe;continue}u=Ce,c++;break;case Ie:if("/"==o){u=Ae;break}u=Me;continue;case xe:if(l.scheme=n.scheme,o==r)l.username=n.username,l.password=n.password,l.host=n.host,l.port=n.port,l.path=g(n.path),l.query=n.query;else if("/"==o||"\\"==o&&l.isSpecial())u=Ee;else if("?"==o)l.username=n.username,l.password=n.password,l.host=n.host,l.port=n.port,l.path=g(n.path),l.query="",u=Ue;else{if("#"!=o){l.username=n.username,l.password=n.password,l.host=n.host,l.port=n.port,l.path=g(n.path),l.path.length--,u=Me;continue}l.username=n.username,l.password=n.password,l.host=n.host,l.port=n.port,l.path=g(n.path),l.query=n.query,l.fragment="",u=Be}break;case Ee:if(!l.isSpecial()||"/"!=o&&"\\"!=o){if("/"!=o){l.username=n.username,l.password=n.password,l.host=n.host,l.port=n.port,u=Me;continue}u=Ae}else u=Ce;break;case Te:if(u=Ce,"/"!=o||"/"!=P(h,c+1))continue;c++;break;case Ce:if("/"!=o&&"\\"!=o){u=Ae;continue}break;case Ae:if("@"==o){d&&(h="%40"+h),d=!0,s=m(h);for(var y=0;y<s.length;y++){var w=s[y];if(":"!=w||v){var _=pe(w,fe);v?l.password+=_:l.username+=_}else v=!0}h=""}else if(o==r||"/"==o||"?"==o||"#"==o||"\\"==o&&l.isSpecial()){if(d&&""==h)return H;c-=m(h).length+1,h="",u=Re}else h+=o;break;case Re:case Oe:if(t&&"file"==l.scheme){u=Le;continue}if(":"!=o||p){if(o==r||"/"==o||"?"==o||"#"==o||"\\"==o&&l.isSpecial()){if(l.isSpecial()&&""==h)return W;if(t&&""==h&&(l.includesCredentials()||null!==l.port))return;if(a=l.parseHost(h),a)return a;if(h="",u=Fe,t)return;continue}"["==o?p=!0:"]"==o&&(p=!1),h+=o}else{if(""==h)return W;if(a=l.parseHost(h),a)return a;if(h="",u=Ne,t==Oe)return}break;case Ne:if(!D(Q,o)){if(o==r||"/"==o||"?"==o||"#"==o||"\\"==o&&l.isSpecial()||t){if(""!=h){var S=R(h,10);if(S>65535)return G;l.port=l.isSpecial()&&S===me[l.scheme]?null:S,h=""}if(t)return;u=Fe;continue}return G}h+=o;break;case Pe:if(l.scheme="file","/"==o||"\\"==o)u=De;else{if(!n||"file"!=n.scheme){u=Me;continue}if(o==r)l.host=n.host,l.path=g(n.path),l.query=n.query;else if("?"==o)l.host=n.host,l.path=g(n.path),l.query="",u=Ue;else{if("#"!=o){ve(L(g(i,c),""))||(l.host=n.host,l.path=g(n.path),l.shortenPath()),u=Me;continue}l.host=n.host,l.path=g(n.path),l.query=n.query,l.fragment="",u=Be}}break;case De:if("/"==o||"\\"==o){u=Le;break}n&&"file"==n.scheme&&!ve(L(g(i,c),""))&&(ge(n.path[0],!0)?q(l.path,n.path[0]):l.host=n.host),u=Me;continue;case Le:if(o==r||"/"==o||"\\"==o||"?"==o||"#"==o){if(!t&&ge(h))u=Me;else if(""==h){if(l.host="",t)return;u=Fe}else{if(a=l.parseHost(h),a)return a;if("localhost"==l.host&&(l.host=""),t)return;h="",u=Fe}continue}h+=o;break;case Fe:if(l.isSpecial()){if(u=Me,"/"!=o&&"\\"!=o)continue}else if(t||"?"!=o)if(t||"#"!=o){if(o!=r&&(u=Me,"/"!=o))continue}else l.fragment="",u=Be;else l.query="",u=Ue;break;case Me:if(o==r||"/"==o||"\\"==o&&l.isSpecial()||!t&&("?"==o||"#"==o)){if(be(h)?(l.shortenPath(),"/"==o||"\\"==o&&l.isSpecial()||q(l.path,"")):ye(h)?"/"==o||"\\"==o&&l.isSpecial()||q(l.path,""):("file"==l.scheme&&!l.path.length&&ge(h)&&(l.host&&(l.host=""),h=P(h,0)+":"),q(l.path,h)),h="","file"==l.scheme&&(o==r||"?"==o||"#"==o))while(l.path.length>1&&""===l.path[0])B(l.path);"?"==o?(l.query="",u=Ue):"#"==o&&(l.fragment="",u=Be)}else h+=pe(o,de);break;case qe:"?"==o?(l.query="",u=Ue):"#"==o?(l.fragment="",u=Be):o!=r&&(l.path[0]+=pe(o,ce));break;case Ue:t||"#"!=o?o!=r&&("'"==o&&l.isSpecial()?l.query+="%27":l.query+="#"==o?"%23":pe(o,ce)):(l.fragment="",u=Be);break;case Be:o!=r&&(l.fragment+=pe(o,he));break}c++}},parseHost:function(e){var t,n,r;if("["==P(e,0)){if("]"!=P(e,e.length-1))return W;if(t=ae(j(e,1,-1)),!t)return W;this.host=t}else if(this.isSpecial()){if(e=y(e),D(ne,e))return W;if(t=se(e),null===t)return W;this.host=t}else{if(D(re,e))return W;for(t="",n=m(e),r=0;r<n.length;r++)t+=pe(n[r],ce);this.host=t}},cannotHaveUsernamePasswordPort:function(){return!this.host||this.cannotBeABaseURL||"file"==this.scheme},includesCredentials:function(){return""!=this.username||""!=this.password},isSpecial:function(){return f(me,this.scheme)},shortenPath:function(){var e=this.path,t=e.length;!t||"file"==this.scheme&&1==t&&ge(e[0],!0)||e.length--},serialize:function(){var e=this,t=e.scheme,n=e.username,r=e.password,i=e.host,o=e.port,s=e.path,a=e.query,l=e.fragment,u=t+":";return null!==i?(u+="//",e.includesCredentials()&&(u+=n+(r?":"+r:"")+"@"),u+=ue(i),null!==o&&(u+=":"+o)):"file"==t&&(u+="//"),u+=e.cannotBeABaseURL?s[0]:s.length?"/"+L(s,"/"):"",null!==a&&(u+="?"+a),null!==l&&(u+="#"+l),u},setHref:function(e){var t=this.parse(e);if(t)throw A(t);this.searchParams.update()},getOrigin:function(){var e=this.scheme,t=this.port;if("blob"==e)try{return new je(e.path[0]).origin}catch(n){return"null"}return"file"!=e&&this.isSpecial()?e+"://"+ue(this.host)+(null!==t?":"+t:""):"null"},getProtocol:function(){return this.scheme+":"},setProtocol:function(e){this.parse(b(e)+":",we)},getUsername:function(){return this.username},setUsername:function(e){var t=m(b(e));if(!this.cannotHaveUsernamePasswordPort()){this.username="";for(var n=0;n<t.length;n++)this.username+=pe(t[n],fe)}},getPassword:function(){return this.password},setPassword:function(e){var t=m(b(e));if(!this.cannotHaveUsernamePasswordPort()){this.password="";for(var n=0;n<t.length;n++)this.password+=pe(t[n],fe)}},getHost:function(){var e=this.host,t=this.port;return null===e?"":null===t?ue(e):ue(e)+":"+t},setHost:function(e){this.cannotBeABaseURL||this.parse(e,Re)},getHostname:function(){var e=this.host;return null===e?"":ue(e)},setHostname:function(e){this.cannotBeABaseURL||this.parse(e,Oe)},getPort:function(){var e=this.port;return null===e?"":b(e)},setPort:function(e){this.cannotHaveUsernamePasswordPort()||(e=b(e),""==e?this.port=null:this.parse(e,Ne))},getPathname:function(){var e=this.path;return this.cannotBeABaseURL?e[0]:e.length?"/"+L(e,"/"):""},setPathname:function(e){this.cannotBeABaseURL||(this.path=[],this.parse(e,Fe))},getSearch:function(){var e=this.query;return e?"?"+e:""},setSearch:function(e){e=b(e),""==e?this.query=null:("?"==P(e,0)&&(e=j(e,1)),this.query="",this.parse(e,Ue)),this.searchParams.update()},getSearchParams:function(){return this.searchParams.facade},getHash:function(){var e=this.fragment;return e?"#"+e:""},setHash:function(e){e=b(e),""!=e?("#"==P(e,0)&&(e=j(e,1)),this.fragment="",this.parse(e,Be)):this.fragment=null},update:function(){this.query=this.searchParams.serialize()||null}};var je=function(e){var t=d(this,ze),n=_(arguments.length,1)>1?arguments[1]:void 0,r=I(t,new Ve(e,!1,n));o||(t.href=r.serialize(),t.origin=r.getOrigin(),t.protocol=r.getProtocol(),t.username=r.getUsername(),t.password=r.getPassword(),t.host=r.getHost(),t.hostname=r.getHostname(),t.port=r.getPort(),t.pathname=r.getPathname(),t.search=r.getSearch(),t.searchParams=r.getSearchParams(),t.hash=r.getHash())},ze=je.prototype,$e=function(e,t){return{get:function(){return x(this)[e]()},set:t&&function(e){return x(this)[t](e)},configurable:!0,enumerable:!0}};if(o&&(h(ze,"href",$e("serialize","setHref")),h(ze,"origin",$e("getOrigin")),h(ze,"protocol",$e("getProtocol","setProtocol")),h(ze,"username",$e("getUsername","setUsername")),h(ze,"password",$e("getPassword","setPassword")),h(ze,"host",$e("getHost","setHost")),h(ze,"hostname",$e("getHostname","setHostname")),h(ze,"port",$e("getPort","setPort")),h(ze,"pathname",$e("getPathname","setPathname")),h(ze,"search",$e("getSearch","setSearch")),h(ze,"searchParams",$e("getSearchParams")),h(ze,"hash",$e("getHash","setHash"))),c(ze,"toJSON",(function(){return x(this).serialize()}),{enumerable:!0}),c(ze,"toString",(function(){return x(this).serialize()}),{enumerable:!0}),C){var He=C.createObjectURL,Ke=C.revokeObjectURL;He&&c(je,"createObjectURL",l(He,C)),Ke&&c(je,"revokeObjectURL",l(Ke,C))}w(je,"URL"),i({global:!0,constructor:!0,forced:!s,sham:!o},{URL:je})},4641:(e,t,n)=>{n(6614)},2049:function(e,t,n){var r,i,o;(function(n,s){i=[],r=s,o="function"===typeof r?r.apply(t,i):r,void 0===o||(e.exports=o)})(0,(function(){"use strict";function t(e,t){return"undefined"==typeof t?t={autoBom:!1}:"object"!=typeof t&&(console.warn("Deprecated: Expected third argument to be a object"),t={autoBom:!t}),t.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(e.type)?new Blob(["\ufeff",e],{type:e.type}):e}function r(e,t,n){var r=new XMLHttpRequest;r.open("GET",e),r.responseType="blob",r.onload=function(){l(r.response,t,n)},r.onerror=function(){console.error("could not download file")},r.send()}function i(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch(e){}return 200<=t.status&&299>=t.status}function o(e){try{e.dispatchEvent(new MouseEvent("click"))}catch(r){var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var s="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof n.g&&n.g.global===n.g?n.g:void 0,a=s.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),l=s.saveAs||("object"!=typeof window||window!==s?function(){}:"download"in HTMLAnchorElement.prototype&&!a?function(e,t,n){var a=s.URL||s.webkitURL,l=document.createElement("a");t=t||e.name||"download",l.download=t,l.rel="noopener","string"==typeof e?(l.href=e,l.origin===location.origin?o(l):i(l.href)?r(e,t,n):o(l,l.target="_blank")):(l.href=a.createObjectURL(e),setTimeout((function(){a.revokeObjectURL(l.href)}),4e4),setTimeout((function(){o(l)}),0))}:"msSaveOrOpenBlob"in navigator?function(e,n,s){if(n=n||e.name||"download","string"!=typeof e)navigator.msSaveOrOpenBlob(t(e,s),n);else if(i(e))r(e,n,s);else{var a=document.createElement("a");a.href=e,a.target="_blank",setTimeout((function(){o(a)}))}}:function(e,t,n,i){if(i=i||open("","_blank"),i&&(i.document.title=i.document.body.innerText="downloading..."),"string"==typeof e)return r(e,t,n);var o="application/octet-stream"===e.type,l=/constructor/i.test(s.HTMLElement)||s.safari,u=/CriOS\/[\d]+/.test(navigator.userAgent);if((u||o&&l||a)&&"undefined"!=typeof FileReader){var c=new FileReader;c.onloadend=function(){var e=c.result;e=u?e:e.replace(/^data:[^;]*;/,"data:attachment/file;"),i?i.location.href=e:location=e,i=null},c.readAsDataURL(e)}else{var h=s.URL||s.webkitURL,d=h.createObjectURL(e);i?i.location=d:location.href=d,i=null,setTimeout((function(){h.revokeObjectURL(d)}),4e4)}});s.saveAs=l.saveAs=l,e.exports=l}))},7258:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r.Z});var r=n(9859),i="firebase",o="9.9.3";
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
r.Z.registerVersion(i,o,"app-compat")},7123:(e,t,n)=>{"use strict";var r=n(9859),i=n(5505),o=n(8897);function s(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;Object.create;var a=n(9795),l=n(3513);
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const u={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},c={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function h(){return{["admin-restricted-operation"]:"This operation is restricted to administrators only.",["argument-error"]:"",["app-not-authorized"]:"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.",["app-not-installed"]:"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.",["captcha-check-failed"]:"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.",["code-expired"]:"The SMS code has expired. Please re-send the verification code to try again.",["cordova-not-ready"]:"Cordova framework is not ready.",["cors-unsupported"]:"This browser is not supported.",["credential-already-in-use"]:"This credential is already associated with a different user account.",["custom-token-mismatch"]:"The custom token corresponds to a different audience.",["requires-recent-login"]:"This operation is sensitive and requires recent authentication. Log in again before retrying this request.",["dependent-sdk-initialized-before-auth"]:"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.",["dynamic-link-not-activated"]:"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.",["email-change-needs-verification"]:"Multi-factor users must always have a verified email.",["email-already-in-use"]:"The email address is already in use by another account.",["emulator-config-failed"]:'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',["expired-action-code"]:"The action code has expired.",["cancelled-popup-request"]:"This operation has been cancelled due to another conflicting popup being opened.",["internal-error"]:"An internal AuthError has occurred.",["invalid-app-credential"]:"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.",["invalid-app-id"]:"The mobile app identifier is not registed for the current project.",["invalid-user-token"]:"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.",["invalid-auth-event"]:"An internal AuthError has occurred.",["invalid-verification-code"]:"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.",["invalid-continue-uri"]:"The continue URL provided in the request is invalid.",["invalid-cordova-configuration"]:"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.",["invalid-custom-token"]:"The custom token format is incorrect. Please check the documentation.",["invalid-dynamic-link-domain"]:"The provided dynamic link domain is not configured or authorized for the current project.",["invalid-email"]:"The email address is badly formatted.",["invalid-emulator-scheme"]:"Emulator URL must start with a valid scheme (http:// or https://).",["invalid-api-key"]:"Your API key is invalid, please check you have copied it correctly.",["invalid-cert-hash"]:"The SHA-1 certificate hash provided is invalid.",["invalid-credential"]:"The supplied auth credential is malformed or has expired.",["invalid-message-payload"]:"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.",["invalid-multi-factor-session"]:"The request does not contain a valid proof of first factor successful sign-in.",["invalid-oauth-provider"]:"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.",["invalid-oauth-client-id"]:"The OAuth client ID provided is either invalid or does not match the specified API key.",["unauthorized-domain"]:"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.",["invalid-action-code"]:"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.",["wrong-password"]:"The password is invalid or the user does not have a password.",["invalid-persistence-type"]:"The specified persistence type is invalid. It can only be local, session or none.",["invalid-phone-number"]:"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].",["invalid-provider-id"]:"The specified provider ID is invalid.",["invalid-recipient-email"]:"The email corresponding to this action failed to send as the provided recipient email address is invalid.",["invalid-sender"]:"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.",["invalid-verification-id"]:"The verification ID used to create the phone auth credential is invalid.",["invalid-tenant-id"]:"The Auth instance's tenant ID is invalid.",["login-blocked"]:"Login blocked by user-provided method: {$originalMessage}",["missing-android-pkg-name"]:"An Android Package Name must be provided if the Android App is required to be installed.",["auth-domain-config-required"]:"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.",["missing-app-credential"]:"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.",["missing-verification-code"]:"The phone auth credential was created with an empty SMS verification code.",["missing-continue-uri"]:"A continue URL must be provided in the request.",["missing-iframe-start"]:"An internal AuthError has occurred.",["missing-ios-bundle-id"]:"An iOS Bundle ID must be provided if an App Store ID is provided.",["missing-or-invalid-nonce"]:"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.",["missing-multi-factor-info"]:"No second factor identifier is provided.",["missing-multi-factor-session"]:"The request is missing proof of first factor successful sign-in.",["missing-phone-number"]:"To send verification codes, provide a phone number for the recipient.",["missing-verification-id"]:"The phone auth credential was created with an empty verification ID.",["app-deleted"]:"This instance of FirebaseApp has been deleted.",["multi-factor-info-not-found"]:"The user does not have a second factor matching the identifier provided.",["multi-factor-auth-required"]:"Proof of ownership of a second factor is required to complete sign-in.",["account-exists-with-different-credential"]:"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.",["network-request-failed"]:"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.",["no-auth-event"]:"An internal AuthError has occurred.",["no-such-provider"]:"User was not linked to an account with the given provider.",["null-user"]:"A null user object was provided as the argument for an operation which requires a non-null user object.",["operation-not-allowed"]:"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.",["operation-not-supported-in-this-environment"]:'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',["popup-blocked"]:"Unable to establish a connection with the popup. It may have been blocked by the browser.",["popup-closed-by-user"]:"The popup has been closed by the user before finalizing the operation.",["provider-already-linked"]:"User can only be linked to one identity for the given provider.",["quota-exceeded"]:"The project's quota for this operation has been exceeded.",["redirect-cancelled-by-user"]:"The redirect operation has been cancelled by the user before finalizing.",["redirect-operation-pending"]:"A redirect sign-in operation is already pending.",["rejected-credential"]:"The request contains malformed or mismatching credentials.",["second-factor-already-in-use"]:"The second factor is already enrolled on this account.",["maximum-second-factor-count-exceeded"]:"The maximum allowed number of second factors on a user has been exceeded.",["tenant-id-mismatch"]:"The provided tenant ID does not match the Auth instance's tenant ID",["timeout"]:"The operation has timed out.",["user-token-expired"]:"The user's credential is no longer valid. The user must sign in again.",["too-many-requests"]:"We have blocked all requests from this device due to unusual activity. Try again later.",["unauthorized-continue-uri"]:"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.",["unsupported-first-factor"]:"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.",["unsupported-persistence-type"]:"The current environment does not support the specified persistence type.",["unsupported-tenant-operation"]:"This operation is not supported in a multi-tenant context.",["unverified-email"]:"The operation requires a verified email.",["user-cancelled"]:"The user did not grant your application the permissions it requested.",["user-not-found"]:"There is no user record corresponding to this identifier. The user may have been deleted.",["user-disabled"]:"The user account has been disabled by an administrator.",["user-mismatch"]:"The supplied credentials do not correspond to the previously signed in user.",["user-signed-out"]:"",["weak-password"]:"The password must be 6 characters long or more.",["web-storage-unsupported"]:"This browser is not supported or 3rd party cookies and data may be disabled.",["already-initialized"]:"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}}function d(){return{["dependent-sdk-initialized-before-auth"]:"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const f=h,p=d,m=new i.LL("auth","Firebase",d()),g=new a.Yd("@firebase/auth");function v(e,...t){g.logLevel<=a["in"].ERROR&&g.error(`Auth (${o.SDK_VERSION}): ${e}`,...t)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y(e,...t){throw S(e,...t)}function b(e,...t){return S(e,...t)}function w(e,t,n){const r=Object.assign(Object.assign({},p()),{[t]:n}),o=new i.LL("auth","Firebase",r);return o.create(t,{appName:e.name})}function _(e,t,n){const r=n;if(!(t instanceof r))throw r.name!==t.constructor.name&&y(e,"argument-error"),w(e,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function S(e,...t){if("string"!==typeof e){const n=t[0],r=[...t.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(n,...r)}return m.create(e,...t)}function k(e,t,...n){if(!e)throw S(t,...n)}function I(e){const t="INTERNAL ASSERTION FAILED: "+e;throw v(t),new Error(t)}function x(e,t){e||I(t)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E=new Map;function T(e){x(e instanceof Function,"Expected a class definition");let t=E.get(e);return t?(x(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,E.set(e,t),t)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C(e,t){const n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(T);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function R(){return"http:"===O()||"https:"===O()}function O(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N(){return!("undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(R()||(0,i.ru)()||"connection"in navigator))||navigator.onLine}function P(){if("undefined"===typeof navigator)return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D{constructor(e,t){this.shortDelay=e,this.longDelay=t,x(t>e,"Short delay should be less than long delay!"),this.isMobile=(0,i.uI)()||(0,i.b$)()}get(){return N()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L(e,t){x(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:void I("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:void I("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:void I("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M={["CREDENTIAL_MISMATCH"]:"custom-token-mismatch",["MISSING_CUSTOM_TOKEN"]:"internal-error",["INVALID_IDENTIFIER"]:"invalid-email",["MISSING_CONTINUE_URI"]:"internal-error",["INVALID_PASSWORD"]:"wrong-password",["MISSING_PASSWORD"]:"internal-error",["EMAIL_EXISTS"]:"email-already-in-use",["PASSWORD_LOGIN_DISABLED"]:"operation-not-allowed",["INVALID_IDP_RESPONSE"]:"invalid-credential",["INVALID_PENDING_TOKEN"]:"invalid-credential",["FEDERATED_USER_ID_ALREADY_LINKED"]:"credential-already-in-use",["MISSING_REQ_TYPE"]:"internal-error",["EMAIL_NOT_FOUND"]:"user-not-found",["RESET_PASSWORD_EXCEED_LIMIT"]:"too-many-requests",["EXPIRED_OOB_CODE"]:"expired-action-code",["INVALID_OOB_CODE"]:"invalid-action-code",["MISSING_OOB_CODE"]:"internal-error",["CREDENTIAL_TOO_OLD_LOGIN_AGAIN"]:"requires-recent-login",["INVALID_ID_TOKEN"]:"invalid-user-token",["TOKEN_EXPIRED"]:"user-token-expired",["USER_NOT_FOUND"]:"user-token-expired",["TOO_MANY_ATTEMPTS_TRY_LATER"]:"too-many-requests",["INVALID_CODE"]:"invalid-verification-code",["INVALID_SESSION_INFO"]:"invalid-verification-id",["INVALID_TEMPORARY_PROOF"]:"invalid-credential",["MISSING_SESSION_INFO"]:"missing-verification-id",["SESSION_EXPIRED"]:"code-expired",["MISSING_ANDROID_PACKAGE_NAME"]:"missing-android-pkg-name",["UNAUTHORIZED_DOMAIN"]:"unauthorized-continue-uri",["INVALID_OAUTH_CLIENT_ID"]:"invalid-oauth-client-id",["ADMIN_ONLY_OPERATION"]:"admin-restricted-operation",["INVALID_MFA_PENDING_CREDENTIAL"]:"invalid-multi-factor-session",["MFA_ENROLLMENT_NOT_FOUND"]:"multi-factor-info-not-found",["MISSING_MFA_ENROLLMENT_ID"]:"missing-multi-factor-info",["MISSING_MFA_PENDING_CREDENTIAL"]:"missing-multi-factor-session",["SECOND_FACTOR_EXISTS"]:"second-factor-already-in-use",["SECOND_FACTOR_LIMIT_EXCEEDED"]:"maximum-second-factor-count-exceeded",["BLOCKING_FUNCTION_ERROR_RESPONSE"]:"internal-error"},q=new D(3e4,6e4);
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function B(e,t,n,r,o={}){return V(e,o,(async()=>{let o={},s={};r&&("GET"===t?s=r:o={body:JSON.stringify(r)});const a=(0,i.xO)(Object.assign({key:e.config.apiKey},s)).slice(1),l=await e._getAdditionalHeaders();return l["Content-Type"]="application/json",e.languageCode&&(l["X-Firebase-Locale"]=e.languageCode),F.fetch()(z(e,e.config.apiHost,n,a),Object.assign({method:t,headers:l,referrerPolicy:"no-referrer"},o))}))}async function V(e,t,n){e._canInitEmulator=!1;const r=Object.assign(Object.assign({},M),t);try{const t=new $(e),i=await Promise.race([n(),t.promise]);t.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw H(e,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const t=i.ok?o.errorMessage:o.error.message,[n,s]=t.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw H(e,"credential-already-in-use",o);if("EMAIL_EXISTS"===n)throw H(e,"email-already-in-use",o);if("USER_DISABLED"===n)throw H(e,"user-disabled",o);const a=r[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(s)throw w(e,a,s);y(e,a)}}catch(o){if(o instanceof i.ZR)throw o;y(e,"network-request-failed")}}async function j(e,t,n,r,i={}){const o=await B(e,t,n,r,i);return"mfaPendingCredential"in o&&y(e,"multi-factor-auth-required",{_serverResponse:o}),o}function z(e,t,n,r){const i=`${t}${n}?${r}`;return e.config.emulator?L(e.config,i):`${e.config.apiScheme}://${i}`}class ${constructor(e){this.auth=e,this.timer=null,this.promise=new Promise(((e,t)=>{this.timer=setTimeout((()=>t(b(this.auth,"network-request-failed"))),q.get())}))}clearNetworkTimeout(){clearTimeout(this.timer)}}function H(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=b(e,t,r);return i.customData._tokenResponse=n,i}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function K(e,t){return B(e,"POST","/v1/accounts:delete",t)}async function W(e,t){return B(e,"POST","/v1/accounts:update",t)}async function G(e,t){return B(e,"POST","/v1/accounts:lookup",t)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(t){}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Y(e,t=!1){const n=(0,i.m9)(e),r=await n.getIdToken(t),o=J(r);k(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const s="object"===typeof o.firebase?o.firebase:void 0,a=null===s||void 0===s?void 0:s["sign_in_provider"];return{claims:o,token:r,authTime:Z(Q(o.auth_time)),issuedAtTime:Z(Q(o.iat)),expirationTime:Z(Q(o.exp)),signInProvider:a||null,signInSecondFactor:(null===s||void 0===s?void 0:s["sign_in_second_factor"])||null}}function Q(e){return 1e3*Number(e)}function J(e){var t;const[n,r,o]=e.split(".");if(void 0===n||void 0===r||void 0===o)return v("JWT malformed, contained fewer than 3 sections"),null;try{const e=(0,i.tV)(r);return e?JSON.parse(e):(v("Failed to decode base64 JWT payload"),null)}catch(s){return v("Caught error parsing JWT payload as JSON",null===(t=s)||void 0===t?void 0:t.toString()),null}}function X(e){const t=J(e);return k(t,"internal-error"),k("undefined"!==typeof t.exp,"internal-error"),k("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ee(e,t,n=!1){if(n)return t;try{return await t}catch(r){throw r instanceof i.ZR&&te(r)&&e.auth.currentUser===e&&await e.auth.signOut(),r}}function te({code:e}){return"auth/user-disabled"===e||"auth/user-token-expired"===e}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ne{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}{this.errorBackoff=3e4;const e=null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0,n=e-Date.now()-3e5;return Math.max(0,n)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout((async()=>{await this.iteration()}),t)}async iteration(){var e;try{await this.user.getIdToken(!0)}catch(t){return void("auth/network-request-failed"===(null===(e=t)||void 0===e?void 0:e.code)&&this.schedule(!0))}this.schedule()}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class re{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Z(this.lastLoginAt),this.creationTime=Z(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ie(e){var t;const n=e.auth,r=await e.getIdToken(),i=await ee(e,G(n,{idToken:r}));k(null===i||void 0===i?void 0:i.users.length,n,"internal-error");const o=i.users[0];e._notifyReloadListener(o);const s=(null===(t=o.providerUserInfo)||void 0===t?void 0:t.length)?ae(o.providerUserInfo):[],a=se(e.providerData,s),l=e.isAnonymous,u=!(e.email&&o.passwordHash)&&!(null===a||void 0===a?void 0:a.length),c=!!l&&u,h={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new re(o.createdAt,o.lastLoginAt),isAnonymous:c};Object.assign(e,h)}async function oe(e){const t=(0,i.m9)(e);await ie(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function se(e,t){const n=e.filter((e=>!t.some((t=>t.providerId===e.providerId))));return[...n,...t]}function ae(e){return e.map((e=>{var{providerId:t}=e,n=s(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}}))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function le(e,t){const n=await V(e,{},(async()=>{const n=(0,i.xO)({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:o}=e.config,s=z(e,r,"/v1/token",`key=${o}`),a=await e._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",F.fetch()(s,{method:"POST",headers:a,body:n})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ue{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){k(e.idToken,"internal-error"),k("undefined"!==typeof e.idToken,"internal-error"),k("undefined"!==typeof e.refreshToken,"internal-error");const t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):X(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}async getToken(e,t=!1){return k(!this.accessToken||this.refreshToken,e,"user-token-expired"),t||!this.accessToken||this.isExpired?this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null:this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:r,expiresIn:i}=await le(e,t);this.updateTokensAndExpiration(n,r,Number(i))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(e,t){const{refreshToken:n,accessToken:r,expirationTime:i}=t,o=new ue;return n&&(k("string"===typeof n,"internal-error",{appName:e}),o.refreshToken=n),r&&(k("string"===typeof r,"internal-error",{appName:e}),o.accessToken=r),i&&(k("number"===typeof i,"internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ue,this.toJSON())}_performRefresh(){return I("not implemented")}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ce(e,t){k("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}class he{constructor(e){var{uid:t,auth:n,stsTokenManager:r}=e,i=s(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new ne(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new re(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const t=await ee(this,this.stsTokenManager.getToken(this.auth,e));return k(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return Y(this,e)}reload(){return oe(this)}_assign(e){this!==e&&(k(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((e=>Object.assign({},e))),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){return new he(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(e){k(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await ie(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await ee(this,K(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((e=>Object.assign({},e))),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,r,i,o,s,a,l,u;const c=null!==(n=t.displayName)&&void 0!==n?n:void 0,h=null!==(r=t.email)&&void 0!==r?r:void 0,d=null!==(i=t.phoneNumber)&&void 0!==i?i:void 0,f=null!==(o=t.photoURL)&&void 0!==o?o:void 0,p=null!==(s=t.tenantId)&&void 0!==s?s:void 0,m=null!==(a=t._redirectEventId)&&void 0!==a?a:void 0,g=null!==(l=t.createdAt)&&void 0!==l?l:void 0,v=null!==(u=t.lastLoginAt)&&void 0!==u?u:void 0,{uid:y,emailVerified:b,isAnonymous:w,providerData:_,stsTokenManager:S}=t;k(y&&S,e,"internal-error");const I=ue.fromJSON(this.name,S);k("string"===typeof y,e,"internal-error"),ce(c,e.name),ce(h,e.name),k("boolean"===typeof b,e,"internal-error"),k("boolean"===typeof w,e,"internal-error"),ce(d,e.name),ce(f,e.name),ce(p,e.name),ce(m,e.name),ce(g,e.name),ce(v,e.name);const x=new he({uid:y,auth:e,email:h,emailVerified:b,displayName:c,isAnonymous:w,photoURL:f,phoneNumber:d,tenantId:p,stsTokenManager:I,createdAt:g,lastLoginAt:v});return _&&Array.isArray(_)&&(x.providerData=_.map((e=>Object.assign({},e)))),m&&(x._redirectEventId=m),x}static async _fromIdTokenResponse(e,t,n=!1){const r=new ue;r.updateFromServerResponse(t);const i=new he({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:n});return await ie(i),i}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class de{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return void 0===t?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}de.type="NONE";const fe=de;
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pe(e,t,n){return`firebase:${e}:${t}:${n}`}class me{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:r,name:i}=this.auth;this.fullUserKey=pe(this.userKey,r.apiKey,i),this.fullPersistenceKey=pe("persistence",r.apiKey,i),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?he._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=e,t?this.setCurrentUser(t):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,n="authUser"){if(!t.length)return new me(T(fe),e,n);const r=(await Promise.all(t.map((async e=>{if(await e._isAvailable())return e})))).filter((e=>e));let i=r[0]||T(fe);const o=pe(n,e.config.apiKey,e.name);let s=null;for(const u of t)try{const t=await u._get(o);if(t){const n=he._fromJSON(e,t);u!==i&&(s=n),i=u;break}}catch(l){}const a=r.filter((e=>e._shouldAllowMigration));return i._shouldAllowMigration&&a.length?(i=a[0],s&&await i._set(o,s.toJSON()),await Promise.all(t.map((async e=>{if(e!==i)try{await e._remove(o)}catch(l){}}))),new me(i,e,n)):new me(i,e,n)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ge(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(we(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(ve(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(Se(t))return"Blackberry";if(ke(t))return"Webos";if(ye(t))return"Safari";if((t.includes("chrome/")||be(t))&&!t.includes("edge/"))return"Chrome";if(_e(t))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=e.match(t);if(2===(null===n||void 0===n?void 0:n.length))return n[1]}return"Other"}function ve(e=(0,i.z$)()){return/firefox\//i.test(e)}function ye(e=(0,i.z$)()){const t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function be(e=(0,i.z$)()){return/crios\//i.test(e)}function we(e=(0,i.z$)()){return/iemobile/i.test(e)}function _e(e=(0,i.z$)()){return/android/i.test(e)}function Se(e=(0,i.z$)()){return/blackberry/i.test(e)}function ke(e=(0,i.z$)()){return/webos/i.test(e)}function Ie(e=(0,i.z$)()){return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function xe(e=(0,i.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(e)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(e)}function Ee(e=(0,i.z$)()){var t;return Ie(e)&&!!(null===(t=window.navigator)||void 0===t?void 0:t.standalone)}function Te(){return(0,i.w1)()&&10===document.documentMode}function Ce(e=(0,i.z$)()){return Ie(e)||_e(e)||ke(e)||Se(e)||/windows phone/i.test(e)||we(e)}function Ae(){try{return!(!window||window===window.top)}catch(e){return!1}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Re(e,t=[]){let n;switch(e){case"Browser":n=ge((0,i.z$)());break;case"Worker":n=`${ge((0,i.z$)())}-${e}`;break;default:n=e}const r=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${o.SDK_VERSION}/${r}`}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oe{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=t=>new Promise(((n,r)=>{try{const r=e(t);n(r)}catch(i){r(i)}}));n.onAbort=t,this.queue.push(n);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){var t;if(this.auth.currentUser===e)return;const n=[];try{for(const t of this.queue)await t(e),t.onAbort&&n.push(t.onAbort)}catch(r){n.reverse();for(const e of n)try{e()}catch(i){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===(t=r)||void 0===t?void 0:t.message})}}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ne{constructor(e,t,n){this.app=e,this.heartbeatServiceProvider=t,this.config=n,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new De(this),this.idTokenSubscription=new De(this),this.beforeStateQueue=new Oe(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=m,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=n.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=T(t)),this._initializationPromise=this.queue((async()=>{var n,r;if(!this._deleted&&(this.persistenceManager=await me.create(this,e),!this._deleted)){if(null===(n=this._popupRedirectResolver)||void 0===n?void 0:n._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(i){}await this.initializeCurrentUser(t),this.lastNotifiedUid=(null===(r=this.currentUser)||void 0===r?void 0:r.uid)||null,this._deleted||(this._isInitialized=!0)}})),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();return this.currentUser||e?this.currentUser&&e&&this.currentUser.uid===e.uid?(this._currentUser._assign(e),void await this.currentUser.getIdToken()):void await this._updateCurrentUser(e,!0):void 0}async initializeCurrentUser(e){var t;const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const n=null===(t=this.redirectUser)||void 0===t?void 0:t._redirectEventId,o=null===r||void 0===r?void 0:r._redirectEventId,s=await this.tryRedirectSignIn(e);n&&n!==o||!(null===s||void 0===s?void 0:s.user)||(r=s.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(o){r=n,this._popupRedirectResolver._overrideRedirectResult(this,(()=>Promise.reject(o)))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return k(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(n){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){var t;try{await ie(e)}catch(n){if("auth/network-request-failed"!==(null===(t=n)||void 0===t?void 0:t.code))return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=P()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const t=e?(0,i.m9)(e):null;return t&&k(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&k(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue((async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()}))}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue((async()=>{await this.assertedPersistence.setPersistence(T(e))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new i.LL("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return null===e?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&T(e)||this._popupRedirectResolver;k(t,this,"argument-error"),this.redirectPersistenceManager=await me.create(this,[T(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return this._isInitialized&&await this.queue((async()=>{})),(null===(t=this._currentUser)||void 0===t?void 0:t._redirectEventId)===e?this._currentUser:(null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue((async()=>this.directlySetCurrentUser(e)))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,r){if(this._deleted)return()=>{};const i="function"===typeof t?t:t.next.bind(t),o=this._isInitialized?Promise.resolve():this._initializationPromise;return k(o,this,"internal-error"),o.then((()=>i(this.currentUser))),"function"===typeof t?e.addObserver(t,n,r):e.addObserver(t)}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&(this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh()),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return k(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Re(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={["X-Client-Version"]:this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await(null===(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getHeartbeatsHeader());return n&&(t["X-Firebase-Client"]=n),t}}function Pe(e){return(0,i.m9)(e)}class De{constructor(e){this.auth=e,this.observer=null,this.addObserver=(0,i.ne)((e=>this.observer=e))}get next(){return k(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Le(e,t,n){const r=Pe(e);k(r._canInitEmulator,r,"emulator-config-failed"),k(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const i=!!(null===n||void 0===n?void 0:n.disableWarnings),o=Fe(t),{host:s,port:a}=Me(t),l=null===a?"":`:${a}`;r.config.emulator={url:`${o}//${s}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||Ue()}function Fe(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function Me(e){const t=Fe(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const e=i[1];return{host:e,port:qe(r.substr(e.length+1))}}{const[e,t]=r.split(":");return{host:e,port:qe(t)}}}function qe(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}function Ue(){function e(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Be{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return I("not implemented")}_getIdTokenResponse(e){return I("not implemented")}_linkToIdToken(e,t){return I("not implemented")}_getReauthenticationResolver(e){return I("not implemented")}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ve(e,t){return B(e,"POST","/v1/accounts:resetPassword",U(e,t))}async function je(e,t){return B(e,"POST","/v1/accounts:update",t)}async function ze(e,t){return B(e,"POST","/v1/accounts:update",U(e,t))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $e(e,t){return j(e,"POST","/v1/accounts:signInWithPassword",U(e,t))}async function He(e,t){return B(e,"POST","/v1/accounts:sendOobCode",U(e,t))}async function Ke(e,t){return He(e,t)}async function We(e,t){return He(e,t)}async function Ge(e,t){return He(e,t)}async function Ze(e,t){return He(e,t)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ye(e,t){return j(e,"POST","/v1/accounts:signInWithEmailLink",U(e,t))}async function Qe(e,t){return j(e,"POST","/v1/accounts:signInWithEmailLink",U(e,t))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Je extends Be{constructor(e,t,n,r=null){super("password",n),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new Je(e,t,"password")}static _fromEmailAndCode(e,t,n=null){return new Je(e,t,"emailLink",n)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":return $e(e,{returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return Ye(e,{email:this._email,oobCode:this._password});default:y(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":return je(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return Qe(e,{idToken:t,email:this._email,oobCode:this._password});default:y(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xe(e,t){return j(e,"POST","/v1/accounts:signInWithIdp",U(e,t))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const et="http://localhost";class tt extends Be{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new tt(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):y("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r}=t,i=s(t,["providerId","signInMethod"]);if(!n||!r)return null;const o=new tt(n,r);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){const t=this.buildRequest();return Xe(e,t)}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,Xe(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Xe(e,t)}buildRequest(){const e={requestUri:et,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t["id_token"]=this.idToken),this.accessToken&&(t["access_token"]=this.accessToken),this.secret&&(t["oauth_token_secret"]=this.secret),t["providerId"]=this.providerId,this.nonce&&!this.pendingToken&&(t["nonce"]=this.nonce),e.postBody=(0,i.xO)(t)}return e}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nt(e,t){return B(e,"POST","/v1/accounts:sendVerificationCode",U(e,t))}async function rt(e,t){return j(e,"POST","/v1/accounts:signInWithPhoneNumber",U(e,t))}async function it(e,t){const n=await j(e,"POST","/v1/accounts:signInWithPhoneNumber",U(e,t));if(n.temporaryProof)throw H(e,"account-exists-with-different-credential",n);return n}const ot={["USER_NOT_FOUND"]:"user-not-found"};async function st(e,t){const n=Object.assign(Object.assign({},t),{operation:"REAUTH"});return j(e,"POST","/v1/accounts:signInWithPhoneNumber",U(e,n),ot)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class at extends Be{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new at({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new at({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return rt(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return it(e,Object.assign({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return st(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:n,verificationCode:r}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:n,code:r}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"===typeof e&&(e=JSON.parse(e));const{verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}=e;return n||t||r||i?new at({verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}):null}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lt(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function ut(e){const t=(0,i.zd)((0,i.pd)(e))["link"],n=t?(0,i.zd)((0,i.pd)(t))["deep_link_id"]:null,r=(0,i.zd)((0,i.pd)(e))["deep_link_id"],o=r?(0,i.zd)((0,i.pd)(r))["link"]:null;return o||r||n||t||e}class ct{constructor(e){var t,n,r,o,s,a;const l=(0,i.zd)((0,i.pd)(e)),u=null!==(t=l["apiKey"])&&void 0!==t?t:null,c=null!==(n=l["oobCode"])&&void 0!==n?n:null,h=lt(null!==(r=l["mode"])&&void 0!==r?r:null);k(u&&c&&h,"argument-error"),this.apiKey=u,this.operation=h,this.code=c,this.continueUrl=null!==(o=l["continueUrl"])&&void 0!==o?o:null,this.languageCode=null!==(s=l["languageCode"])&&void 0!==s?s:null,this.tenantId=null!==(a=l["tenantId"])&&void 0!==a?a:null}static parseLink(e){const t=ut(e);try{return new ct(t)}catch(n){return null}}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class ht{constructor(){this.providerId=ht.PROVIDER_ID}static credential(e,t){return Je._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=ct.parseLink(t);return k(n,"argument-error"),Je._fromEmailAndCode(e,n.code,n.tenantId)}}ht.PROVIDER_ID="password",ht.EMAIL_PASSWORD_SIGN_IN_METHOD="password",ht.EMAIL_LINK_SIGN_IN_METHOD="emailLink";
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class dt{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ft extends dt{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class pt extends ft{static credentialFromJSON(e){const t="string"===typeof e?JSON.parse(e):e;return k("providerId"in t&&"signInMethod"in t,"argument-error"),tt._fromParams(t)}credential(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}_credential(e){return k(e.idToken||e.accessToken,"argument-error"),tt._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(e){return pt.oauthCredentialFromTaggedObject(e)}static credentialFromError(e){return pt.oauthCredentialFromTaggedObject(e.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:n,oauthTokenSecret:r,pendingToken:i,nonce:o,providerId:s}=e;if(!n&&!r&&!t&&!i)return null;if(!s)return null;try{return new pt(s)._credential({idToken:t,accessToken:n,nonce:o,pendingToken:i})}catch(a){return null}}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mt extends ft{constructor(){super("facebook.com")}static credential(e){return tt._fromParams({providerId:mt.PROVIDER_ID,signInMethod:mt.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return mt.credentialFromTaggedObject(e)}static credentialFromError(e){return mt.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e))return null;if(!e.oauthAccessToken)return null;try{return mt.credential(e.oauthAccessToken)}catch(t){return null}}}mt.FACEBOOK_SIGN_IN_METHOD="facebook.com",mt.PROVIDER_ID="facebook.com";
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class gt extends ft{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return tt._fromParams({providerId:gt.PROVIDER_ID,signInMethod:gt.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return gt.credentialFromTaggedObject(e)}static credentialFromError(e){return gt.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:n}=e;if(!t&&!n)return null;try{return gt.credential(t,n)}catch(r){return null}}}gt.GOOGLE_SIGN_IN_METHOD="google.com",gt.PROVIDER_ID="google.com";
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class vt extends ft{constructor(){super("github.com")}static credential(e){return tt._fromParams({providerId:vt.PROVIDER_ID,signInMethod:vt.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return vt.credentialFromTaggedObject(e)}static credentialFromError(e){return vt.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e))return null;if(!e.oauthAccessToken)return null;try{return vt.credential(e.oauthAccessToken)}catch(t){return null}}}vt.GITHUB_SIGN_IN_METHOD="github.com",vt.PROVIDER_ID="github.com";
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const yt="http://localhost";class bt extends Be{constructor(e,t){super(e,e),this.pendingToken=t}_getIdTokenResponse(e){const t=this.buildRequest();return Xe(e,t)}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,Xe(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Xe(e,t)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r,pendingToken:i}=t;return n&&r&&i&&n===r?new bt(n,i):null}static _create(e,t){return new bt(e,t)}buildRequest(){return{requestUri:yt,returnSecureToken:!0,pendingToken:this.pendingToken}}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wt="saml.";class _t extends dt{constructor(e){k(e.startsWith(wt),"argument-error"),super(e)}static credentialFromResult(e){return _t.samlCredentialFromTaggedObject(e)}static credentialFromError(e){return _t.samlCredentialFromTaggedObject(e.customData||{})}static credentialFromJSON(e){const t=bt.fromJSON(e);return k(t,"argument-error"),t}static samlCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{pendingToken:t,providerId:n}=e;if(!t||!n)return null;try{return bt._create(n,t)}catch(r){return null}}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class St extends ft{constructor(){super("twitter.com")}static credential(e,t){return tt._fromParams({providerId:St.PROVIDER_ID,signInMethod:St.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return St.credentialFromTaggedObject(e)}static credentialFromError(e){return St.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:n}=e;if(!t||!n)return null;try{return St.credential(t,n)}catch(r){return null}}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
async function kt(e,t){return j(e,"POST","/v1/accounts:signUp",U(e,t))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */St.TWITTER_SIGN_IN_METHOD="twitter.com",St.PROVIDER_ID="twitter.com";class It{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n,r=!1){const i=await he._fromIdTokenResponse(e,n,r),o=xt(n),s=new It({user:i,providerId:o,_tokenResponse:n,operationType:t});return s}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const r=xt(n);return new It({user:e,providerId:r,_tokenResponse:n,operationType:t})}}function xt(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Et(e){var t;const n=Pe(e);if(await n._initializationPromise,null===(t=n.currentUser)||void 0===t?void 0:t.isAnonymous)return new It({user:n.currentUser,providerId:null,operationType:"signIn"});const r=await kt(n,{returnSecureToken:!0}),i=await It._fromIdTokenResponse(n,"signIn",r,!0);return await n._updateCurrentUser(i.user),i}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tt extends i.ZR{constructor(e,t,n,r){var i;super(t.code,t.message),this.operationType=n,this.user=r,Object.setPrototypeOf(this,Tt.prototype),this.customData={appName:e.name,tenantId:null!==(i=e.tenantId)&&void 0!==i?i:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,r){return new Tt(e,t,n,r)}}function Ct(e,t,n,r){const i="reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e);return i.catch((n=>{if("auth/multi-factor-auth-required"===n.code)throw Tt._fromErrorAndOperation(e,n,t,r);throw n}))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function At(e){return new Set(e.map((({providerId:e})=>e)).filter((e=>!!e)))}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Rt(e,t){const n=(0,i.m9)(e);await Nt(!0,n,t);const{providerUserInfo:r}=await W(n.auth,{idToken:await n.getIdToken(),deleteProvider:[t]}),o=At(r||[]);return n.providerData=n.providerData.filter((e=>o.has(e.providerId))),o.has("phone")||(n.phoneNumber=null),await n.auth._persistUserIfCurrent(n),n}async function Ot(e,t,n=!1){const r=await ee(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return It._forOperation(e,"link",r)}async function Nt(e,t,n){await ie(t);const r=At(t.providerData),i=!1===e?"provider-already-linked":"no-such-provider";k(r.has(n)===e,t.auth,i)}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Pt(e,t,n=!1){var r;const{auth:i}=e,o="reauthenticate";try{const r=await ee(e,Ct(i,o,t,e),n);k(r.idToken,i,"internal-error");const s=J(r.idToken);k(s,i,"internal-error");const{sub:a}=s;return k(e.uid===a,i,"user-mismatch"),It._forOperation(e,o,r)}catch(s){throw"auth/user-not-found"===(null===(r=s)||void 0===r?void 0:r.code)&&y(i,"user-mismatch"),s}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Dt(e,t,n=!1){const r="signIn",i=await Ct(e,r,t),o=await It._fromIdTokenResponse(e,r,i);return n||await e._updateCurrentUser(o.user),o}async function Lt(e,t){return Dt(Pe(e),t)}async function Ft(e,t){const n=(0,i.m9)(e);return await Nt(!1,n,t.providerId),Ot(n,t)}async function Mt(e,t){return Pt((0,i.m9)(e),t)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qt(e,t){return j(e,"POST","/v1/accounts:signInWithCustomToken",U(e,t))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ut(e,t){const n=Pe(e),r=await qt(n,{token:t,returnSecureToken:!0}),i=await It._fromIdTokenResponse(n,"signIn",r);return await n._updateCurrentUser(i.user),i}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bt{constructor(e,t){this.factorId=e,this.uid=t.mfaEnrollmentId,this.enrollmentTime=new Date(t.enrolledAt).toUTCString(),this.displayName=t.displayName}static _fromServerResponse(e,t){return"phoneInfo"in t?Vt._fromServerResponse(e,t):y(e,"internal-error")}}class Vt extends Bt{constructor(e){super("phone",e),this.phoneNumber=e.phoneInfo}static _fromServerResponse(e,t){return new Vt(t)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jt(e,t,n){var r;k((null===(r=n.url)||void 0===r?void 0:r.length)>0,e,"invalid-continue-uri"),k("undefined"===typeof n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(k(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(k(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zt(e,t,n){const r=(0,i.m9)(e),o={requestType:"PASSWORD_RESET",email:t};n&&jt(r,o,n),await We(r,o)}async function $t(e,t,n){await Ve((0,i.m9)(e),{oobCode:t,newPassword:n})}async function Ht(e,t){await ze((0,i.m9)(e),{oobCode:t})}async function Kt(e,t){const n=(0,i.m9)(e),r=await Ve(n,{oobCode:t}),o=r.requestType;switch(k(o,n,"internal-error"),o){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":k(r.newEmail,n,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":k(r.mfaInfo,n,"internal-error");default:k(r.email,n,"internal-error")}let s=null;return r.mfaInfo&&(s=Bt._fromServerResponse(Pe(n),r.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===r.requestType?r.newEmail:r.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===r.requestType?r.email:r.newEmail)||null,multiFactorInfo:s},operation:o}}async function Wt(e,t){const{data:n}=await Kt((0,i.m9)(e),t);return n.email}async function Gt(e,t,n){const r=Pe(e),i=await kt(r,{returnSecureToken:!0,email:t,password:n}),o=await It._fromIdTokenResponse(r,"signIn",i);return await r._updateCurrentUser(o.user),o}function Zt(e,t,n){return Lt((0,i.m9)(e),ht.credential(t,n))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yt(e,t,n){const r=(0,i.m9)(e),o={requestType:"EMAIL_SIGNIN",email:t};k(n.handleCodeInApp,r,"argument-error"),n&&jt(r,o,n),await Ge(r,o)}function Qt(e,t){const n=ct.parseLink(t);return"EMAIL_SIGNIN"===(null===n||void 0===n?void 0:n.operation)}async function Jt(e,t,n){const r=(0,i.m9)(e),o=ht.credentialWithLink(t,n||A());return k(o._tenantId===(r.tenantId||null),r,"tenant-id-mismatch"),Lt(r,o)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xt(e,t){return B(e,"POST","/v1/accounts:createAuthUri",U(e,t))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function en(e,t){const n=R()?A():"http://localhost",r={identifier:t,continueUri:n},{signinMethods:o}=await Xt((0,i.m9)(e),r);return o||[]}async function tn(e,t){const n=(0,i.m9)(e),r=await e.getIdToken(),o={requestType:"VERIFY_EMAIL",idToken:r};t&&jt(n.auth,o,t);const{email:s}=await Ke(n.auth,o);s!==e.email&&await e.reload()}async function nn(e,t,n){const r=(0,i.m9)(e),o=await e.getIdToken(),s={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:o,newEmail:t};n&&jt(r.auth,s,n);const{email:a}=await Ze(r.auth,s);a!==e.email&&await e.reload()}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rn(e,t){return B(e,"POST","/v1/accounts:update",t)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function on(e,{displayName:t,photoURL:n}){if(void 0===t&&void 0===n)return;const r=(0,i.m9)(e),o=await r.getIdToken(),s={idToken:o,displayName:t,photoUrl:n,returnSecureToken:!0},a=await ee(r,rn(r.auth,s));r.displayName=a.displayName||null,r.photoURL=a.photoUrl||null;const l=r.providerData.find((({providerId:e})=>"password"===e));l&&(l.displayName=r.displayName,l.photoURL=r.photoURL),await r._updateTokensIfNecessary(a)}function sn(e,t){return ln((0,i.m9)(e),t,null)}function an(e,t){return ln((0,i.m9)(e),null,t)}async function ln(e,t,n){const{auth:r}=e,i=await e.getIdToken(),o={idToken:i,returnSecureToken:!0};t&&(o.email=t),n&&(o.password=n);const s=await ee(e,je(r,o));await e._updateTokensIfNecessary(s,!0)}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function un(e){var t,n;if(!e)return null;const{providerId:r}=e,i=e.rawUserInfo?JSON.parse(e.rawUserInfo):{},o=e.isNewUser||"identitytoolkit#SignupNewUserResponse"===e.kind;if(!r&&(null===e||void 0===e?void 0:e.idToken)){const r=null===(n=null===(t=J(e.idToken))||void 0===t?void 0:t.firebase)||void 0===n?void 0:n["sign_in_provider"];if(r){const e="anonymous"!==r&&"custom"!==r?r:null;return new cn(o,e)}}if(!r)return null;switch(r){case"facebook.com":return new dn(o,i);case"github.com":return new fn(o,i);case"google.com":return new pn(o,i);case"twitter.com":return new mn(o,i,e.screenName||null);case"custom":case"anonymous":return new cn(o,null);default:return new cn(o,r,i)}}class cn{constructor(e,t,n={}){this.isNewUser=e,this.providerId=t,this.profile=n}}class hn extends cn{constructor(e,t,n,r){super(e,t,n),this.username=r}}class dn extends cn{constructor(e,t){super(e,"facebook.com",t)}}class fn extends hn{constructor(e,t){super(e,"github.com",t,"string"===typeof(null===t||void 0===t?void 0:t.login)?null===t||void 0===t?void 0:t.login:null)}}class pn extends cn{constructor(e,t){super(e,"google.com",t)}}class mn extends hn{constructor(e,t,n){super(e,"twitter.com",t,n)}}function gn(e){const{user:t,_tokenResponse:n}=e;return t.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:un(n)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vn{constructor(e,t){this.type=e,this.credential=t}static _fromIdtoken(e){return new vn("enroll",e)}static _fromMfaPendingCredential(e){return new vn("signin",e)}toJSON(){const e="enroll"===this.type?"idToken":"pendingCredential";return{multiFactorSession:{[e]:this.credential}}}static fromJSON(e){var t,n;if(null===e||void 0===e?void 0:e.multiFactorSession){if(null===(t=e.multiFactorSession)||void 0===t?void 0:t.pendingCredential)return vn._fromMfaPendingCredential(e.multiFactorSession.pendingCredential);if(null===(n=e.multiFactorSession)||void 0===n?void 0:n.idToken)return vn._fromIdtoken(e.multiFactorSession.idToken)}return null}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yn{constructor(e,t,n){this.session=e,this.hints=t,this.signInResolver=n}static _fromError(e,t){const n=Pe(e),r=t.customData._serverResponse,i=(r.mfaInfo||[]).map((e=>Bt._fromServerResponse(n,e)));k(r.mfaPendingCredential,n,"internal-error");const o=vn._fromMfaPendingCredential(r.mfaPendingCredential);return new yn(o,i,(async e=>{const i=await e._process(n,o);delete r.mfaInfo,delete r.mfaPendingCredential;const s=Object.assign(Object.assign({},r),{idToken:i.idToken,refreshToken:i.refreshToken});switch(t.operationType){case"signIn":const e=await It._fromIdTokenResponse(n,t.operationType,s);return await n._updateCurrentUser(e.user),e;case"reauthenticate":return k(t.user,n,"internal-error"),It._forOperation(t.user,t.operationType,s);default:y(n,"internal-error")}}))}async resolveSignIn(e){const t=e;return this.signInResolver(t)}}function bn(e,t){var n;const r=(0,i.m9)(e),o=t;return k(t.customData.operationType,r,"argument-error"),k(null===(n=o.customData._serverResponse)||void 0===n?void 0:n.mfaPendingCredential,r,"argument-error"),yn._fromError(r,o)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wn(e,t){return B(e,"POST","/v2/accounts/mfaEnrollment:start",U(e,t))}function _n(e,t){return B(e,"POST","/v2/accounts/mfaEnrollment:finalize",U(e,t))}function Sn(e,t){return B(e,"POST","/v2/accounts/mfaEnrollment:withdraw",U(e,t))}class kn{constructor(e){this.user=e,this.enrolledFactors=[],e._onReload((t=>{t.mfaInfo&&(this.enrolledFactors=t.mfaInfo.map((t=>Bt._fromServerResponse(e.auth,t))))}))}static _fromUser(e){return new kn(e)}async getSession(){return vn._fromIdtoken(await this.user.getIdToken())}async enroll(e,t){const n=e,r=await this.getSession(),i=await ee(this.user,n._process(this.user.auth,r,t));return await this.user._updateTokensIfNecessary(i),this.user.reload()}async unenroll(e){var t;const n="string"===typeof e?e:e.uid,r=await this.user.getIdToken(),i=await ee(this.user,Sn(this.user.auth,{idToken:r,mfaEnrollmentId:n}));this.enrolledFactors=this.enrolledFactors.filter((({uid:e})=>e!==n)),await this.user._updateTokensIfNecessary(i);try{await this.user.reload()}catch(o){if("auth/user-token-expired"!==(null===(t=o)||void 0===t?void 0:t.code))throw o}}}const In=new WeakMap;function xn(e){const t=(0,i.m9)(e);return In.has(t)||In.set(t,kn._fromUser(t)),In.get(t)}const En="__sak";
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tn{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(En,"1"),this.storage.removeItem(En),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cn(){const e=(0,i.z$)();return ye(e)||Ie(e)}const An=1e3,Rn=10;class On extends Tn{constructor(){super((()=>window.localStorage),"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=Cn()&&Ae(),this.fallbackToPolling=Ce(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),r=this.localCache[t];n!==r&&e(t,r,n)}}onStorageEvent(e,t=!1){if(!e.key)return void this.forAllChangedKeys(((e,t,n)=>{this.notifyListeners(e,n)}));const n=e.key;if(t?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const r=this.storage.getItem(n);if(e.newValue!==r)null!==e.newValue?this.storage.setItem(n,e.newValue):this.storage.removeItem(n);else if(this.localCache[n]===e.newValue&&!t)return}const r=()=>{const e=this.storage.getItem(n);(t||this.localCache[n]!==e)&&this.notifyListeners(n,e)},i=this.storage.getItem(n);Te()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,Rn):r()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((()=>{this.forAllChangedKeys(((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)}))}),An)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}On.type="LOCAL";const Nn=On;
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pn extends Tn{constructor(){super((()=>window.sessionStorage),"SESSION")}_addListener(e,t){}_removeListener(e,t){}}Pn.type="SESSION";const Dn=Pn;
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ln(e){return Promise.all(e.map((async e=>{try{const t=await e;return{fulfilled:!0,value:t}}catch(t){return{fulfilled:!1,reason:t}}})))}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fn{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find((t=>t.isListeningto(e)));if(t)return t;const n=new Fn(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:r,data:i}=t.data,o=this.handlersMap[r];if(!(null===o||void 0===o?void 0:o.size))return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:r});const s=Array.from(o).map((async e=>e(t.origin,i))),a=await Ln(s);t.ports[0].postMessage({status:"done",eventId:n,eventType:r,response:a})}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function Mn(e="",t=10){let n="";for(let r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Fn.receivers=[];class qn{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,n=50){const r="undefined"!==typeof MessageChannel?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let i,o;return new Promise(((s,a)=>{const l=Mn("",20);r.port1.start();const u=setTimeout((()=>{a(new Error("unsupported_event"))}),n);o={messageChannel:r,onMessage(e){const t=e;if(t.data.eventId===l)switch(t.data.status){case"ack":clearTimeout(u),i=setTimeout((()=>{a(new Error("timeout"))}),3e3);break;case"done":clearTimeout(i),s(t.data.response);break;default:clearTimeout(u),clearTimeout(i),a(new Error("invalid_response"));break}}},this.handlers.add(o),r.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:l,data:t},[r.port2])})).finally((()=>{o&&this.removeMessageHandler(o)}))}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Un(){return window}function Bn(e){Un().location.href=e}
/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vn(){return"undefined"!==typeof Un()["WorkerGlobalScope"]&&"function"===typeof Un()["importScripts"]}async function jn(){if(!(null===navigator||void 0===navigator?void 0:navigator.serviceWorker))return null;try{const e=await navigator.serviceWorker.ready;return e.active}catch(e){return null}}function zn(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}function $n(){return Vn()?self:null}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hn="firebaseLocalStorageDb",Kn=1,Wn="firebaseLocalStorage",Gn="fbase_key";class Zn{constructor(e){this.request=e}toPromise(){return new Promise(((e,t)=>{this.request.addEventListener("success",(()=>{e(this.request.result)})),this.request.addEventListener("error",(()=>{t(this.request.error)}))}))}}function Yn(e,t){return e.transaction([Wn],t?"readwrite":"readonly").objectStore(Wn)}function Qn(){const e=indexedDB.deleteDatabase(Hn);return new Zn(e).toPromise()}function Jn(){const e=indexedDB.open(Hn,Kn);return new Promise(((t,n)=>{e.addEventListener("error",(()=>{n(e.error)})),e.addEventListener("upgradeneeded",(()=>{const t=e.result;try{t.createObjectStore(Wn,{keyPath:Gn})}catch(r){n(r)}})),e.addEventListener("success",(async()=>{const n=e.result;n.objectStoreNames.contains(Wn)?t(n):(n.close(),await Qn(),t(await Jn()))}))}))}async function Xn(e,t,n){const r=Yn(e,!0).put({[Gn]:t,value:n});return new Zn(r).toPromise()}async function er(e,t){const n=Yn(e,!1).get(t),r=await new Zn(n).toPromise();return void 0===r?null:r.value}function tr(e,t){const n=Yn(e,!0).delete(t);return new Zn(n).toPromise()}const nr=800,rr=3;class ir{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((()=>{}),(()=>{}))}async _openDb(){return this.db||(this.db=await Jn()),this.db}async _withRetries(e){let t=0;while(1)try{const t=await this._openDb();return await e(t)}catch(n){if(t++>rr)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Vn()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Fn._getInstance($n()),this.receiver._subscribe("keyChanged",(async(e,t)=>{const n=await this._poll();return{keyProcessed:n.includes(t.key)}})),this.receiver._subscribe("ping",(async(e,t)=>["keyChanged"]))}async initializeSender(){var e,t;if(this.activeServiceWorker=await jn(),!this.activeServiceWorker)return;this.sender=new qn(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&(null===(e=n[0])||void 0===e?void 0:e.fulfilled)&&(null===(t=n[0])||void 0===t?void 0:t.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(this.sender&&this.activeServiceWorker&&zn()===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch(t){}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Jn();return await Xn(e,En,"1"),await tr(e,En),!0}catch(e){}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite((async()=>(await this._withRetries((n=>Xn(n,e,t))),this.localCache[e]=t,this.notifyServiceWorker(e))))}async _get(e){const t=await this._withRetries((t=>er(t,e)));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite((async()=>(await this._withRetries((t=>tr(t,e))),delete this.localCache[e],this.notifyServiceWorker(e))))}async _poll(){const e=await this._withRetries((e=>{const t=Yn(e,!1).getAll();return new Zn(t).toPromise()}));if(!e)return[];if(0!==this.pendingWrites)return[];const t=[],n=new Set;for(const{fbase_key:r,value:i}of e)n.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(i)&&(this.notifyListeners(r,i),t.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!n.has(r)&&(this.notifyListeners(r,null),t.push(r));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((async()=>this._poll()),nr)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}ir.type="LOCAL";const or=ir;
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sr(e,t){return B(e,"POST","/v2/accounts/mfaSignIn:start",U(e,t))}function ar(e,t){return B(e,"POST","/v2/accounts/mfaSignIn:finalize",U(e,t))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lr(e){return(await B(e,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ur(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}function cr(e){return new Promise(((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=e=>{const t=b("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",ur().appendChild(r)}))}function hr(e){return`__${e}${Math.floor(1e6*Math.random())}`}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dr=500,fr=6e4,pr=1e12;class mr{constructor(e){this.auth=e,this.counter=pr,this._widgets=new Map}render(e,t){const n=this.counter;return this._widgets.set(n,new gr(e,this.auth.name,t||{})),this.counter++,n}reset(e){var t;const n=e||pr;null===(t=this._widgets.get(n))||void 0===t||t.delete(),this._widgets.delete(n)}getResponse(e){var t;const n=e||pr;return(null===(t=this._widgets.get(n))||void 0===t?void 0:t.getResponse())||""}async execute(e){var t;const n=e||pr;return null===(t=this._widgets.get(n))||void 0===t||t.execute(),""}}class gr{constructor(e,t,n){this.params=n,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const r="string"===typeof e?document.getElementById(e):e;k(r,"argument-error",{appName:t}),this.container=r,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),this.timerId||(this.timerId=window.setTimeout((()=>{this.responseToken=vr(50);const{callback:e,"expired-callback":t}=this.params;if(e)try{e(this.responseToken)}catch(n){}this.timerId=window.setTimeout((()=>{if(this.timerId=null,this.responseToken=null,t)try{t()}catch(n){}this.isVisible&&this.execute()}),fr)}),dr))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}function vr(e){const t=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let r=0;r<e;r++)t.push(n.charAt(Math.floor(Math.random()*n.length)));return t.join("")}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yr=hr("rcb"),br=new D(3e4,6e4),wr="https://www.google.com/recaptcha/api.js?";class _r{constructor(){var e;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(null===(e=Un().grecaptcha)||void 0===e?void 0:e.render)}load(e,t=""){return k(Sr(t),e,"argument-error"),this.shouldResolveImmediately(t)?Promise.resolve(Un().grecaptcha):new Promise(((n,r)=>{const o=Un().setTimeout((()=>{r(b(e,"network-request-failed"))}),br.get());Un()[yr]=()=>{Un().clearTimeout(o),delete Un()[yr];const i=Un().grecaptcha;if(!i)return void r(b(e,"internal-error"));const s=i.render;i.render=(e,t)=>{const n=s(e,t);return this.counter++,n},this.hostLanguage=t,n(i)};const s=`${wr}?${(0,i.xO)({onload:yr,render:"explicit",hl:t})}`;cr(s).catch((()=>{clearTimeout(o),r(b(e,"internal-error"))}))}))}clearedOneInstance(){this.counter--}shouldResolveImmediately(e){var t;return!!(null===(t=Un().grecaptcha)||void 0===t?void 0:t.render)&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}function Sr(e){return e.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(e)}class kr{async load(e){return new mr(e)}clearedOneInstance(){}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ir="recaptcha",xr={theme:"light",type:"image"};class Er{constructor(e,t=Object.assign({},xr),n){this.parameters=t,this.type=Ir,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Pe(n),this.isInvisible="invisible"===this.parameters.size,k("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment");const r="string"===typeof e?document.getElementById(e):e;k(r,this.auth,"argument-error"),this.container=r,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new kr:new _r,this.validateStartingState()}async verify(){this.assertNotDestroyed();const e=await this.render(),t=this.getAssertedRecaptcha(),n=t.getResponse(e);return n||new Promise((n=>{const r=e=>{e&&(this.tokenChangeListeners.delete(r),n(e))};this.tokenChangeListeners.add(r),this.isInvisible&&t.execute(e)}))}render(){try{this.assertNotDestroyed()}catch(e){return Promise.reject(e)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch((e=>{throw this.renderPromise=null,e}))),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach((e=>{this.container.removeChild(e)}))}validateStartingState(){k(!this.parameters.sitekey,this.auth,"argument-error"),k(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),k("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(e){return t=>{if(this.tokenChangeListeners.forEach((e=>e(t))),"function"===typeof e)e(t);else if("string"===typeof e){const n=Un()[e];"function"===typeof n&&n(t)}}}assertNotDestroyed(){k(!this.destroyed,this.auth,"internal-error")}async makeRenderPromise(){if(await this.init(),!this.widgetId){let e=this.container;if(!this.isInvisible){const t=document.createElement("div");e.appendChild(t),e=t}this.widgetId=this.getAssertedRecaptcha().render(e,this.parameters)}return this.widgetId}async init(){k(R()&&!Vn(),this.auth,"internal-error"),await Tr(),this.recaptcha=await this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);const e=await lr(this.auth);k(e,this.auth,"internal-error"),this.parameters.sitekey=e}getAssertedRecaptcha(){return k(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}function Tr(){let e=null;return new Promise((t=>{"complete"!==document.readyState?(e=()=>t(),window.addEventListener("load",e)):t()})).catch((t=>{throw e&&window.removeEventListener("load",e),t}))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cr{constructor(e,t){this.verificationId=e,this.onConfirmation=t}confirm(e){const t=at._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}async function Ar(e,t,n){const r=Pe(e),o=await Nr(r,t,(0,i.m9)(n));return new Cr(o,(e=>Lt(r,e)))}async function Rr(e,t,n){const r=(0,i.m9)(e);await Nt(!1,r,"phone");const o=await Nr(r.auth,t,(0,i.m9)(n));return new Cr(o,(e=>Ft(r,e)))}async function Or(e,t,n){const r=(0,i.m9)(e),o=await Nr(r.auth,t,(0,i.m9)(n));return new Cr(o,(e=>Mt(r,e)))}async function Nr(e,t,n){var r;const i=await n.verify();try{let o;if(k("string"===typeof i,e,"argument-error"),k(n.type===Ir,e,"argument-error"),o="string"===typeof t?{phoneNumber:t}:t,"session"in o){const t=o.session;if("phoneNumber"in o){k("enroll"===t.type,e,"internal-error");const n=await wn(e,{idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:o.phoneNumber,recaptchaToken:i}});return n.phoneSessionInfo.sessionInfo}{k("signin"===t.type,e,"internal-error");const n=(null===(r=o.multiFactorHint)||void 0===r?void 0:r.uid)||o.multiFactorUid;k(n,e,"missing-multi-factor-info");const s=await sr(e,{mfaPendingCredential:t.credential,mfaEnrollmentId:n,phoneSignInInfo:{recaptchaToken:i}});return s.phoneResponseInfo.sessionInfo}}{const{sessionInfo:t}=await nt(e,{phoneNumber:o.phoneNumber,recaptchaToken:i});return t}}finally{n._reset()}}async function Pr(e,t){await Ot((0,i.m9)(e),t)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dr{constructor(e){this.providerId=Dr.PROVIDER_ID,this.auth=Pe(e)}verifyPhoneNumber(e,t){return Nr(this.auth,e,(0,i.m9)(t))}static credential(e,t){return at._fromVerification(e,t)}static credentialFromResult(e){const t=e;return Dr.credentialFromTaggedObject(t)}static credentialFromError(e){return Dr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{phoneNumber:t,temporaryProof:n}=e;return t&&n?at._fromTokenResponse(t,n):null}}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function Lr(e,t){return t?T(t):(k(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Dr.PROVIDER_ID="phone",Dr.PHONE_SIGN_IN_METHOD="phone";class Fr extends Be{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Xe(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Xe(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Xe(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function Mr(e){return Dt(e.auth,new Fr(e),e.bypassAuthState)}function qr(e){const{auth:t,user:n}=e;return k(n,t,"internal-error"),Pt(n,new Fr(e),e.bypassAuthState)}async function Ur(e){const{auth:t,user:n}=e;return k(n,t,"internal-error"),Ot(n,new Fr(e),e.bypassAuthState)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Br{constructor(e,t,n,r,i=!1){this.auth=e,this.resolver=n,this.user=r,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise((async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}}))}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:r,tenantId:i,error:o,type:s}=e;if(o)return void this.reject(o);const a={auth:this.auth,requestUri:t,sessionId:n,tenantId:i||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(s)(a))}catch(l){this.reject(l)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Mr;case"linkViaPopup":case"linkViaRedirect":return Ur;case"reauthViaPopup":case"reauthViaRedirect":return qr;default:y(this.auth,"internal-error")}}resolve(e){x(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){x(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vr=new D(2e3,1e4);async function jr(e,t,n){const r=Pe(e);_(e,t,dt);const i=Lr(r,n),o=new Hr(r,"signInViaPopup",t,i);return o.executeNotNull()}async function zr(e,t,n){const r=(0,i.m9)(e);_(r.auth,t,dt);const o=Lr(r.auth,n),s=new Hr(r.auth,"reauthViaPopup",t,o,r);return s.executeNotNull()}async function $r(e,t,n){const r=(0,i.m9)(e);_(r.auth,t,dt);const o=Lr(r.auth,n),s=new Hr(r.auth,"linkViaPopup",t,o,r);return s.executeNotNull()}class Hr extends Br{constructor(e,t,n,r,i){super(e,t,r,i),this.provider=n,this.authWindow=null,this.pollId=null,Hr.currentPopupAction&&Hr.currentPopupAction.cancel(),Hr.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return k(e,this.auth,"internal-error"),e}async onExecution(){x(1===this.filter.length,"Popup operations only handle one event");const e=Mn();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch((e=>{this.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(e=>{e||this.reject(b(this.auth,"web-storage-unsupported"))})),this.pollUserCancellation()}get eventId(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}cancel(){this.reject(b(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Hr.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,n;(null===(n=null===(t=this.authWindow)||void 0===t?void 0:t.window)||void 0===n?void 0:n.closed)?this.pollId=window.setTimeout((()=>{this.pollId=null,this.reject(b(this.auth,"popup-closed-by-user"))}),2e3):this.pollId=window.setTimeout(e,Vr.get())};e()}}Hr.currentPopupAction=null;
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const Kr="pendingRedirect",Wr=new Map;class Gr extends Br{constructor(e,t,n=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,n),this.eventId=null}async execute(){let e=Wr.get(this.auth._key());if(!e){try{const t=await Zr(this.resolver,this.auth),n=t?await super.execute():null;e=()=>Promise.resolve(n)}catch(t){e=()=>Promise.reject(t)}Wr.set(this.auth._key(),e)}return this.bypassAuthState||Wr.set(this.auth._key(),(()=>Promise.resolve(null))),e()}async onAuthEvent(e){if("signInViaRedirect"===e.type)return super.onAuthEvent(e);if("unknown"!==e.type){if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}async function Zr(e,t){const n=ei(t),r=Xr(e);if(!await r._isAvailable())return!1;const i="true"===await r._get(n);return await r._remove(n),i}async function Yr(e,t){return Xr(e)._set(ei(t),"true")}function Qr(){Wr.clear()}function Jr(e,t){Wr.set(e._key(),t)}function Xr(e){return T(e._redirectPersistence)}function ei(e){return pe(Kr,e.config.apiKey,e.name)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ti(e,t,n){return ni(e,t,n)}async function ni(e,t,n){const r=Pe(e);_(e,t,dt);const i=Lr(r,n);return await Yr(i,r),i._openRedirect(r,t,"signInViaRedirect")}function ri(e,t,n){return ii(e,t,n)}async function ii(e,t,n){const r=(0,i.m9)(e);_(r.auth,t,dt);const o=Lr(r.auth,n);await Yr(o,r.auth);const s=await ui(r);return o._openRedirect(r.auth,t,"reauthViaRedirect",s)}function oi(e,t,n){return si(e,t,n)}async function si(e,t,n){const r=(0,i.m9)(e);_(r.auth,t,dt);const o=Lr(r.auth,n);await Nt(!1,r,t.providerId),await Yr(o,r.auth);const s=await ui(r);return o._openRedirect(r.auth,t,"linkViaRedirect",s)}async function ai(e,t){return await Pe(e)._initializationPromise,li(e,t,!1)}async function li(e,t,n=!1){const r=Pe(e),i=Lr(r,t),o=new Gr(r,i,n),s=await o.execute();return s&&!n&&(delete s.user._redirectEventId,await r._persistUserIfCurrent(s.user),await r._setRedirectUser(null,t)),s}async function ui(e){const t=Mn(`${e.uid}:::`);return e._redirectEventId=t,await e.auth._setRedirectUser(e),await e.auth._persistUserIfCurrent(e),t}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ci=6e5;class hi{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach((n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!pi(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var n;if(e.error&&!fi(e)){const r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(b(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=ci&&this.cachedEventUids.clear(),this.cachedEventUids.has(di(e))}saveEventToCache(e){this.cachedEventUids.add(di(e)),this.lastProcessedEventTime=Date.now()}}function di(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((e=>e)).join("-")}function fi({type:e,error:t}){return"unknown"===e&&"auth/no-auth-event"===(null===t||void 0===t?void 0:t.code)}function pi(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return fi(e);default:return!1}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mi(e,t={}){return B(e,"GET","/v1/projects",t)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gi=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,vi=/^https?/;async function yi(e){if(e.config.emulator)return;const{authorizedDomains:t}=await mi(e);for(const r of t)try{if(bi(r))return}catch(n){}y(e,"unauthorized-domain")}function bi(e){const t=A(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const i=new URL(e);return""===i.hostname&&""===r?"chrome-extension:"===n&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===n&&i.hostname===r}if(!vi.test(n))return!1;if(gi.test(e))return r===e;const i=e.replace(/\./g,"\\."),o=new RegExp("^(.+\\."+i+"|"+i+")$","i");return o.test(r)}
/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wi=new D(3e4,6e4);function _i(){const e=Un().___jsl;if(null===e||void 0===e?void 0:e.H)for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}function Si(e){return new Promise(((t,n)=>{var r,i,o;function s(){_i(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{_i(),n(b(e,"network-request-failed"))},timeout:wi.get()})}if(null===(i=null===(r=Un().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(o=Un().gapi)||void 0===o?void 0:o.load)){const t=hr("iframefcb");return Un()[t]=()=>{gapi.load?s():n(b(e,"network-request-failed"))},cr(`https://apis.google.com/js/api.js?onload=${t}`).catch((e=>n(e)))}s()}})).catch((e=>{throw ki=null,e}))}let ki=null;function Ii(e){return ki=ki||Si(e),ki}
/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xi=new D(5e3,15e3),Ei="__/auth/iframe",Ti="emulator/auth/iframe",Ci={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Ai=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Ri(e){const t=e.config;k(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?L(t,Ti):`https://${e.config.authDomain}/${Ei}`,r={apiKey:t.apiKey,appName:e.name,v:o.SDK_VERSION},s=Ai.get(e.config.apiHost);s&&(r.eid=s);const a=e._getFrameworks();return a.length&&(r.fw=a.join(",")),`${n}?${(0,i.xO)(r).slice(1)}`}async function Oi(e){const t=await Ii(e),n=Un().gapi;return k(n,e,"internal-error"),t.open({where:document.body,url:Ri(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Ci,dontclear:!0},(t=>new Promise((async(n,r)=>{await t.restyle({setHideOnLeave:!1});const i=b(e,"network-request-failed"),o=Un().setTimeout((()=>{r(i)}),xi.get());function s(){Un().clearTimeout(o),n(t)}t.ping(s).then(s,(()=>{r(i)}))}))))}
/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ni={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Pi=500,Di=600,Li="_blank",Fi="http://localhost";class Mi{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(e){}}}function qi(e,t,n,r=Pi,o=Di){const s=Math.max((window.screen.availHeight-o)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString();let l="";const u=Object.assign(Object.assign({},Ni),{width:r.toString(),height:o.toString(),top:s,left:a}),c=(0,i.z$)().toLowerCase();n&&(l=be(c)?Li:n),ve(c)&&(t=t||Fi,u.scrollbars="yes");const h=Object.entries(u).reduce(((e,[t,n])=>`${e}${t}=${n},`),"");if(Ee(c)&&"_self"!==l)return Ui(t||"",l),new Mi(null);const d=window.open(t||"",l,h);k(d,e,"popup-blocked");try{d.focus()}catch(f){}return new Mi(d)}function Ui(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bi="__/auth/handler",Vi="emulator/auth/handler";function ji(e,t,n,r,s,a){k(e.config.authDomain,e,"auth-domain-config-required"),k(e.config.apiKey,e,"invalid-api-key");const l={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:o.SDK_VERSION,eventId:s};if(t instanceof dt){t.setDefaultLanguage(e.languageCode),l.providerId=t.providerId||"",(0,i.xb)(t.getCustomParameters())||(l.customParameters=JSON.stringify(t.getCustomParameters()));for(const[e,t]of Object.entries(a||{}))l[e]=t}if(t instanceof ft){const e=t.getScopes().filter((e=>""!==e));e.length>0&&(l.scopes=e.join(","))}e.tenantId&&(l.tid=e.tenantId);const u=l;for(const i of Object.keys(u))void 0===u[i]&&delete u[i];return`${zi(e)}?${(0,i.xO)(u).slice(1)}`}function zi({config:e}){return e.emulator?L(e,Vi):`https://${e.authDomain}/${Bi}`}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $i="webStorageSupport";class Hi{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Dn,this._completeRedirectFn=li,this._overrideRedirectResult=Jr}async _openPopup(e,t,n,r){var i;x(null===(i=this.eventManagers[e._key()])||void 0===i?void 0:i.manager,"_initialize() not called before _openPopup()");const o=ji(e,t,n,A(),r);return qi(e,o,Mn())}async _openRedirect(e,t,n,r){return await this._originValidation(e),Bn(ji(e,t,n,A(),r)),new Promise((()=>{}))}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:e,promise:n}=this.eventManagers[t];return e?Promise.resolve(e):(x(n,"If manager is not set, promise should be"),n)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch((()=>{delete this.eventManagers[t]})),n}async initAndGetManager(e){const t=await Oi(e),n=new hi(e);return t.register("authEvent",(t=>{k(null===t||void 0===t?void 0:t.authEvent,e,"invalid-auth-event");const r=n.onEvent(t.authEvent);return{status:r?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){const n=this.iframes[e._key()];n.send($i,{type:$i},(n=>{var r;const i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r[$i];void 0!==i&&t(!!i),y(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=yi(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return Ce()||ye()||Ie()}}const Ki=Hi;class Wi{constructor(e){this.factorId=e}_process(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return I("unexpected MultiFactorSessionType")}}}class Gi extends Wi{constructor(e){super("phone"),this.credential=e}static _fromCredential(e){return new Gi(e)}_finalizeEnroll(e,t,n){return _n(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(e,t){return ar(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}class Zi{constructor(){}static assertion(e){return Gi._fromCredential(e)}}Zi.FACTOR_ID="phone";var Yi="@firebase/auth",Qi="0.20.5";
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Ji{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}async getToken(e){if(this.assertAuthConfigured(),await this.auth._initializationPromise,!this.auth.currentUser)return null;const t=await this.auth.currentUser.getIdToken(e);return{accessToken:t}}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged((t=>{var n;e((null===(n=t)||void 0===n?void 0:n.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){k(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xi(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function eo(e){(0,o._registerComponent)(new l.wA("auth",((t,{options:n})=>{const r=t.getProvider("app").getImmediate(),i=t.getProvider("heartbeat"),{apiKey:o,authDomain:s}=r.options;return((t,r)=>{k(o&&!o.includes(":"),"invalid-api-key",{appName:t.name}),k(!(null===s||void 0===s?void 0:s.includes(":")),"argument-error",{appName:t.name});const i={apiKey:o,authDomain:s,clientPlatform:e,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Re(e)},a=new Ne(t,r,i);return C(a,n),a})(r,i)}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback(((e,t,n)=>{const r=e.getProvider("auth-internal");r.initialize()}))),(0,o._registerComponent)(new l.wA("auth-internal",(e=>{const t=Pe(e.getProvider("auth").getImmediate());return(e=>new Ji(e))(t)}),"PRIVATE").setInstantiationMode("EXPLICIT")),(0,o.registerVersion)(Yi,Qi,Xi(e)),(0,o.registerVersion)(Yi,Qi,"esm2017")}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function to(){return window}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */eo("Browser");const no=2e3;async function ro(e,t,n){var r;const{BuildInfo:i}=to();x(t.sessionId,"AuthEvent did not contain a session ID");const o=await lo(t.sessionId),s={};return Ie()?s["ibi"]=i.packageName:_e()?s["apn"]=i.packageName:y(e,"operation-not-supported-in-this-environment"),i.displayName&&(s["appDisplayName"]=i.displayName),s["sessionId"]=o,ji(e,n,t.type,void 0,null!==(r=t.eventId)&&void 0!==r?r:void 0,s)}async function io(e){const{BuildInfo:t}=to(),n={};Ie()?n.iosBundleId=t.packageName:_e()?n.androidPackageName=t.packageName:y(e,"operation-not-supported-in-this-environment"),await mi(e,n)}function oo(e){const{cordova:t}=to();return new Promise((n=>{t.plugins.browsertab.isAvailable((r=>{let i=null;r?t.plugins.browsertab.openUrl(e):i=t.InAppBrowser.open(e,xe()?"_blank":"_system","location=yes"),n(i)}))}))}async function so(e,t,n){const{cordova:r}=to();let i=()=>{};try{await new Promise(((o,s)=>{let a=null;function l(){var e;o();const t=null===(e=r.plugins.browsertab)||void 0===e?void 0:e.close;"function"===typeof t&&t(),"function"===typeof(null===n||void 0===n?void 0:n.close)&&n.close()}function u(){a||(a=window.setTimeout((()=>{s(b(e,"redirect-cancelled-by-user"))}),no))}function c(){"visible"===(null===document||void 0===document?void 0:document.visibilityState)&&u()}t.addPassiveListener(l),document.addEventListener("resume",u,!1),_e()&&document.addEventListener("visibilitychange",c,!1),i=()=>{t.removePassiveListener(l),document.removeEventListener("resume",u,!1),document.removeEventListener("visibilitychange",c,!1),a&&window.clearTimeout(a)}}))}finally{i()}}function ao(e){var t,n,r,i,o,s,a,l,u,c;const h=to();k("function"===typeof(null===(t=null===h||void 0===h?void 0:h.universalLinks)||void 0===t?void 0:t.subscribe),e,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),k("undefined"!==typeof(null===(n=null===h||void 0===h?void 0:h.BuildInfo)||void 0===n?void 0:n.packageName),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),k("function"===typeof(null===(o=null===(i=null===(r=null===h||void 0===h?void 0:h.cordova)||void 0===r?void 0:r.plugins)||void 0===i?void 0:i.browsertab)||void 0===o?void 0:o.openUrl),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),k("function"===typeof(null===(l=null===(a=null===(s=null===h||void 0===h?void 0:h.cordova)||void 0===s?void 0:s.plugins)||void 0===a?void 0:a.browsertab)||void 0===l?void 0:l.isAvailable),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),k("function"===typeof(null===(c=null===(u=null===h||void 0===h?void 0:h.cordova)||void 0===u?void 0:u.InAppBrowser)||void 0===c?void 0:c.open),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}async function lo(e){const t=uo(e),n=await crypto.subtle.digest("SHA-256",t),r=Array.from(new Uint8Array(n));return r.map((e=>e.toString(16).padStart(2,"0"))).join("")}function uo(e){if(x(/[0-9a-zA-Z]+/.test(e),"Can only convert alpha-numeric strings"),"undefined"!==typeof TextEncoder)return(new TextEncoder).encode(e);const t=new ArrayBuffer(e.length),n=new Uint8Array(t);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const co=20;class ho extends hi{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise((e=>{this.resolveInialized=e}))}addPassiveListener(e){this.passiveListeners.add(e)}removePassiveListener(e){this.passiveListeners.delete(e)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(e){return this.resolveInialized(),this.passiveListeners.forEach((t=>t(e))),super.onEvent(e)}async initialized(){await this.initPromise}}function fo(e,t,n=null){return{type:t,eventId:n,urlResponse:null,sessionId:vo(),postBody:null,tenantId:e.tenantId,error:b(e,"no-auth-event")}}function po(e,t){return yo()._set(bo(e),t)}async function mo(e){const t=await yo()._get(bo(e));return t&&await yo()._remove(bo(e)),t}function go(e,t){var n,r;const i=_o(t);if(i.includes("/__/auth/callback")){const t=So(i),o=t["firebaseError"]?wo(decodeURIComponent(t["firebaseError"])):null,s=null===(r=null===(n=null===o||void 0===o?void 0:o["code"])||void 0===n?void 0:n.split("auth/"))||void 0===r?void 0:r[1],a=s?b(s):null;return a?{type:e.type,eventId:e.eventId,tenantId:e.tenantId,error:a,urlResponse:null,sessionId:null,postBody:null}:{type:e.type,eventId:e.eventId,tenantId:e.tenantId,sessionId:e.sessionId,urlResponse:i,postBody:null}}return null}function vo(){const e=[],t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let n=0;n<co;n++){const n=Math.floor(Math.random()*t.length);e.push(t.charAt(n))}return e.join("")}function yo(){return T(Nn)}function bo(e){return pe("authEvent",e.config.apiKey,e.name)}function wo(e){try{return JSON.parse(e)}catch(t){return null}}function _o(e){const t=So(e),n=t["link"]?decodeURIComponent(t["link"]):void 0,r=So(n)["link"],i=t["deep_link_id"]?decodeURIComponent(t["deep_link_id"]):void 0,o=So(i)["link"];return o||i||r||n||e}function So(e){if(!(null===e||void 0===e?void 0:e.includes("?")))return{};const[t,...n]=e.split("?");return(0,i.zd)(n.join("?"))}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ko=500;class Io{constructor(){this._redirectPersistence=Dn,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=li,this._overrideRedirectResult=Jr}async _initialize(e){const t=e._key();let n=this.eventManagers.get(t);return n||(n=new ho(e),this.eventManagers.set(t,n),this.attachCallbackListeners(e,n)),n}_openPopup(e){y(e,"operation-not-supported-in-this-environment")}async _openRedirect(e,t,n,r){ao(e);const i=await this._initialize(e);await i.initialized(),i.resetRedirect(),Qr(),await this._originValidation(e);const o=fo(e,n,r);await po(e,o);const s=await ro(e,o,t),a=await oo(s);return so(e,i,a)}_isIframeWebStorageSupported(e,t){throw new Error("Method not implemented.")}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=io(e)),this.originValidationPromises[t]}attachCallbackListeners(e,t){const{universalLinks:n,handleOpenURL:r,BuildInfo:i}=to(),o=setTimeout((async()=>{await mo(e),t.onEvent(Eo())}),ko),s=async n=>{clearTimeout(o);const r=await mo(e);let i=null;r&&(null===n||void 0===n?void 0:n["url"])&&(i=go(r,n["url"])),t.onEvent(i||Eo())};"undefined"!==typeof n&&"function"===typeof n.subscribe&&n.subscribe(null,s);const a=r,l=`${i.packageName.toLowerCase()}://`;to().handleOpenURL=async e=>{if(e.toLowerCase().startsWith(l)&&s({url:e}),"function"===typeof a)try{a(e)}catch(t){console.error(t)}}}}const xo=Io;function Eo(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:b("no-auth-event")}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function To(e,t){Pe(e)._logFramework(t)}var Co="@firebase/auth-compat",Ao="0.2.18";
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const Ro=1e3;function Oo(){var e;return(null===(e=null===self||void 0===self?void 0:self.location)||void 0===e?void 0:e.protocol)||null}function No(){return"http:"===Oo()||"https:"===Oo()}function Po(e=(0,i.z$)()){return!("file:"!==Oo()&&"ionic:"!==Oo()&&"capacitor:"!==Oo()||!e.toLowerCase().match(/iphone|ipad|ipod|android/))}function Do(){return(0,i.b$)()||(0,i.UG)()}function Lo(){return(0,i.w1)()&&11===(null===document||void 0===document?void 0:document.documentMode)}function Fo(e=(0,i.z$)()){return/Edge\/\d+/.test(e)}function Mo(e=(0,i.z$)()){return Lo()||Fo(e)}function qo(){try{const e=self.localStorage,t=Mn();if(e)return e["setItem"](t,"1"),e["removeItem"](t),!Mo()||(0,i.hl)()}catch(e){return Uo()&&(0,i.hl)()}return!1}function Uo(){return"undefined"!==typeof n.g&&"WorkerGlobalScope"in n.g&&"importScripts"in n.g}function Bo(){return(No()||(0,i.ru)()||Po())&&!Do()&&qo()&&!Uo()}function Vo(){return Po()&&"undefined"!==typeof document}async function jo(){return!!Vo()&&new Promise((e=>{const t=setTimeout((()=>{e(!1)}),Ro);document.addEventListener("deviceready",(()=>{clearTimeout(t),e(!0)}))}))}function zo(){return"undefined"!==typeof window?window:null}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $o={LOCAL:"local",NONE:"none",SESSION:"session"},Ho=k,Ko="persistence";function Wo(e,t){Ho(Object.values($o).includes(t),e,"invalid-persistence-type"),(0,i.b$)()?Ho(t!==$o.SESSION,e,"unsupported-persistence-type"):(0,i.UG)()?Ho(t===$o.NONE,e,"unsupported-persistence-type"):Uo()?Ho(t===$o.NONE||t===$o.LOCAL&&(0,i.hl)(),e,"unsupported-persistence-type"):Ho(t===$o.NONE||qo(),e,"unsupported-persistence-type")}async function Go(e){await e._initializationPromise;const t=Yo(),n=pe(Ko,e.config.apiKey,e.name);t&&t.setItem(n,e._getPersistence())}function Zo(e,t){const n=Yo();if(!n)return[];const r=pe(Ko,e,t),i=n.getItem(r);switch(i){case $o.NONE:return[fe];case $o.LOCAL:return[or,Dn];case $o.SESSION:return[Dn];default:return[]}}function Yo(){var e;try{return(null===(e=zo())||void 0===e?void 0:e.sessionStorage)||null}catch(t){return null}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qo=k;class Jo{constructor(){this.browserResolver=T(Ki),this.cordovaResolver=T(xo),this.underlyingResolver=null,this._redirectPersistence=Dn,this._completeRedirectFn=li,this._overrideRedirectResult=Jr}async _initialize(e){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._initialize(e)}async _openPopup(e,t,n,r){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openPopup(e,t,n,r)}async _openRedirect(e,t,n,r){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openRedirect(e,t,n,r)}_isIframeWebStorageSupported(e,t){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,t)}_originValidation(e){return this.assertedUnderlyingResolver._originValidation(e)}get _shouldInitProactively(){return Vo()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Qo(this.underlyingResolver,"internal-error"),this.underlyingResolver}async selectUnderlyingResolver(){if(this.underlyingResolver)return;const e=await jo();this.underlyingResolver=e?this.cordovaResolver:this.browserResolver}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xo(e){return e.unwrap()}function es(e){return e.wrapped()}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ts(e){return rs(e)}function ns(e,t){var n,r;const i=null===(n=t.customData)||void 0===n?void 0:n._tokenResponse;if("auth/multi-factor-auth-required"===(null===(r=t)||void 0===r?void 0:r.code)){const n=t;n.resolver=new ss(e,bn(e,t))}else if(i){const e=rs(t),n=t;e&&(n.credential=e,n.tenantId=i.tenantId||void 0,n.email=i.email||void 0,n.phoneNumber=i.phoneNumber||void 0)}}function rs(e){const{_tokenResponse:t}=e instanceof i.ZR?e.customData:e;if(!t)return null;if(!(e instanceof i.ZR)&&"temporaryProof"in t&&"phoneNumber"in t)return Dr.credentialFromResult(e);const n=t.providerId;if(!n||n===u.PASSWORD)return null;let r;switch(n){case u.GOOGLE:r=gt;break;case u.FACEBOOK:r=mt;break;case u.GITHUB:r=vt;break;case u.TWITTER:r=St;break;default:const{oauthIdToken:e,oauthAccessToken:i,oauthTokenSecret:o,pendingToken:s,nonce:a}=t;return i||o||e||s?s?n.startsWith("saml.")?bt._create(n,s):tt._fromParams({providerId:n,signInMethod:n,pendingToken:s,idToken:e,accessToken:i}):new pt(n).credential({idToken:e,accessToken:i,rawNonce:a}):null}return e instanceof i.ZR?r.credentialFromError(e):r.credentialFromResult(e)}function is(e,t){return t.catch((t=>{throw t instanceof i.ZR&&ns(e,t),t})).then((e=>{const t=e.operationType,n=e.user;return{operationType:t,credential:ts(e),additionalUserInfo:gn(e),user:as.getOrCreate(n)}}))}async function os(e,t){const n=await t;return{verificationId:n.verificationId,confirm:t=>is(e,n.confirm(t))}}class ss{constructor(e,t){this.resolver=t,this.auth=es(e)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(e){return is(Xo(this.auth),this.resolver.resolveSignIn(e))}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class as{constructor(e){this._delegate=e,this.multiFactor=xn(e)}static getOrCreate(e){return as.USER_MAP.has(e)||as.USER_MAP.set(e,new as(e)),as.USER_MAP.get(e)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(e){return this._delegate.getIdTokenResult(e)}getIdToken(e){return this._delegate.getIdToken(e)}linkAndRetrieveDataWithCredential(e){return this.linkWithCredential(e)}async linkWithCredential(e){return is(this.auth,Ft(this._delegate,e))}async linkWithPhoneNumber(e,t){return os(this.auth,Rr(this._delegate,e,t))}async linkWithPopup(e){return is(this.auth,$r(this._delegate,e,Jo))}async linkWithRedirect(e){return await Go(Pe(this.auth)),oi(this._delegate,e,Jo)}reauthenticateAndRetrieveDataWithCredential(e){return this.reauthenticateWithCredential(e)}async reauthenticateWithCredential(e){return is(this.auth,Mt(this._delegate,e))}reauthenticateWithPhoneNumber(e,t){return os(this.auth,Or(this._delegate,e,t))}reauthenticateWithPopup(e){return is(this.auth,zr(this._delegate,e,Jo))}async reauthenticateWithRedirect(e){return await Go(Pe(this.auth)),ri(this._delegate,e,Jo)}sendEmailVerification(e){return tn(this._delegate,e)}async unlink(e){return await Rt(this._delegate,e),this}updateEmail(e){return sn(this._delegate,e)}updatePassword(e){return an(this._delegate,e)}updatePhoneNumber(e){return Pr(this._delegate,e)}updateProfile(e){return on(this._delegate,e)}verifyBeforeUpdateEmail(e,t){return nn(this._delegate,e,t)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}as.USER_MAP=new WeakMap;
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const ls=k;class us{constructor(e,t){if(this.app=e,t.isInitialized())return this._delegate=t.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:n}=e.options;ls(n,"invalid-api-key",{appName:e.name}),ls(n,"invalid-api-key",{appName:e.name});const r="undefined"!==typeof window?Jo:void 0;this._delegate=t.initialize({options:{persistence:hs(n,e.name),popupRedirectResolver:r}}),this._delegate._updateErrorMap(f),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?as.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(e){this._delegate.languageCode=e}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(e){this._delegate.tenantId=e}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(e,t){Le(this._delegate,e,t)}applyActionCode(e){return Ht(this._delegate,e)}checkActionCode(e){return Kt(this._delegate,e)}confirmPasswordReset(e,t){return $t(this._delegate,e,t)}async createUserWithEmailAndPassword(e,t){return is(this._delegate,Gt(this._delegate,e,t))}fetchProvidersForEmail(e){return this.fetchSignInMethodsForEmail(e)}fetchSignInMethodsForEmail(e){return en(this._delegate,e)}isSignInWithEmailLink(e){return Qt(this._delegate,e)}async getRedirectResult(){ls(Bo(),this._delegate,"operation-not-supported-in-this-environment");const e=await ai(this._delegate,Jo);return e?is(this._delegate,Promise.resolve(e)):{credential:null,user:null}}addFrameworkForLogging(e){To(this._delegate,e)}onAuthStateChanged(e,t,n){const{next:r,error:i,complete:o}=cs(e,t,n);return this._delegate.onAuthStateChanged(r,i,o)}onIdTokenChanged(e,t,n){const{next:r,error:i,complete:o}=cs(e,t,n);return this._delegate.onIdTokenChanged(r,i,o)}sendSignInLinkToEmail(e,t){return Yt(this._delegate,e,t)}sendPasswordResetEmail(e,t){return zt(this._delegate,e,t||void 0)}async setPersistence(e){let t;switch(Wo(this._delegate,e),e){case $o.SESSION:t=Dn;break;case $o.LOCAL:const e=await T(or)._isAvailable();t=e?or:Nn;break;case $o.NONE:t=fe;break;default:return y("argument-error",{appName:this._delegate.name})}return this._delegate.setPersistence(t)}signInAndRetrieveDataWithCredential(e){return this.signInWithCredential(e)}signInAnonymously(){return is(this._delegate,Et(this._delegate))}signInWithCredential(e){return is(this._delegate,Lt(this._delegate,e))}signInWithCustomToken(e){return is(this._delegate,Ut(this._delegate,e))}signInWithEmailAndPassword(e,t){return is(this._delegate,Zt(this._delegate,e,t))}signInWithEmailLink(e,t){return is(this._delegate,Jt(this._delegate,e,t))}signInWithPhoneNumber(e,t){return os(this._delegate,Ar(this._delegate,e,t))}async signInWithPopup(e){return ls(Bo(),this._delegate,"operation-not-supported-in-this-environment"),is(this._delegate,jr(this._delegate,e,Jo))}async signInWithRedirect(e){return ls(Bo(),this._delegate,"operation-not-supported-in-this-environment"),await Go(this._delegate),ti(this._delegate,e,Jo)}updateCurrentUser(e){return this._delegate.updateCurrentUser(e)}verifyPasswordResetCode(e){return Wt(this._delegate,e)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}function cs(e,t,n){let r=e;"function"!==typeof e&&({next:r,error:t,complete:n}=e);const i=r,o=e=>i(e&&as.getOrCreate(e));return{next:o,error:t,complete:n}}function hs(e,t){const n=Zo(e,t);if("undefined"===typeof self||n.includes(or)||n.push(or),"undefined"!==typeof window)for(const r of[Nn,Dn])n.includes(r)||n.push(r);return n.includes(fe)||n.push(fe),n}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */us.Persistence=$o;class ds{constructor(){this.providerId="phone",this._delegate=new Dr(Xo(r.Z.auth()))}static credential(e,t){return Dr.credential(e,t)}verifyPhoneNumber(e,t){return this._delegate.verifyPhoneNumber(e,t)}unwrap(){return this._delegate}}ds.PHONE_SIGN_IN_METHOD=Dr.PHONE_SIGN_IN_METHOD,ds.PROVIDER_ID=Dr.PROVIDER_ID;
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const fs=k;class ps{constructor(e,t,n=r.Z.app()){var i;fs(null===(i=n.options)||void 0===i?void 0:i.apiKey,"invalid-api-key",{appName:n.name}),this._delegate=new Er(e,t,n.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ms="auth-compat";function gs(e){e.INTERNAL.registerComponent(new l.wA(ms,(e=>{const t=e.getProvider("app-compat").getImmediate(),n=e.getProvider("auth");return new us(t,n)}),"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:c.EMAIL_SIGNIN,PASSWORD_RESET:c.PASSWORD_RESET,RECOVER_EMAIL:c.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:c.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:c.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:c.VERIFY_EMAIL}},EmailAuthProvider:ht,FacebookAuthProvider:mt,GithubAuthProvider:vt,GoogleAuthProvider:gt,OAuthProvider:pt,SAMLAuthProvider:_t,PhoneAuthProvider:ds,PhoneMultiFactorGenerator:Zi,RecaptchaVerifier:ps,TwitterAuthProvider:St,Auth:us,AuthCredential:Be,Error:i.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),e.registerVersion(Co,Ao)}gs(r.Z)},3174:(e,t,n)=>{"use strict";var r=n(9859),i=n(7574),o=n(5505),s=n(3513);const a="@firebase/firestore-compat",l="0.1.23";
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function u(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new i.WA("invalid-argument",`Invalid options passed to function ${e}(): You cannot specify both "merge" and "mergeFields".`);return t}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c(){if("undefined"===typeof Uint8Array)throw new i.WA("unimplemented","Uint8Arrays are not available in this environment.")}function h(){if(!(0,i.Me)())throw new i.WA("unimplemented","Blobs are unavailable in Firestore in this environment.")}class d{constructor(e){this._delegate=e}static fromBase64String(e){return h(),new d(i.Jj.fromBase64String(e))}static fromUint8Array(e){return c(),new d(i.Jj.fromUint8Array(e))}toBase64(){return h(),this._delegate.toBase64()}toUint8Array(){return c(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f(e){return p(e,["next","error","complete"])}function p(e,t){if("object"!==typeof e||null===e)return!1;const n=e;for(const r of t)if(r in n&&"function"===typeof n[r])return!0;return!1}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m{enableIndexedDbPersistence(e,t){return(0,i.ST)(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return(0,i.fH)(e._delegate)}clearIndexedDbPersistence(e){return(0,i.Fc)(e._delegate)}}class g{constructor(e,t,n){this._delegate=t,this._persistenceProvider=n,this.INTERNAL={delete:()=>this.terminate()},e instanceof i.l7||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();e.merge||t.host===e.host||(0,i.yq)("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&(e=Object.assign(Object.assign({},t),e),delete e.merge),this._delegate._setSettings(e)}useEmulator(e,t,n={}){(0,i.at)(this._delegate,e,t,n)}enableNetwork(){return(0,i.Ix)(this._delegate)}disableNetwork(){return(0,i.TF)(this._delegate)}enablePersistence(e){let t=!1,n=!1;return e&&(t=!!e.synchronizeTabs,n=!!e.experimentalForceOwningTab,(0,i.Wi)("synchronizeTabs",t,"experimentalForceOwningTab",n)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,n)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return(0,i.Mx)(this._delegate)}onSnapshotsInSync(e){return(0,i.sc)(this._delegate,e)}get app(){if(!this._appCompat)throw new i.WA("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new O(this,(0,i.hJ)(this._delegate,e))}catch(t){throw k(t,"collection()","Firestore.collection()")}}doc(e){try{return new S(this,(0,i.JU)(this._delegate,e))}catch(t){throw k(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new C(this,(0,i.B$)(this._delegate,e))}catch(t){throw k(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return(0,i.i3)(this._delegate,(t=>e(new b(this,t))))}batch(){return(0,i.qY)(this._delegate),new w(new i.PU(this._delegate,(e=>(0,i.GL)(this._delegate,e))))}loadBundle(e){return(0,i.Pb)(this._delegate,e)}namedQuery(e){return(0,i.L$)(this._delegate,e).then((e=>e?new C(this,e):null))}}class v extends i.u7{constructor(e){super(),this.firestore=e}convertBytes(e){return new d(new i.Jj(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return S.forKey(t,this.firestore,null)}}function y(e){(0,i.Ub)(e)}class b{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new v(e)}get(e){const t=N(e);return this._delegate.get(t).then((e=>new E(this._firestore,new i.xU(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,t.converter))))}set(e,t,n){const r=N(e);return n?(u("Transaction.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}update(e,t,n,...r){const i=N(e);return 2===arguments.length?this._delegate.update(i,t):this._delegate.update(i,t,n,...r),this}delete(e){const t=N(e);return this._delegate.delete(t),this}}class w{constructor(e){this._delegate=e}set(e,t,n){const r=N(e);return n?(u("WriteBatch.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}update(e,t,n,...r){const i=N(e);return 2===arguments.length?this._delegate.update(i,t):this._delegate.update(i,t,n,...r),this}delete(e){const t=N(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class _{constructor(e,t,n){this._firestore=e,this._userDataWriter=t,this._delegate=n}fromFirestore(e,t){const n=new i.$q(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new T(this._firestore,n),null!==t&&void 0!==t?t:{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const n=_.INSTANCES;let r=n.get(e);r||(r=new WeakMap,n.set(e,r));let i=r.get(t);return i||(i=new _(e,new v(e),t),r.set(t,i)),i}}_.INSTANCES=new WeakMap;class S{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new v(e)}static forPath(e,t,n){if(e.length%2!==0)throw new i.WA("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new S(t,new i.my(t._delegate,n,new i.Ky(e)))}static forKey(e,t,n){return new S(t,new i.my(t._delegate,n,e))}get id(){return this._delegate.id}get parent(){return new O(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new O(this.firestore,(0,i.hJ)(this._delegate,e))}catch(t){throw k(t,"collection()","DocumentReference.collection()")}}isEqual(e){return e=(0,o.m9)(e),e instanceof i.my&&(0,i.Eo)(this._delegate,e)}set(e,t){t=u("DocumentReference.set",t);try{return t?(0,i.pl)(this._delegate,e,t):(0,i.pl)(this._delegate,e)}catch(n){throw k(n,"setDoc()","DocumentReference.set()")}}update(e,t,...n){try{return 1===arguments.length?(0,i.r7)(this._delegate,e):(0,i.r7)(this._delegate,e,t,...n)}catch(r){throw k(r,"updateDoc()","DocumentReference.update()")}}delete(){return(0,i.oe)(this._delegate)}onSnapshot(...e){const t=I(e),n=x(e,(e=>new E(this.firestore,new i.xU(this.firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,this._delegate.converter))));return(0,i.cf)(this._delegate,t,n)}get(e){let t;return t="cache"===(null===e||void 0===e?void 0:e.source)?(0,i.kl)(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?(0,i.Xk)(this._delegate):(0,i.QT)(this._delegate),t.then((e=>new E(this.firestore,new i.xU(this.firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,this._delegate.converter))))}withConverter(e){return new S(this.firestore,e?this._delegate.withConverter(_.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function k(e,t,n){return e.message=e.message.replace(t,n),e}function I(e){for(const t of e)if("object"===typeof t&&!f(t))return t;return{}}function x(e,t){var n,r;let i;return i=f(e[0])?e[0]:f(e[1])?e[1]:"function"===typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]},{next:e=>{i.next&&i.next(t(e))},error:null===(n=i.error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}class E{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new S(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return(0,i.qK)(this._delegate,e._delegate)}}class T extends E{data(e){const t=this._delegate.data(e);return(0,i.K9)(void 0!==t,"Document in a QueryDocumentSnapshot should exist"),t}}class C{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new v(e)}where(e,t,n){try{return new C(this.firestore,(0,i.IO)(this._delegate,(0,i.ar)(e,t,n)))}catch(r){throw k(r,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new C(this.firestore,(0,i.IO)(this._delegate,(0,i.Xo)(e,t)))}catch(n){throw k(n,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new C(this.firestore,(0,i.IO)(this._delegate,(0,i.b9)(e)))}catch(t){throw k(t,"limit()","Query.limit()")}}limitToLast(e){try{return new C(this.firestore,(0,i.IO)(this._delegate,(0,i.vh)(e)))}catch(t){throw k(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new C(this.firestore,(0,i.IO)(this._delegate,(0,i.e0)(...e)))}catch(t){throw k(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new C(this.firestore,(0,i.IO)(this._delegate,(0,i.TQ)(...e)))}catch(t){throw k(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new C(this.firestore,(0,i.IO)(this._delegate,(0,i.Lx)(...e)))}catch(t){throw k(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new C(this.firestore,(0,i.IO)(this._delegate,(0,i.Wu)(...e)))}catch(t){throw k(t,"endAt()","Query.endAt()")}}isEqual(e){return(0,i.iE)(this._delegate,e._delegate)}get(e){let t;return t="cache"===(null===e||void 0===e?void 0:e.source)?(0,i.UQ)(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?(0,i.zN)(this._delegate):(0,i.PL)(this._delegate),t.then((e=>new R(this.firestore,new i.W(this.firestore._delegate,this._userDataWriter,this._delegate,e._snapshot))))}onSnapshot(...e){const t=I(e),n=x(e,(e=>new R(this.firestore,new i.W(this.firestore._delegate,this._userDataWriter,this._delegate,e._snapshot))));return(0,i.cf)(this._delegate,t,n)}withConverter(e){return new C(this.firestore,e?this._delegate.withConverter(_.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}class A{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new T(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class R{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new C(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map((e=>new T(this._firestore,e)))}docChanges(e){return this._delegate.docChanges(e).map((e=>new A(this._firestore,e)))}forEach(e,t){this._delegate.forEach((n=>{e.call(t,new T(this._firestore,n))}))}isEqual(e){return(0,i.qK)(this._delegate,e._delegate)}}class O extends C{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new S(this.firestore,e):null}doc(e){try{return new S(this.firestore,void 0===e?(0,i.JU)(this._delegate):(0,i.JU)(this._delegate,e))}catch(t){throw k(t,"doc()","CollectionReference.doc()")}}add(e){return(0,i.ET)(this._delegate,e).then((e=>new S(this.firestore,e)))}isEqual(e){return(0,i.Eo)(this._delegate,e._delegate)}withConverter(e){return new O(this.firestore,e?this._delegate.withConverter(_.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function N(e){return(0,i.Cf)(e,i.my)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P{constructor(...e){this._delegate=new i.Lz(...e)}static documentId(){return new P(i.Xb.keyField().canonicalString())}isEqual(e){return e=(0,o.m9)(e),e instanceof i.Lz&&this._delegate._internalPath.isEqual(e._internalPath)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D{constructor(e){this._delegate=e}static serverTimestamp(){const e=(0,i.Bt)();return e._methodName="FieldValue.serverTimestamp",new D(e)}static delete(){const e=(0,i.AK)();return e._methodName="FieldValue.delete",new D(e)}static arrayUnion(...e){const t=(0,i.vr)(...e);return t._methodName="FieldValue.arrayUnion",new D(t)}static arrayRemove(...e){const t=(0,i.Ab)(...e);return t._methodName="FieldValue.arrayRemove",new D(t)}static increment(e){const t=(0,i.nP)(e);return t._methodName="FieldValue.increment",new D(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L={Firestore:g,GeoPoint:i.F8,Timestamp:i.EK,Blob:d,Transaction:b,WriteBatch:w,DocumentReference:S,DocumentSnapshot:E,Query:C,QueryDocumentSnapshot:T,QuerySnapshot:R,CollectionReference:O,FieldPath:P,FieldValue:D,setLogLevel:y,CACHE_SIZE_UNLIMITED:i.IX};function F(e,t){e.INTERNAL.registerComponent(new s.wA("firestore-compat",(e=>{const n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("firestore").getImmediate();return t(n,r)}),"PUBLIC").setServiceProps(Object.assign({},L)))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M(e){F(e,((e,t)=>new g(e,t,new m))),e.registerVersion(a,l)}M(r.Z)},2028:(e,t,n)=>{"use strict";var r=n(9859),i=n(8897),o=n(5505),s=n(3513);
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const a="firebasestorage.googleapis.com",l="storageBucket",u=12e4,c=6e5;
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class h extends o.ZR{constructor(e,t){super(d(e),`Firebase Storage: ${t} (${d(e)})`),this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,h.prototype)}_codeEquals(e){return d(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}\n${this.customData.serverResponse}`:this.message=this._baseMessage}}function d(e){return"storage/"+e}function f(){const e="An unknown error occurred, please check the error payload for server response.";return new h("unknown",e)}function p(e){return new h("object-not-found","Object '"+e+"' does not exist.")}function m(e){return new h("quota-exceeded","Quota for bucket '"+e+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function g(){const e="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new h("unauthenticated",e)}function v(){return new h("unauthorized-app","This app does not have permission to access Firebase Storage on this project.")}function y(e){return new h("unauthorized","User does not have permission to access '"+e+"'.")}function b(){return new h("retry-limit-exceeded","Max retry time for operation exceeded, please try again.")}function w(){return new h("canceled","User canceled the upload/download.")}function _(e){return new h("invalid-url","Invalid URL '"+e+"'.")}function S(e){return new h("invalid-default-bucket","Invalid default bucket '"+e+"'.")}function k(){return new h("no-default-bucket","No default bucket found. Did you set the '"+l+"' property when initializing the app?")}function I(){return new h("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function x(){return new h("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.")}function E(){return new h("no-download-url","The given file does not have any download URLs.")}function T(e){return new h("invalid-argument",e)}function C(){return new h("app-deleted","The Firebase app was deleted.")}function A(e){return new h("invalid-root-operation","The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function R(e,t){return new h("invalid-format","String does not match format '"+e+"': "+t)}function O(e){throw new h("internal-error","Internal error: "+e)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let n;try{n=N.makeFromUrl(e,t)}catch(r){return new N(e,"")}if(""===n.path)return n;throw S(e)}static makeFromUrl(e,t){let n=null;const r="([A-Za-z0-9.\\-_]+)";function i(e){"/"===e.path.charAt(e.path.length-1)&&(e.path_=e.path_.slice(0,-1))}const o="(/(.*))?$",s=new RegExp("^gs://"+r+o,"i"),l={bucket:1,path:3};function u(e){e.path_=decodeURIComponent(e.path)}const c="v[A-Za-z0-9_]+",h=t.replace(/[.]/g,"\\."),d="(/([^?#]*).*)?$",f=new RegExp(`^https?://${h}/${c}/b/${r}/o${d}`,"i"),p={bucket:1,path:3},m=t===a?"(?:storage.googleapis.com|storage.cloud.google.com)":t,g="([^?#]*)",v=new RegExp(`^https?://${m}/${r}/${g}`,"i"),y={bucket:1,path:2},b=[{regex:s,indices:l,postModify:i},{regex:f,indices:p,postModify:u},{regex:v,indices:y,postModify:u}];for(let a=0;a<b.length;a++){const t=b[a],r=t.regex.exec(e);if(r){const e=r[t.indices.bucket];let i=r[t.indices.path];i||(i=""),n=new N(e,i),t.postModify(n);break}}if(null==n)throw _(e);return n}}class P{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D(e,t,n){let r=1,i=null,o=null,s=!1,a=0;function l(){return 2===a}let u=!1;function c(...e){u||(u=!0,t.apply(null,e))}function h(t){i=setTimeout((()=>{i=null,e(f,l())}),t)}function d(){o&&clearTimeout(o)}function f(e,...t){if(u)return void d();if(e)return d(),void c.call(null,e,...t);const n=l()||s;if(n)return d(),void c.call(null,e,...t);let i;r<64&&(r*=2),1===a?(a=2,i=0):i=1e3*(r+Math.random()),h(i)}let p=!1;function m(e){p||(p=!0,d(),u||(null!==i?(e||(a=2),clearTimeout(i),h(0)):e||(a=1)))}return h(0),o=setTimeout((()=>{s=!0,m(!0)}),n),m}function L(e){e(!1)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F(e){return void 0!==e}function M(e){return"function"===typeof e}function q(e){return"object"===typeof e&&!Array.isArray(e)}function U(e){return"string"===typeof e||e instanceof String}function B(e){return V()&&e instanceof Blob}function V(){return"undefined"!==typeof Blob}function j(e,t,n,r){if(r<t)throw T(`Invalid value for '${e}'. Expected ${t} or greater.`);if(r>n)throw T(`Invalid value for '${e}'. Expected ${n} or less.`)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z(e,t,n){let r=t;return null==n&&(r=`https://${t}`),`${n}://${r}/v0${e}`}function $(e){const t=encodeURIComponent;let n="?";for(const r in e)if(e.hasOwnProperty(r)){const i=t(r)+"="+t(e[r]);n=n+i+"&"}return n=n.slice(0,-1),n}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var H;(function(e){e[e["NO_ERROR"]=0]="NO_ERROR",e[e["NETWORK_ERROR"]=1]="NETWORK_ERROR",e[e["ABORT"]=2]="ABORT"})(H||(H={}));
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class K{constructor(e,t,n,r,i,o,s,a,l,u,c){this.url_=e,this.method_=t,this.headers_=n,this.body_=r,this.successCodes_=i,this.additionalRetryCodes_=o,this.callback_=s,this.errorCallback_=a,this.timeout_=l,this.progressCallback_=u,this.connectionFactory_=c,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise(((e,t)=>{this.resolve_=e,this.reject_=t,this.start_()}))}start_(){const e=(e,t)=>{if(t)return void e(!1,new W(!1,null,!0));const n=this.connectionFactory_();this.pendingConnection_=n;const r=e=>{const t=e.loaded,n=e.lengthComputable?e.total:-1;null!==this.progressCallback_&&this.progressCallback_(t,n)};null!==this.progressCallback_&&n.addUploadProgressListener(r),n.send(this.url_,this.method_,this.body_,this.headers_).then((()=>{null!==this.progressCallback_&&n.removeUploadProgressListener(r),this.pendingConnection_=null;const t=n.getErrorCode()===H.NO_ERROR,i=n.getStatus();if(!t||this.isRetryStatusCode_(i)){const t=n.getErrorCode()===H.ABORT;return void e(!1,new W(!1,null,t))}const o=-1!==this.successCodes_.indexOf(i);e(!0,new W(o,n))}))},t=(e,t)=>{const n=this.resolve_,r=this.reject_,i=t.connection;if(t.wasSuccessCode)try{const e=this.callback_(i,i.getResponse());F(e)?n(e):n()}catch(o){r(o)}else if(null!==i){const e=f();e.serverResponse=i.getErrorText(),this.errorCallback_?r(this.errorCallback_(i,e)):r(e)}else if(t.canceled){const e=this.appDelete_?C():w();r(e)}else{const e=b();r(e)}};this.canceled_?t(!1,new W(!1,null,!0)):this.backoffId_=D(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&L(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}isRetryStatusCode_(e){const t=e>=500&&e<600,n=[408,429],r=-1!==n.indexOf(e),i=-1!==this.additionalRetryCodes_.indexOf(e);return t||r||i}}class W{constructor(e,t,n){this.wasSuccessCode=e,this.connection=t,this.canceled=!!n}}function G(e,t){null!==t&&t.length>0&&(e["Authorization"]="Firebase "+t)}function Z(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(null!==t&&void 0!==t?t:"AppManager")}function Y(e,t){t&&(e["X-Firebase-GMPID"]=t)}function Q(e,t){null!==t&&(e["X-Firebase-AppCheck"]=t)}function J(e,t,n,r,i,o){const s=$(e.urlParams),a=e.url+s,l=Object.assign({},e.headers);return Y(l,t),G(l,n),Z(l,o),Q(l,r),new K(a,e.method,l,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,i)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X(){return"undefined"!==typeof BlobBuilder?BlobBuilder:"undefined"!==typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function ee(...e){const t=X();if(void 0!==t){const n=new t;for(let t=0;t<e.length;t++)n.append(e[t]);return n.getBlob()}if(V())return new Blob(e);throw new h("unsupported-environment","This browser doesn't seem to support creating Blobs")}function te(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.mozSlice?e.mozSlice(t,n):e.slice?e.slice(t,n):null}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ne(e){return atob(e)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const re={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class ie{constructor(e,t){this.data=e,this.contentType=t||null}}function oe(e,t){switch(e){case re.RAW:return new ie(se(t));case re.BASE64:case re.BASE64URL:return new ie(le(e,t));case re.DATA_URL:return new ie(ce(t),he(t))}throw f()}function se(e){const t=[];for(let n=0;n<e.length;n++){let r=e.charCodeAt(n);if(r<=127)t.push(r);else if(r<=2047)t.push(192|r>>6,128|63&r);else if(55296===(64512&r)){const i=n<e.length-1&&56320===(64512&e.charCodeAt(n+1));if(i){const i=r,o=e.charCodeAt(++n);r=65536|(1023&i)<<10|1023&o,t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r)}else t.push(239,191,189)}else 56320===(64512&r)?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(t)}function ae(e){let t;try{t=decodeURIComponent(e)}catch(n){throw R(re.DATA_URL,"Malformed data URL.")}return se(t)}function le(e,t){switch(e){case re.BASE64:{const n=-1!==t.indexOf("-"),r=-1!==t.indexOf("_");if(n||r){const t=n?"-":"_";throw R(e,"Invalid character '"+t+"' found: is it base64url encoded?")}break}case re.BASE64URL:{const n=-1!==t.indexOf("+"),r=-1!==t.indexOf("/");if(n||r){const t=n?"+":"/";throw R(e,"Invalid character '"+t+"' found: is it base64 encoded?")}t=t.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=ne(t)}catch(i){throw R(e,"Invalid character found")}const r=new Uint8Array(n.length);for(let o=0;o<n.length;o++)r[o]=n.charCodeAt(o);return r}class ue{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(null===t)throw R(re.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const n=t[1]||null;null!=n&&(this.base64=de(n,";base64"),this.contentType=this.base64?n.substring(0,n.length-";base64".length):n),this.rest=e.substring(e.indexOf(",")+1)}}function ce(e){const t=new ue(e);return t.base64?le(re.BASE64,t.rest):ae(t.rest)}function he(e){const t=new ue(e);return t.contentType}function de(e,t){const n=e.length>=t.length;return!!n&&e.substring(e.length-t.length)===t}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fe{constructor(e,t){let n=0,r="";B(e)?(this.data_=e,n=e.size,r=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),n=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),n=e.length),this.size_=n,this.type_=r}size(){return this.size_}type(){return this.type_}slice(e,t){if(B(this.data_)){const n=this.data_,r=te(n,e,t);return null===r?null:new fe(r)}{const n=new Uint8Array(this.data_.buffer,e,t-e);return new fe(n,!0)}}static getBlob(...e){if(V()){const t=e.map((e=>e instanceof fe?e.data_:e));return new fe(ee.apply(null,t))}{const t=e.map((e=>U(e)?oe(re.RAW,e).data:e.data_));let n=0;t.forEach((e=>{n+=e.byteLength}));const r=new Uint8Array(n);let i=0;return t.forEach((e=>{for(let t=0;t<e.length;t++)r[i++]=e[t]})),new fe(r,!0)}}uploadData(){return this.data_}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pe(e){let t;try{t=JSON.parse(e)}catch(n){return null}return q(t)?t:null}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function me(e){if(0===e.length)return null;const t=e.lastIndexOf("/");if(-1===t)return"";const n=e.slice(0,t);return n}function ge(e,t){const n=t.split("/").filter((e=>e.length>0)).join("/");return 0===e.length?n:e+"/"+n}function ve(e){const t=e.lastIndexOf("/",e.length-2);return-1===t?e:e.slice(t+1)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ye(e,t){return t}class be{constructor(e,t,n,r){this.server=e,this.local=t||e,this.writable=!!n,this.xform=r||ye}}let we=null;function _e(e){return!U(e)||e.length<2?e:ve(e)}function Se(){if(we)return we;const e=[];function t(e,t){return _e(t)}e.push(new be("bucket")),e.push(new be("generation")),e.push(new be("metageneration")),e.push(new be("name","fullPath",!0));const n=new be("name");function r(e,t){return void 0!==t?Number(t):t}n.xform=t,e.push(n);const i=new be("size");return i.xform=r,e.push(i),e.push(new be("timeCreated")),e.push(new be("updated")),e.push(new be("md5Hash",null,!0)),e.push(new be("cacheControl",null,!0)),e.push(new be("contentDisposition",null,!0)),e.push(new be("contentEncoding",null,!0)),e.push(new be("contentLanguage",null,!0)),e.push(new be("contentType",null,!0)),e.push(new be("metadata","customMetadata",!0)),we=e,we}function ke(e,t){function n(){const n=e["bucket"],r=e["fullPath"],i=new N(n,r);return t._makeStorageReference(i)}Object.defineProperty(e,"ref",{get:n})}function Ie(e,t,n){const r={type:"file"},i=n.length;for(let o=0;o<i;o++){const e=n[o];r[e.local]=e.xform(r,t[e.server])}return ke(r,e),r}function xe(e,t,n){const r=pe(t);if(null===r)return null;const i=r;return Ie(e,i,n)}function Ee(e,t,n,r){const i=pe(t);if(null===i)return null;if(!U(i["downloadTokens"]))return null;const o=i["downloadTokens"];if(0===o.length)return null;const s=encodeURIComponent,a=o.split(","),l=a.map((t=>{const i=e["bucket"],o=e["fullPath"],a="/b/"+s(i)+"/o/"+s(o),l=z(a,n,r),u=$({alt:"media",token:t});return l+u}));return l[0]}function Te(e,t){const n={},r=t.length;for(let i=0;i<r;i++){const r=t[i];r.writable&&(n[r.server]=e[r.local])}return JSON.stringify(n)}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ce="prefixes",Ae="items";function Re(e,t,n){const r={prefixes:[],items:[],nextPageToken:n["nextPageToken"]};if(n[Ce])for(const i of n[Ce]){const n=i.replace(/\/$/,""),o=e._makeStorageReference(new N(t,n));r.prefixes.push(o)}if(n[Ae])for(const i of n[Ae]){const n=e._makeStorageReference(new N(t,i["name"]));r.items.push(n)}return r}function Oe(e,t,n){const r=pe(n);if(null===r)return null;const i=r;return Re(e,t,i)}class Ne{constructor(e,t,n,r){this.url=e,this.method=t,this.handler=n,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pe(e){if(!e)throw f()}function De(e,t){function n(n,r){const i=xe(e,r,t);return Pe(null!==i),i}return n}function Le(e,t){function n(n,r){const i=Oe(e,t,r);return Pe(null!==i),i}return n}function Fe(e,t){function n(n,r){const i=xe(e,r,t);return Pe(null!==i),Ee(i,r,e.host,e._protocol)}return n}function Me(e){function t(t,n){let r;return r=401===t.getStatus()?t.getErrorText().includes("Firebase App Check token is invalid")?v():g():402===t.getStatus()?m(e.bucket):403===t.getStatus()?y(e.path):n,r.serverResponse=n.serverResponse,r}return t}function qe(e){const t=Me(e);function n(n,r){let i=t(n,r);return 404===n.getStatus()&&(i=p(e.path)),i.serverResponse=r.serverResponse,i}return n}function Ue(e,t,n){const r=t.fullServerUrl(),i=z(r,e.host,e._protocol),o="GET",s=e.maxOperationRetryTime,a=new Ne(i,o,De(e,n),s);return a.errorHandler=qe(t),a}function Be(e,t,n,r,i){const o={};t.isRoot?o["prefix"]="":o["prefix"]=t.path+"/",n&&n.length>0&&(o["delimiter"]=n),r&&(o["pageToken"]=r),i&&(o["maxResults"]=i);const s=t.bucketOnlyServerUrl(),a=z(s,e.host,e._protocol),l="GET",u=e.maxOperationRetryTime,c=new Ne(a,l,Le(e,t.bucket),u);return c.urlParams=o,c.errorHandler=Me(t),c}function Ve(e,t,n){const r=t.fullServerUrl(),i=z(r,e.host,e._protocol),o="GET",s=e.maxOperationRetryTime,a=new Ne(i,o,Fe(e,n),s);return a.errorHandler=qe(t),a}function je(e,t,n,r){const i=t.fullServerUrl(),o=z(i,e.host,e._protocol),s="PATCH",a=Te(n,r),l={"Content-Type":"application/json; charset=utf-8"},u=e.maxOperationRetryTime,c=new Ne(o,s,De(e,r),u);return c.headers=l,c.body=a,c.errorHandler=qe(t),c}function ze(e,t){const n=t.fullServerUrl(),r=z(n,e.host,e._protocol),i="DELETE",o=e.maxOperationRetryTime;function s(e,t){}const a=new Ne(r,i,s,o);return a.successCodes=[200,204],a.errorHandler=qe(t),a}function $e(e,t){return e&&e["contentType"]||t&&t.type()||"application/octet-stream"}function He(e,t,n){const r=Object.assign({},n);return r["fullPath"]=e.path,r["size"]=t.size(),r["contentType"]||(r["contentType"]=$e(null,t)),r}function Ke(e,t,n,r,i){const o=t.bucketOnlyServerUrl(),s={"X-Goog-Upload-Protocol":"multipart"};function a(){let e="";for(let t=0;t<2;t++)e+=Math.random().toString().slice(2);return e}const l=a();s["Content-Type"]="multipart/related; boundary="+l;const u=He(t,r,i),c=Te(u,n),h="--"+l+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+c+"\r\n--"+l+"\r\nContent-Type: "+u["contentType"]+"\r\n\r\n",d="\r\n--"+l+"--",f=fe.getBlob(h,r,d);if(null===f)throw I();const p={name:u["fullPath"]},m=z(o,e.host,e._protocol),g="POST",v=e.maxUploadRetryTime,y=new Ne(m,g,De(e,n),v);return y.urlParams=p,y.headers=s,y.body=f.uploadData(),y.errorHandler=Me(t),y}class We{constructor(e,t,n,r){this.current=e,this.total=t,this.finalized=!!n,this.metadata=r||null}}function Ge(e,t){let n=null;try{n=e.getResponseHeader("X-Goog-Upload-Status")}catch(i){Pe(!1)}const r=t||["active"];return Pe(!!n&&-1!==r.indexOf(n)),n}function Ze(e,t,n,r,i){const o=t.bucketOnlyServerUrl(),s=He(t,r,i),a={name:s["fullPath"]},l=z(o,e.host,e._protocol),u="POST",c={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${r.size()}`,"X-Goog-Upload-Header-Content-Type":s["contentType"],"Content-Type":"application/json; charset=utf-8"},h=Te(s,n),d=e.maxUploadRetryTime;function f(e){let t;Ge(e);try{t=e.getResponseHeader("X-Goog-Upload-URL")}catch(n){Pe(!1)}return Pe(U(t)),t}const p=new Ne(l,u,f,d);return p.urlParams=a,p.headers=c,p.body=h,p.errorHandler=Me(t),p}function Ye(e,t,n,r){const i={"X-Goog-Upload-Command":"query"};function o(e){const t=Ge(e,["active","final"]);let n=null;try{n=e.getResponseHeader("X-Goog-Upload-Size-Received")}catch(o){Pe(!1)}n||Pe(!1);const i=Number(n);return Pe(!isNaN(i)),new We(i,r.size(),"final"===t)}const s="POST",a=e.maxUploadRetryTime,l=new Ne(n,s,o,a);return l.headers=i,l.errorHandler=Me(t),l}const Qe=262144;function Je(e,t,n,r,i,o,s,a){const l=new We(0,0);if(s?(l.current=s.current,l.total=s.total):(l.current=0,l.total=r.size()),r.size()!==l.total)throw x();const u=l.total-l.current;let c=u;i>0&&(c=Math.min(c,i));const h=l.current,d=h+c,f=c===u?"upload, finalize":"upload",p={"X-Goog-Upload-Command":f,"X-Goog-Upload-Offset":`${l.current}`},m=r.slice(h,d);if(null===m)throw I();function g(e,n){const i=Ge(e,["active","final"]),s=l.current+c,a=r.size();let u;return u="final"===i?De(t,o)(e,n):null,new We(s,a,"final"===i,u)}const v="POST",y=t.maxUploadRetryTime,b=new Ne(n,v,g,y);return b.headers=p,b.body=m.uploadData(),b.progressCallback=a||null,b.errorHandler=Me(e),b}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xe={STATE_CHANGED:"state_changed"},et={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function tt(e){switch(e){case"running":case"pausing":case"canceling":return et.RUNNING;case"paused":return et.PAUSED;case"success":return et.SUCCESS;case"canceled":return et.CANCELED;case"error":return et.ERROR;default:return et.ERROR}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nt{constructor(e,t,n){const r=M(e)||null!=t||null!=n;if(r)this.next=e,this.error=null!==t&&void 0!==t?t:void 0,this.complete=null!==n&&void 0!==n?n:void 0;else{const t=e;this.next=t.next,this.error=t.error,this.complete=t.complete}}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rt(e){return(...t)=>{Promise.resolve().then((()=>e(...t)))}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let it=null;class ot{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=H.NO_ERROR,this.sendPromise_=new Promise((e=>{this.xhr_.addEventListener("abort",(()=>{this.errorCode_=H.ABORT,e()})),this.xhr_.addEventListener("error",(()=>{this.errorCode_=H.NETWORK_ERROR,e()})),this.xhr_.addEventListener("load",(()=>{e()}))}))}send(e,t,n,r){if(this.sent_)throw O("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==r)for(const i in r)r.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,r[i].toString());return void 0!==n?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw O("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw O("cannot .getStatus() before sending");try{return this.xhr_.status}catch(e){return-1}}getResponse(){if(!this.sent_)throw O("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw O("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}class st extends ot{initXhr(){this.xhr_.responseType="text"}}function at(){return it?it():new st}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class lt{constructor(e,t,n=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=t,this._metadata=n,this._mappings=Se(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=e=>{this._request=void 0,this._chunkMultiplier=1,e._codeEquals("canceled")?(this._needToFetchStatus=!0,this.completeTransitions_()):(this._error=e,this._transition("error"))},this._metadataErrorHandler=e=>{this._request=void 0,e._codeEquals("canceled")?this.completeTransitions_():(this._error=e,this._transition("error"))},this._promise=new Promise(((e,t)=>{this._resolve=e,this._reject=t,this._start()})),this._promise.then(null,(()=>{}))}_makeProgressCallback(){const e=this._transferred;return t=>this._updateProgress(e+t)}_shouldDoResumable(e){return e.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then((([t,n])=>{switch(this._state){case"running":e(t,n);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused");break}}))}_createResumable(){this._resolveToken(((e,t)=>{const n=Ze(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),r=this._ref.storage._makeRequest(n,at,e,t);this._request=r,r.getPromise().then((e=>{this._request=void 0,this._uploadUrl=e,this._needToFetchStatus=!1,this.completeTransitions_()}),this._errorHandler)}))}_fetchStatus(){const e=this._uploadUrl;this._resolveToken(((t,n)=>{const r=Ye(this._ref.storage,this._ref._location,e,this._blob),i=this._ref.storage._makeRequest(r,at,t,n);this._request=i,i.getPromise().then((e=>{this._request=void 0,this._updateProgress(e.current),this._needToFetchStatus=!1,e.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()}),this._errorHandler)}))}_continueUpload(){const e=Qe*this._chunkMultiplier,t=new We(this._transferred,this._blob.size()),n=this._uploadUrl;this._resolveToken(((r,i)=>{let o;try{o=Je(this._ref._location,this._ref.storage,n,this._blob,e,this._mappings,t,this._makeProgressCallback())}catch(a){return this._error=a,void this._transition("error")}const s=this._ref.storage._makeRequest(o,at,r,i);this._request=s,s.getPromise().then((e=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(e.current),e.finalized?(this._metadata=e.metadata,this._transition("success")):this.completeTransitions_()}),this._errorHandler)}))}_increaseMultiplier(){const e=Qe*this._chunkMultiplier;e<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken(((e,t)=>{const n=Ue(this._ref.storage,this._ref._location,this._mappings),r=this._ref.storage._makeRequest(n,at,e,t);this._request=r,r.getPromise().then((e=>{this._request=void 0,this._metadata=e,this._transition("success")}),this._metadataErrorHandler)}))}_oneShotUpload(){this._resolveToken(((e,t)=>{const n=Ke(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),r=this._ref.storage._makeRequest(n,at,e,t);this._request=r,r.getPromise().then((e=>{this._request=void 0,this._metadata=e,this._updateProgress(this._blob.size()),this._transition("success")}),this._errorHandler)}))}_updateProgress(e){const t=this._transferred;this._transferred=e,this._transferred!==t&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":this._state=e,void 0!==this._request&&this._request.cancel();break;case"pausing":this._state=e,void 0!==this._request&&this._request.cancel();break;case"running":const t="paused"===this._state;this._state=e,t&&(this._notifyObservers(),this._start());break;case"paused":this._state=e,this._notifyObservers();break;case"canceled":this._error=w(),this._state=e,this._notifyObservers();break;case"error":this._state=e,this._notifyObservers();break;case"success":this._state=e,this._notifyObservers();break}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start();break}}get snapshot(){const e=tt(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,t,n,r){const i=new nt(t||void 0,n||void 0,r||void 0);return this._addObserver(i),()=>{this._removeObserver(i)}}then(e,t){return this._promise.then(e,t)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const t=this._observers.indexOf(e);-1!==t&&this._observers.splice(t,1)}_notifyObservers(){this._finishPromise();const e=this._observers.slice();e.forEach((e=>{this._notifyObserver(e)}))}_finishPromise(){if(void 0!==this._resolve){let e=!0;switch(tt(this._state)){case et.SUCCESS:rt(this._resolve.bind(null,this.snapshot))();break;case et.CANCELED:case et.ERROR:const t=this._reject;rt(t.bind(null,this._error))();break;default:e=!1;break}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){const t=tt(this._state);switch(t){case et.RUNNING:case et.PAUSED:e.next&&rt(e.next.bind(e,this.snapshot))();break;case et.SUCCESS:e.complete&&rt(e.complete.bind(e))();break;case et.CANCELED:case et.ERROR:e.error&&rt(e.error.bind(e,this._error))();break;default:e.error&&rt(e.error.bind(e,this._error))()}}resume(){const e="paused"===this._state||"pausing"===this._state;return e&&this._transition("running"),e}pause(){const e="running"===this._state;return e&&this._transition("pausing"),e}cancel(){const e="running"===this._state||"pausing"===this._state;return e&&this._transition("canceling"),e}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ut{constructor(e,t){this._service=e,this._location=t instanceof N?t:N.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new ut(e,t)}get root(){const e=new N(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return ve(this._location.path)}get storage(){return this._service}get parent(){const e=me(this._location.path);if(null===e)return null;const t=new N(this._location.bucket,e);return new ut(this._service,t)}_throwIfRoot(e){if(""===this._location.path)throw A(e)}}function ct(e,t,n){return e._throwIfRoot("uploadBytesResumable"),new lt(e,new fe(t),n)}function ht(e){const t={prefixes:[],items:[]};return dt(e,t).then((()=>t))}async function dt(e,t,n){const r={pageToken:n},i=await ft(e,r);t.prefixes.push(...i.prefixes),t.items.push(...i.items),null!=i.nextPageToken&&await dt(e,t,i.nextPageToken)}function ft(e,t){null!=t&&"number"===typeof t.maxResults&&j("options.maxResults",1,1e3,t.maxResults);const n=t||{},r=Be(e.storage,e._location,"/",n.pageToken,n.maxResults);return e.storage.makeRequestWithTokens(r,at)}function pt(e){e._throwIfRoot("getMetadata");const t=Ue(e.storage,e._location,Se());return e.storage.makeRequestWithTokens(t,at)}function mt(e,t){e._throwIfRoot("updateMetadata");const n=je(e.storage,e._location,t,Se());return e.storage.makeRequestWithTokens(n,at)}function gt(e){e._throwIfRoot("getDownloadURL");const t=Ve(e.storage,e._location,Se());return e.storage.makeRequestWithTokens(t,at).then((e=>{if(null===e)throw E();return e}))}function vt(e){e._throwIfRoot("deleteObject");const t=ze(e.storage,e._location);return e.storage.makeRequestWithTokens(t,at)}function yt(e,t){const n=ge(e._location.path,t),r=new N(e._location.bucket,n);return new ut(e.storage,r)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bt(e){return/^[A-Za-z]+:\/\//.test(e)}function wt(e,t){return new ut(e,t)}function _t(e,t){if(e instanceof xt){const n=e;if(null==n._bucket)throw k();const r=new ut(n,n._bucket);return null!=t?_t(r,t):r}return void 0!==t?yt(e,t):e}function St(e,t){if(t&&bt(t)){if(e instanceof xt)return wt(e,t);throw T("To use ref(service, url), the first argument must be a Storage instance.")}return _t(e,t)}function kt(e,t){const n=null===t||void 0===t?void 0:t[l];return null==n?null:N.makeFromBucketSpec(n,e)}function It(e,t,n,r={}){e.host=`${t}:${n}`,e._protocol="http";const{mockUserToken:i}=r;i&&(e._overrideAuthToken="string"===typeof i?i:(0,o.Sg)(i,e.app.options.projectId))}class xt{constructor(e,t,n,r,i){this.app=e,this._authProvider=t,this._appCheckProvider=n,this._url=r,this._firebaseVersion=i,this._bucket=null,this._host=a,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=u,this._maxUploadRetryTime=c,this._requests=new Set,this._bucket=null!=r?N.makeFromBucketSpec(r,this._host):kt(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,null!=this._url?this._bucket=N.makeFromBucketSpec(this._url,e):this._bucket=kt(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){j("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){j("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(null!==t)return t.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();return t.token}return null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach((e=>e.cancel())),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new ut(this,e)}_makeRequest(e,t,n,r){if(this._deleted)return new P(C());{const i=J(e,this._appId,n,r,t,this._firebaseVersion);return this._requests.add(i),i.getPromise().then((()=>this._requests.delete(i)),(()=>this._requests.delete(i))),i}}async makeRequestWithTokens(e,t){const[n,r]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,n,r).getPromise()}}const Et="@firebase/storage",Tt="0.9.9",Ct="storage";function At(e,t,n){return e=(0,o.m9)(e),ct(e,t,n)}function Rt(e){return e=(0,o.m9)(e),pt(e)}function Ot(e,t){return e=(0,o.m9)(e),mt(e,t)}function Nt(e,t){return e=(0,o.m9)(e),ft(e,t)}function Pt(e){return e=(0,o.m9)(e),ht(e)}function Dt(e){return e=(0,o.m9)(e),gt(e)}function Lt(e){return e=(0,o.m9)(e),vt(e)}function Ft(e,t){return e=(0,o.m9)(e),St(e,t)}function Mt(e,t){return yt(e,t)}function qt(e,t,n,r={}){It(e,t,n,r)}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ut(e,{instanceIdentifier:t}){const n=e.getProvider("app").getImmediate(),r=e.getProvider("auth-internal"),o=e.getProvider("app-check-internal");return new xt(n,r,o,t,i.SDK_VERSION)}function Bt(){(0,i._registerComponent)(new s.wA(Ct,Ut,"PUBLIC").setMultipleInstances(!0)),(0,i.registerVersion)(Et,Tt,""),(0,i.registerVersion)(Et,Tt,"esm2017")}Bt();
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class Vt{constructor(e,t,n){this._delegate=e,this.task=t,this.ref=n}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jt{constructor(e,t){this._delegate=e,this._ref=t,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new Vt(this._delegate.snapshot,this,this._ref)}then(e,t){return this._delegate.then((t=>{if(e)return e(new Vt(t,this,this._ref))}),t)}on(e,t,n,r){let i;return t&&(i="function"===typeof t?e=>t(new Vt(e,this,this._ref)):{next:t.next?e=>t.next(new Vt(e,this,this._ref)):void 0,complete:t.complete||void 0,error:t.error||void 0}),this._delegate.on(e,i,n||void 0,r||void 0)}}class zt{constructor(e,t){this._delegate=e,this._service=t}get prefixes(){return this._delegate.prefixes.map((e=>new $t(e,this._service)))}get items(){return this._delegate.items.map((e=>new $t(e,this._service)))}get nextPageToken(){return this._delegate.nextPageToken||null}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *  http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $t{constructor(e,t){this._delegate=e,this.storage=t}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(e){const t=Mt(this._delegate,e);return new $t(t,this.storage)}get root(){return new $t(this._delegate.root,this.storage)}get parent(){const e=this._delegate.parent;return null==e?null:new $t(e,this.storage)}put(e,t){return this._throwIfRoot("put"),new jt(At(this._delegate,e,t),this)}putString(e,t=re.RAW,n){this._throwIfRoot("putString");const r=oe(t,e),i=Object.assign({},n);return null==i["contentType"]&&null!=r.contentType&&(i["contentType"]=r.contentType),new jt(new lt(this._delegate,new fe(r.data,!0),i),this)}listAll(){return Pt(this._delegate).then((e=>new zt(e,this.storage)))}list(e){return Nt(this._delegate,e||void 0).then((e=>new zt(e,this.storage)))}getMetadata(){return Rt(this._delegate)}updateMetadata(e){return Ot(this._delegate,e)}getDownloadURL(){return Dt(this._delegate)}delete(){return this._throwIfRoot("delete"),Lt(this._delegate)}_throwIfRoot(e){if(""===this._delegate._location.path)throw A(e)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ht{constructor(e,t){this.app=e,this._delegate=t}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(e){if(Kt(e))throw T("ref() expected a child path but got a URL, use refFromURL instead.");return new $t(Ft(this._delegate,e),this)}refFromURL(e){if(!Kt(e))throw T("refFromURL() expected a full URL but got a child path, use ref() instead.");try{N.makeFromUrl(e,this._delegate.host)}catch(t){throw T("refFromUrl() expected a valid full URL but got an invalid one.")}return new $t(Ft(this._delegate,e),this)}setMaxUploadRetryTime(e){this._delegate.maxUploadRetryTime=e}setMaxOperationRetryTime(e){this._delegate.maxOperationRetryTime=e}useEmulator(e,t,n={}){qt(this._delegate,e,t,n)}}function Kt(e){return/^[A-Za-z]+:\/\//.test(e)}const Wt="@firebase/storage-compat",Gt="0.1.17",Zt="storage-compat";function Yt(e,{instanceIdentifier:t}){const n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("storage").getImmediate({identifier:t}),i=new Ht(n,r);return i}function Qt(e){const t={TaskState:et,TaskEvent:Xe,StringFormat:re,Storage:Ht,Reference:$t};e.INTERNAL.registerComponent(new s.wA(Zt,Yt,"PUBLIC").setServiceProps(t).setMultipleInstances(!0)),e.registerVersion(Wt,Gt)}Qt(r.Z)},606:(e,t,n)=>{
/*!

JSZip v3.10.1 - A JavaScript class for generating and reading zip files
<http://stuartk.com/jszip>

(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

JSZip uses the library pako released under the MIT license :
https://github.com/nodeca/pako/blob/main/LICENSE
*/
!function(t){e.exports=t()}((function(){return function e(t,n,r){function i(s,a){if(!n[s]){if(!t[s]){var l=void 0;if(!a&&l)return require(s,!0);if(o)return o(s,!0);var u=new Error("Cannot find module '"+s+"'");throw u.code="MODULE_NOT_FOUND",u}var c=n[s]={exports:{}};t[s][0].call(c.exports,(function(e){var n=t[s][1][e];return i(n||e)}),c,c.exports,e,t,n,r)}return n[s].exports}for(var o=void 0,s=0;s<r.length;s++)i(r[s]);return i}({1:[function(e,t,n){"use strict";var r=e("./utils"),i=e("./support"),o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";n.encode=function(e){for(var t,n,i,s,a,l,u,c=[],h=0,d=e.length,f=d,p="string"!==r.getTypeOf(e);h<e.length;)f=d-h,i=p?(t=e[h++],n=h<d?e[h++]:0,h<d?e[h++]:0):(t=e.charCodeAt(h++),n=h<d?e.charCodeAt(h++):0,h<d?e.charCodeAt(h++):0),s=t>>2,a=(3&t)<<4|n>>4,l=1<f?(15&n)<<2|i>>6:64,u=2<f?63&i:64,c.push(o.charAt(s)+o.charAt(a)+o.charAt(l)+o.charAt(u));return c.join("")},n.decode=function(e){var t,n,r,s,a,l,u=0,c=0,h="data:";if(e.substr(0,h.length)===h)throw new Error("Invalid base64 input, it looks like a data url.");var d,f=3*(e=e.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(e.charAt(e.length-1)===o.charAt(64)&&f--,e.charAt(e.length-2)===o.charAt(64)&&f--,f%1!=0)throw new Error("Invalid base64 input, bad content length.");for(d=i.uint8array?new Uint8Array(0|f):new Array(0|f);u<e.length;)t=o.indexOf(e.charAt(u++))<<2|(s=o.indexOf(e.charAt(u++)))>>4,n=(15&s)<<4|(a=o.indexOf(e.charAt(u++)))>>2,r=(3&a)<<6|(l=o.indexOf(e.charAt(u++))),d[c++]=t,64!==a&&(d[c++]=n),64!==l&&(d[c++]=r);return d}},{"./support":30,"./utils":32}],2:[function(e,t,n){"use strict";var r=e("./external"),i=e("./stream/DataWorker"),o=e("./stream/Crc32Probe"),s=e("./stream/DataLengthProbe");function a(e,t,n,r,i){this.compressedSize=e,this.uncompressedSize=t,this.crc32=n,this.compression=r,this.compressedContent=i}a.prototype={getContentWorker:function(){var e=new i(r.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new s("data_length")),t=this;return e.on("end",(function(){if(this.streamInfo.data_length!==t.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")})),e},getCompressedWorker:function(){return new i(r.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},a.createWorkerFrom=function(e,t,n){return e.pipe(new o).pipe(new s("uncompressedSize")).pipe(t.compressWorker(n)).pipe(new s("compressedSize")).withStreamInfo("compression",t)},t.exports=a},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(e,t,n){"use strict";var r=e("./stream/GenericWorker");n.STORE={magic:"\0\0",compressWorker:function(){return new r("STORE compression")},uncompressWorker:function(){return new r("STORE decompression")}},n.DEFLATE=e("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(e,t,n){"use strict";var r=e("./utils"),i=function(){for(var e,t=[],n=0;n<256;n++){e=n;for(var r=0;r<8;r++)e=1&e?3988292384^e>>>1:e>>>1;t[n]=e}return t}();t.exports=function(e,t){return void 0!==e&&e.length?"string"!==r.getTypeOf(e)?function(e,t,n,r){var o=i,s=r+n;e^=-1;for(var a=r;a<s;a++)e=e>>>8^o[255&(e^t[a])];return-1^e}(0|t,e,e.length,0):function(e,t,n,r){var o=i,s=r+n;e^=-1;for(var a=r;a<s;a++)e=e>>>8^o[255&(e^t.charCodeAt(a))];return-1^e}(0|t,e,e.length,0):0}},{"./utils":32}],5:[function(e,t,n){"use strict";n.base64=!1,n.binary=!1,n.dir=!1,n.createFolders=!0,n.date=null,n.compression=null,n.compressionOptions=null,n.comment=null,n.unixPermissions=null,n.dosPermissions=null},{}],6:[function(e,t,n){"use strict";var r=null;r="undefined"!=typeof Promise?Promise:e("lie"),t.exports={Promise:r}},{lie:37}],7:[function(e,t,n){"use strict";var r="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Uint32Array,i=e("pako"),o=e("./utils"),s=e("./stream/GenericWorker"),a=r?"uint8array":"array";function l(e,t){s.call(this,"FlateWorker/"+e),this._pako=null,this._pakoAction=e,this._pakoOptions=t,this.meta={}}n.magic="\b\0",o.inherits(l,s),l.prototype.processChunk=function(e){this.meta=e.meta,null===this._pako&&this._createPako(),this._pako.push(o.transformTo(a,e.data),!1)},l.prototype.flush=function(){s.prototype.flush.call(this),null===this._pako&&this._createPako(),this._pako.push([],!0)},l.prototype.cleanUp=function(){s.prototype.cleanUp.call(this),this._pako=null},l.prototype._createPako=function(){this._pako=new i[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var e=this;this._pako.onData=function(t){e.push({data:t,meta:e.meta})}},n.compressWorker=function(e){return new l("Deflate",e)},n.uncompressWorker=function(){return new l("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(e,t,n){"use strict";function r(e,t){var n,r="";for(n=0;n<t;n++)r+=String.fromCharCode(255&e),e>>>=8;return r}function i(e,t,n,i,s,c){var h,d,f=e.file,p=e.compression,m=c!==a.utf8encode,g=o.transformTo("string",c(f.name)),v=o.transformTo("string",a.utf8encode(f.name)),y=f.comment,b=o.transformTo("string",c(y)),w=o.transformTo("string",a.utf8encode(y)),_=v.length!==f.name.length,S=w.length!==y.length,k="",I="",x="",E=f.dir,T=f.date,C={crc32:0,compressedSize:0,uncompressedSize:0};t&&!n||(C.crc32=e.crc32,C.compressedSize=e.compressedSize,C.uncompressedSize=e.uncompressedSize);var A=0;t&&(A|=8),m||!_&&!S||(A|=2048);var R=0,O=0;E&&(R|=16),"UNIX"===s?(O=798,R|=function(e,t){var n=e;return e||(n=t?16893:33204),(65535&n)<<16}(f.unixPermissions,E)):(O=20,R|=function(e){return 63&(e||0)}(f.dosPermissions)),h=T.getUTCHours(),h<<=6,h|=T.getUTCMinutes(),h<<=5,h|=T.getUTCSeconds()/2,d=T.getUTCFullYear()-1980,d<<=4,d|=T.getUTCMonth()+1,d<<=5,d|=T.getUTCDate(),_&&(I=r(1,1)+r(l(g),4)+v,k+="up"+r(I.length,2)+I),S&&(x=r(1,1)+r(l(b),4)+w,k+="uc"+r(x.length,2)+x);var N="";return N+="\n\0",N+=r(A,2),N+=p.magic,N+=r(h,2),N+=r(d,2),N+=r(C.crc32,4),N+=r(C.compressedSize,4),N+=r(C.uncompressedSize,4),N+=r(g.length,2),N+=r(k.length,2),{fileRecord:u.LOCAL_FILE_HEADER+N+g+k,dirRecord:u.CENTRAL_FILE_HEADER+r(O,2)+N+r(b.length,2)+"\0\0\0\0"+r(R,4)+r(i,4)+g+k+b}}var o=e("../utils"),s=e("../stream/GenericWorker"),a=e("../utf8"),l=e("../crc32"),u=e("../signature");function c(e,t,n,r){s.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=t,this.zipPlatform=n,this.encodeFileName=r,this.streamFiles=e,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}o.inherits(c,s),c.prototype.push=function(e){var t=e.meta.percent||0,n=this.entriesCount,r=this._sources.length;this.accumulate?this.contentBuffer.push(e):(this.bytesWritten+=e.data.length,s.prototype.push.call(this,{data:e.data,meta:{currentFile:this.currentFile,percent:n?(t+100*(n-r-1))/n:100}}))},c.prototype.openedSource=function(e){this.currentSourceOffset=this.bytesWritten,this.currentFile=e.file.name;var t=this.streamFiles&&!e.file.dir;if(t){var n=i(e,t,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:n.fileRecord,meta:{percent:0}})}else this.accumulate=!0},c.prototype.closedSource=function(e){this.accumulate=!1;var t=this.streamFiles&&!e.file.dir,n=i(e,t,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(n.dirRecord),t)this.push({data:function(e){return u.DATA_DESCRIPTOR+r(e.crc32,4)+r(e.compressedSize,4)+r(e.uncompressedSize,4)}(e),meta:{percent:100}});else for(this.push({data:n.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},c.prototype.flush=function(){for(var e=this.bytesWritten,t=0;t<this.dirRecords.length;t++)this.push({data:this.dirRecords[t],meta:{percent:100}});var n=this.bytesWritten-e,i=function(e,t,n,i,s){var a=o.transformTo("string",s(i));return u.CENTRAL_DIRECTORY_END+"\0\0\0\0"+r(e,2)+r(e,2)+r(t,4)+r(n,4)+r(a.length,2)+a}(this.dirRecords.length,n,e,this.zipComment,this.encodeFileName);this.push({data:i,meta:{percent:100}})},c.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},c.prototype.registerPrevious=function(e){this._sources.push(e);var t=this;return e.on("data",(function(e){t.processChunk(e)})),e.on("end",(function(){t.closedSource(t.previous.streamInfo),t._sources.length?t.prepareNextSource():t.end()})),e.on("error",(function(e){t.error(e)})),this},c.prototype.resume=function(){return!!s.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},c.prototype.error=function(e){var t=this._sources;if(!s.prototype.error.call(this,e))return!1;for(var n=0;n<t.length;n++)try{t[n].error(e)}catch(e){}return!0},c.prototype.lock=function(){s.prototype.lock.call(this);for(var e=this._sources,t=0;t<e.length;t++)e[t].lock()},t.exports=c},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(e,t,n){"use strict";var r=e("../compressions"),i=e("./ZipFileWorker");n.generateWorker=function(e,t,n){var o=new i(t.streamFiles,n,t.platform,t.encodeFileName),s=0;try{e.forEach((function(e,n){s++;var i=function(e,t){var n=e||t,i=r[n];if(!i)throw new Error(n+" is not a valid compression method !");return i}(n.options.compression,t.compression),a=n.options.compressionOptions||t.compressionOptions||{},l=n.dir,u=n.date;n._compressWorker(i,a).withStreamInfo("file",{name:e,dir:l,date:u,comment:n.comment||"",unixPermissions:n.unixPermissions,dosPermissions:n.dosPermissions}).pipe(o)})),o.entriesCount=s}catch(e){o.error(e)}return o}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(e,t,n){"use strict";function r(){if(!(this instanceof r))return new r;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var e=new r;for(var t in this)"function"!=typeof this[t]&&(e[t]=this[t]);return e}}(r.prototype=e("./object")).loadAsync=e("./load"),r.support=e("./support"),r.defaults=e("./defaults"),r.version="3.10.1",r.loadAsync=function(e,t){return(new r).loadAsync(e,t)},r.external=e("./external"),t.exports=r},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(e,t,n){"use strict";var r=e("./utils"),i=e("./external"),o=e("./utf8"),s=e("./zipEntries"),a=e("./stream/Crc32Probe"),l=e("./nodejsUtils");function u(e){return new i.Promise((function(t,n){var r=e.decompressed.getContentWorker().pipe(new a);r.on("error",(function(e){n(e)})).on("end",(function(){r.streamInfo.crc32!==e.decompressed.crc32?n(new Error("Corrupted zip : CRC32 mismatch")):t()})).resume()}))}t.exports=function(e,t){var n=this;return t=r.extend(t||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:o.utf8decode}),l.isNode&&l.isStream(e)?i.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):r.prepareContent("the loaded zip file",e,!0,t.optimizedBinaryString,t.base64).then((function(e){var n=new s(t);return n.load(e),n})).then((function(e){var n=[i.Promise.resolve(e)],r=e.files;if(t.checkCRC32)for(var o=0;o<r.length;o++)n.push(u(r[o]));return i.Promise.all(n)})).then((function(e){for(var i=e.shift(),o=i.files,s=0;s<o.length;s++){var a=o[s],l=a.fileNameStr,u=r.resolve(a.fileNameStr);n.file(u,a.decompressed,{binary:!0,optimizedBinaryString:!0,date:a.date,dir:a.dir,comment:a.fileCommentStr.length?a.fileCommentStr:null,unixPermissions:a.unixPermissions,dosPermissions:a.dosPermissions,createFolders:t.createFolders}),a.dir||(n.file(u).unsafeOriginalName=l)}return i.zipComment.length&&(n.comment=i.zipComment),n}))}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(e,t,n){"use strict";var r=e("../utils"),i=e("../stream/GenericWorker");function o(e,t){i.call(this,"Nodejs stream input adapter for "+e),this._upstreamEnded=!1,this._bindStream(t)}r.inherits(o,i),o.prototype._bindStream=function(e){var t=this;(this._stream=e).pause(),e.on("data",(function(e){t.push({data:e,meta:{percent:0}})})).on("error",(function(e){t.isPaused?this.generatedError=e:t.error(e)})).on("end",(function(){t.isPaused?t._upstreamEnded=!0:t.end()}))},o.prototype.pause=function(){return!!i.prototype.pause.call(this)&&(this._stream.pause(),!0)},o.prototype.resume=function(){return!!i.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},t.exports=o},{"../stream/GenericWorker":28,"../utils":32}],13:[function(e,t,n){"use strict";var r=e("readable-stream").Readable;function i(e,t,n){r.call(this,t),this._helper=e;var i=this;e.on("data",(function(e,t){i.push(e)||i._helper.pause(),n&&n(t)})).on("error",(function(e){i.emit("error",e)})).on("end",(function(){i.push(null)}))}e("../utils").inherits(i,r),i.prototype._read=function(){this._helper.resume()},t.exports=i},{"../utils":32,"readable-stream":16}],14:[function(e,t,n){"use strict";t.exports={isNode:"undefined"!=typeof Buffer,newBufferFrom:function(e,t){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(e,t);if("number"==typeof e)throw new Error('The "data" argument must not be a number');return new Buffer(e,t)},allocBuffer:function(e){if(Buffer.alloc)return Buffer.alloc(e);var t=new Buffer(e);return t.fill(0),t},isBuffer:function(e){return Buffer.isBuffer(e)},isStream:function(e){return e&&"function"==typeof e.on&&"function"==typeof e.pause&&"function"==typeof e.resume}}},{}],15:[function(e,t,n){"use strict";function r(e,t,n){var r,i=o.getTypeOf(t),a=o.extend(n||{},l);a.date=a.date||new Date,null!==a.compression&&(a.compression=a.compression.toUpperCase()),"string"==typeof a.unixPermissions&&(a.unixPermissions=parseInt(a.unixPermissions,8)),a.unixPermissions&&16384&a.unixPermissions&&(a.dir=!0),a.dosPermissions&&16&a.dosPermissions&&(a.dir=!0),a.dir&&(e=m(e)),a.createFolders&&(r=p(e))&&g.call(this,r,!0);var h="string"===i&&!1===a.binary&&!1===a.base64;n&&void 0!==n.binary||(a.binary=!h),(t instanceof u&&0===t.uncompressedSize||a.dir||!t||0===t.length)&&(a.base64=!1,a.binary=!0,t="",a.compression="STORE",i="string");var v=null;v=t instanceof u||t instanceof s?t:d.isNode&&d.isStream(t)?new f(e,t):o.prepareContent(e,t,a.binary,a.optimizedBinaryString,a.base64);var y=new c(e,v,a);this.files[e]=y}var i=e("./utf8"),o=e("./utils"),s=e("./stream/GenericWorker"),a=e("./stream/StreamHelper"),l=e("./defaults"),u=e("./compressedObject"),c=e("./zipObject"),h=e("./generate"),d=e("./nodejsUtils"),f=e("./nodejs/NodejsStreamInputAdapter"),p=function(e){"/"===e.slice(-1)&&(e=e.substring(0,e.length-1));var t=e.lastIndexOf("/");return 0<t?e.substring(0,t):""},m=function(e){return"/"!==e.slice(-1)&&(e+="/"),e},g=function(e,t){return t=void 0!==t?t:l.createFolders,e=m(e),this.files[e]||r.call(this,e,null,{dir:!0,createFolders:t}),this.files[e]};function v(e){return"[object RegExp]"===Object.prototype.toString.call(e)}var y={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(e){var t,n,r;for(t in this.files)r=this.files[t],(n=t.slice(this.root.length,t.length))&&t.slice(0,this.root.length)===this.root&&e(n,r)},filter:function(e){var t=[];return this.forEach((function(n,r){e(n,r)&&t.push(r)})),t},file:function(e,t,n){if(1!==arguments.length)return e=this.root+e,r.call(this,e,t,n),this;if(v(e)){var i=e;return this.filter((function(e,t){return!t.dir&&i.test(e)}))}var o=this.files[this.root+e];return o&&!o.dir?o:null},folder:function(e){if(!e)return this;if(v(e))return this.filter((function(t,n){return n.dir&&e.test(t)}));var t=this.root+e,n=g.call(this,t),r=this.clone();return r.root=n.name,r},remove:function(e){e=this.root+e;var t=this.files[e];if(t||("/"!==e.slice(-1)&&(e+="/"),t=this.files[e]),t&&!t.dir)delete this.files[e];else for(var n=this.filter((function(t,n){return n.name.slice(0,e.length)===e})),r=0;r<n.length;r++)delete this.files[n[r].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(e){var t,n={};try{if((n=o.extend(e||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:i.utf8encode})).type=n.type.toLowerCase(),n.compression=n.compression.toUpperCase(),"binarystring"===n.type&&(n.type="string"),!n.type)throw new Error("No output type specified.");o.checkSupport(n.type),"darwin"!==n.platform&&"freebsd"!==n.platform&&"linux"!==n.platform&&"sunos"!==n.platform||(n.platform="UNIX"),"win32"===n.platform&&(n.platform="DOS");var r=n.comment||this.comment||"";t=h.generateWorker(this,n,r)}catch(e){(t=new s("error")).error(e)}return new a(t,n.type||"string",n.mimeType)},generateAsync:function(e,t){return this.generateInternalStream(e).accumulate(t)},generateNodeStream:function(e,t){return(e=e||{}).type||(e.type="nodebuffer"),this.generateInternalStream(e).toNodejsStream(t)}};t.exports=y},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(e,t,n){"use strict";t.exports=e("stream")},{stream:void 0}],17:[function(e,t,n){"use strict";var r=e("./DataReader");function i(e){r.call(this,e);for(var t=0;t<this.data.length;t++)e[t]=255&e[t]}e("../utils").inherits(i,r),i.prototype.byteAt=function(e){return this.data[this.zero+e]},i.prototype.lastIndexOfSignature=function(e){for(var t=e.charCodeAt(0),n=e.charCodeAt(1),r=e.charCodeAt(2),i=e.charCodeAt(3),o=this.length-4;0<=o;--o)if(this.data[o]===t&&this.data[o+1]===n&&this.data[o+2]===r&&this.data[o+3]===i)return o-this.zero;return-1},i.prototype.readAndCheckSignature=function(e){var t=e.charCodeAt(0),n=e.charCodeAt(1),r=e.charCodeAt(2),i=e.charCodeAt(3),o=this.readData(4);return t===o[0]&&n===o[1]&&r===o[2]&&i===o[3]},i.prototype.readData=function(e){if(this.checkOffset(e),0===e)return[];var t=this.data.slice(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},t.exports=i},{"../utils":32,"./DataReader":18}],18:[function(e,t,n){"use strict";var r=e("../utils");function i(e){this.data=e,this.length=e.length,this.index=0,this.zero=0}i.prototype={checkOffset:function(e){this.checkIndex(this.index+e)},checkIndex:function(e){if(this.length<this.zero+e||e<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+e+"). Corrupted zip ?")},setIndex:function(e){this.checkIndex(e),this.index=e},skip:function(e){this.setIndex(this.index+e)},byteAt:function(){},readInt:function(e){var t,n=0;for(this.checkOffset(e),t=this.index+e-1;t>=this.index;t--)n=(n<<8)+this.byteAt(t);return this.index+=e,n},readString:function(e){return r.transformTo("string",this.readData(e))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var e=this.readInt(4);return new Date(Date.UTC(1980+(e>>25&127),(e>>21&15)-1,e>>16&31,e>>11&31,e>>5&63,(31&e)<<1))}},t.exports=i},{"../utils":32}],19:[function(e,t,n){"use strict";var r=e("./Uint8ArrayReader");function i(e){r.call(this,e)}e("../utils").inherits(i,r),i.prototype.readData=function(e){this.checkOffset(e);var t=this.data.slice(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},t.exports=i},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(e,t,n){"use strict";var r=e("./DataReader");function i(e){r.call(this,e)}e("../utils").inherits(i,r),i.prototype.byteAt=function(e){return this.data.charCodeAt(this.zero+e)},i.prototype.lastIndexOfSignature=function(e){return this.data.lastIndexOf(e)-this.zero},i.prototype.readAndCheckSignature=function(e){return e===this.readData(4)},i.prototype.readData=function(e){this.checkOffset(e);var t=this.data.slice(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},t.exports=i},{"../utils":32,"./DataReader":18}],21:[function(e,t,n){"use strict";var r=e("./ArrayReader");function i(e){r.call(this,e)}e("../utils").inherits(i,r),i.prototype.readData=function(e){if(this.checkOffset(e),0===e)return new Uint8Array(0);var t=this.data.subarray(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},t.exports=i},{"../utils":32,"./ArrayReader":17}],22:[function(e,t,n){"use strict";var r=e("../utils"),i=e("../support"),o=e("./ArrayReader"),s=e("./StringReader"),a=e("./NodeBufferReader"),l=e("./Uint8ArrayReader");t.exports=function(e){var t=r.getTypeOf(e);return r.checkSupport(t),"string"!==t||i.uint8array?"nodebuffer"===t?new a(e):i.uint8array?new l(r.transformTo("uint8array",e)):new o(r.transformTo("array",e)):new s(e)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(e,t,n){"use strict";n.LOCAL_FILE_HEADER="PK",n.CENTRAL_FILE_HEADER="PK",n.CENTRAL_DIRECTORY_END="PK",n.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK",n.ZIP64_CENTRAL_DIRECTORY_END="PK",n.DATA_DESCRIPTOR="PK\b"},{}],24:[function(e,t,n){"use strict";var r=e("./GenericWorker"),i=e("../utils");function o(e){r.call(this,"ConvertWorker to "+e),this.destType=e}i.inherits(o,r),o.prototype.processChunk=function(e){this.push({data:i.transformTo(this.destType,e.data),meta:e.meta})},t.exports=o},{"../utils":32,"./GenericWorker":28}],25:[function(e,t,n){"use strict";var r=e("./GenericWorker"),i=e("../crc32");function o(){r.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}e("../utils").inherits(o,r),o.prototype.processChunk=function(e){this.streamInfo.crc32=i(e.data,this.streamInfo.crc32||0),this.push(e)},t.exports=o},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(e,t,n){"use strict";var r=e("../utils"),i=e("./GenericWorker");function o(e){i.call(this,"DataLengthProbe for "+e),this.propName=e,this.withStreamInfo(e,0)}r.inherits(o,i),o.prototype.processChunk=function(e){if(e){var t=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=t+e.data.length}i.prototype.processChunk.call(this,e)},t.exports=o},{"../utils":32,"./GenericWorker":28}],27:[function(e,t,n){"use strict";var r=e("../utils"),i=e("./GenericWorker");function o(e){i.call(this,"DataWorker");var t=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,e.then((function(e){t.dataIsReady=!0,t.data=e,t.max=e&&e.length||0,t.type=r.getTypeOf(e),t.isPaused||t._tickAndRepeat()}),(function(e){t.error(e)}))}r.inherits(o,i),o.prototype.cleanUp=function(){i.prototype.cleanUp.call(this),this.data=null},o.prototype.resume=function(){return!!i.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,r.delay(this._tickAndRepeat,[],this)),!0)},o.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(r.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},o.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var e=null,t=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":e=this.data.substring(this.index,t);break;case"uint8array":e=this.data.subarray(this.index,t);break;case"array":case"nodebuffer":e=this.data.slice(this.index,t)}return this.index=t,this.push({data:e,meta:{percent:this.max?this.index/this.max*100:0}})},t.exports=o},{"../utils":32,"./GenericWorker":28}],28:[function(e,t,n){"use strict";function r(e){this.name=e||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}r.prototype={push:function(e){this.emit("data",e)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(e){this.emit("error",e)}return!0},error:function(e){return!this.isFinished&&(this.isPaused?this.generatedError=e:(this.isFinished=!0,this.emit("error",e),this.previous&&this.previous.error(e),this.cleanUp()),!0)},on:function(e,t){return this._listeners[e].push(t),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(e,t){if(this._listeners[e])for(var n=0;n<this._listeners[e].length;n++)this._listeners[e][n].call(this,t)},pipe:function(e){return e.registerPrevious(this)},registerPrevious:function(e){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=e.streamInfo,this.mergeStreamInfo(),this.previous=e;var t=this;return e.on("data",(function(e){t.processChunk(e)})),e.on("end",(function(){t.end()})),e.on("error",(function(e){t.error(e)})),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var e=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),e=!0),this.previous&&this.previous.resume(),!e},flush:function(){},processChunk:function(e){this.push(e)},withStreamInfo:function(e,t){return this.extraStreamInfo[e]=t,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var e in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,e)&&(this.streamInfo[e]=this.extraStreamInfo[e])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var e="Worker "+this.name;return this.previous?this.previous+" -> "+e:e}},t.exports=r},{}],29:[function(e,t,n){"use strict";var r=e("../utils"),i=e("./ConvertWorker"),o=e("./GenericWorker"),s=e("../base64"),a=e("../support"),l=e("../external"),u=null;if(a.nodestream)try{u=e("../nodejs/NodejsStreamOutputAdapter")}catch(e){}function c(e,t){return new l.Promise((function(n,i){var o=[],a=e._internalType,l=e._outputType,u=e._mimeType;e.on("data",(function(e,n){o.push(e),t&&t(n)})).on("error",(function(e){o=[],i(e)})).on("end",(function(){try{var e=function(e,t,n){switch(e){case"blob":return r.newBlob(r.transformTo("arraybuffer",t),n);case"base64":return s.encode(t);default:return r.transformTo(e,t)}}(l,function(e,t){var n,r=0,i=null,o=0;for(n=0;n<t.length;n++)o+=t[n].length;switch(e){case"string":return t.join("");case"array":return Array.prototype.concat.apply([],t);case"uint8array":for(i=new Uint8Array(o),n=0;n<t.length;n++)i.set(t[n],r),r+=t[n].length;return i;case"nodebuffer":return Buffer.concat(t);default:throw new Error("concat : unsupported type '"+e+"'")}}(a,o),u);n(e)}catch(e){i(e)}o=[]})).resume()}))}function h(e,t,n){var s=t;switch(t){case"blob":case"arraybuffer":s="uint8array";break;case"base64":s="string"}try{this._internalType=s,this._outputType=t,this._mimeType=n,r.checkSupport(s),this._worker=e.pipe(new i(s)),e.lock()}catch(e){this._worker=new o("error"),this._worker.error(e)}}h.prototype={accumulate:function(e){return c(this,e)},on:function(e,t){var n=this;return"data"===e?this._worker.on(e,(function(e){t.call(n,e.data,e.meta)})):this._worker.on(e,(function(){r.delay(t,arguments,n)})),this},resume:function(){return r.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(e){if(r.checkSupport("nodestream"),"nodebuffer"!==this._outputType)throw new Error(this._outputType+" is not supported by this method");return new u(this,{objectMode:"nodebuffer"!==this._outputType},e)}},t.exports=h},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(e,t,n){"use strict";if(n.base64=!0,n.array=!0,n.string=!0,n.arraybuffer="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof Uint8Array,n.nodebuffer="undefined"!=typeof Buffer,n.uint8array="undefined"!=typeof Uint8Array,"undefined"==typeof ArrayBuffer)n.blob=!1;else{var r=new ArrayBuffer(0);try{n.blob=0===new Blob([r],{type:"application/zip"}).size}catch(e){try{var i=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);i.append(r),n.blob=0===i.getBlob("application/zip").size}catch(e){n.blob=!1}}}try{n.nodestream=!!e("readable-stream").Readable}catch(e){n.nodestream=!1}},{"readable-stream":16}],31:[function(e,t,n){"use strict";for(var r=e("./utils"),i=e("./support"),o=e("./nodejsUtils"),s=e("./stream/GenericWorker"),a=new Array(256),l=0;l<256;l++)a[l]=252<=l?6:248<=l?5:240<=l?4:224<=l?3:192<=l?2:1;function u(){s.call(this,"utf-8 decode"),this.leftOver=null}function c(){s.call(this,"utf-8 encode")}a[254]=a[254]=1,n.utf8encode=function(e){return i.nodebuffer?o.newBufferFrom(e,"utf-8"):function(e){var t,n,r,o,s,a=e.length,l=0;for(o=0;o<a;o++)55296==(64512&(n=e.charCodeAt(o)))&&o+1<a&&56320==(64512&(r=e.charCodeAt(o+1)))&&(n=65536+(n-55296<<10)+(r-56320),o++),l+=n<128?1:n<2048?2:n<65536?3:4;for(t=i.uint8array?new Uint8Array(l):new Array(l),o=s=0;s<l;o++)55296==(64512&(n=e.charCodeAt(o)))&&o+1<a&&56320==(64512&(r=e.charCodeAt(o+1)))&&(n=65536+(n-55296<<10)+(r-56320),o++),n<128?t[s++]=n:(n<2048?t[s++]=192|n>>>6:(n<65536?t[s++]=224|n>>>12:(t[s++]=240|n>>>18,t[s++]=128|n>>>12&63),t[s++]=128|n>>>6&63),t[s++]=128|63&n);return t}(e)},n.utf8decode=function(e){return i.nodebuffer?r.transformTo("nodebuffer",e).toString("utf-8"):function(e){var t,n,i,o,s=e.length,l=new Array(2*s);for(t=n=0;t<s;)if((i=e[t++])<128)l[n++]=i;else if(4<(o=a[i]))l[n++]=65533,t+=o-1;else{for(i&=2===o?31:3===o?15:7;1<o&&t<s;)i=i<<6|63&e[t++],o--;1<o?l[n++]=65533:i<65536?l[n++]=i:(i-=65536,l[n++]=55296|i>>10&1023,l[n++]=56320|1023&i)}return l.length!==n&&(l.subarray?l=l.subarray(0,n):l.length=n),r.applyFromCharCode(l)}(e=r.transformTo(i.uint8array?"uint8array":"array",e))},r.inherits(u,s),u.prototype.processChunk=function(e){var t=r.transformTo(i.uint8array?"uint8array":"array",e.data);if(this.leftOver&&this.leftOver.length){if(i.uint8array){var o=t;(t=new Uint8Array(o.length+this.leftOver.length)).set(this.leftOver,0),t.set(o,this.leftOver.length)}else t=this.leftOver.concat(t);this.leftOver=null}var s=function(e,t){var n;for((t=t||e.length)>e.length&&(t=e.length),n=t-1;0<=n&&128==(192&e[n]);)n--;return n<0||0===n?t:n+a[e[n]]>t?n:t}(t),l=t;s!==t.length&&(i.uint8array?(l=t.subarray(0,s),this.leftOver=t.subarray(s,t.length)):(l=t.slice(0,s),this.leftOver=t.slice(s,t.length))),this.push({data:n.utf8decode(l),meta:e.meta})},u.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:n.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},n.Utf8DecodeWorker=u,r.inherits(c,s),c.prototype.processChunk=function(e){this.push({data:n.utf8encode(e.data),meta:e.meta})},n.Utf8EncodeWorker=c},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(e,t,n){"use strict";var r=e("./support"),i=e("./base64"),o=e("./nodejsUtils"),s=e("./external");function a(e){return e}function l(e,t){for(var n=0;n<e.length;++n)t[n]=255&e.charCodeAt(n);return t}e("setimmediate"),n.newBlob=function(t,r){n.checkSupport("blob");try{return new Blob([t],{type:r})}catch(e){try{var i=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return i.append(t),i.getBlob(r)}catch(e){throw new Error("Bug : can't construct the Blob.")}}};var u={stringifyByChunk:function(e,t,n){var r=[],i=0,o=e.length;if(o<=n)return String.fromCharCode.apply(null,e);for(;i<o;)"array"===t||"nodebuffer"===t?r.push(String.fromCharCode.apply(null,e.slice(i,Math.min(i+n,o)))):r.push(String.fromCharCode.apply(null,e.subarray(i,Math.min(i+n,o)))),i+=n;return r.join("")},stringifyByChar:function(e){for(var t="",n=0;n<e.length;n++)t+=String.fromCharCode(e[n]);return t},applyCanBeUsed:{uint8array:function(){try{return r.uint8array&&1===String.fromCharCode.apply(null,new Uint8Array(1)).length}catch(e){return!1}}(),nodebuffer:function(){try{return r.nodebuffer&&1===String.fromCharCode.apply(null,o.allocBuffer(1)).length}catch(e){return!1}}()}};function c(e){var t=65536,r=n.getTypeOf(e),i=!0;if("uint8array"===r?i=u.applyCanBeUsed.uint8array:"nodebuffer"===r&&(i=u.applyCanBeUsed.nodebuffer),i)for(;1<t;)try{return u.stringifyByChunk(e,r,t)}catch(e){t=Math.floor(t/2)}return u.stringifyByChar(e)}function h(e,t){for(var n=0;n<e.length;n++)t[n]=e[n];return t}n.applyFromCharCode=c;var d={};d.string={string:a,array:function(e){return l(e,new Array(e.length))},arraybuffer:function(e){return d.string.uint8array(e).buffer},uint8array:function(e){return l(e,new Uint8Array(e.length))},nodebuffer:function(e){return l(e,o.allocBuffer(e.length))}},d.array={string:c,array:a,arraybuffer:function(e){return new Uint8Array(e).buffer},uint8array:function(e){return new Uint8Array(e)},nodebuffer:function(e){return o.newBufferFrom(e)}},d.arraybuffer={string:function(e){return c(new Uint8Array(e))},array:function(e){return h(new Uint8Array(e),new Array(e.byteLength))},arraybuffer:a,uint8array:function(e){return new Uint8Array(e)},nodebuffer:function(e){return o.newBufferFrom(new Uint8Array(e))}},d.uint8array={string:c,array:function(e){return h(e,new Array(e.length))},arraybuffer:function(e){return e.buffer},uint8array:a,nodebuffer:function(e){return o.newBufferFrom(e)}},d.nodebuffer={string:c,array:function(e){return h(e,new Array(e.length))},arraybuffer:function(e){return d.nodebuffer.uint8array(e).buffer},uint8array:function(e){return h(e,new Uint8Array(e.length))},nodebuffer:a},n.transformTo=function(e,t){if(t=t||"",!e)return t;n.checkSupport(e);var r=n.getTypeOf(t);return d[r][e](t)},n.resolve=function(e){for(var t=e.split("/"),n=[],r=0;r<t.length;r++){var i=t[r];"."===i||""===i&&0!==r&&r!==t.length-1||(".."===i?n.pop():n.push(i))}return n.join("/")},n.getTypeOf=function(e){return"string"==typeof e?"string":"[object Array]"===Object.prototype.toString.call(e)?"array":r.nodebuffer&&o.isBuffer(e)?"nodebuffer":r.uint8array&&e instanceof Uint8Array?"uint8array":r.arraybuffer&&e instanceof ArrayBuffer?"arraybuffer":void 0},n.checkSupport=function(e){if(!r[e.toLowerCase()])throw new Error(e+" is not supported by this platform")},n.MAX_VALUE_16BITS=65535,n.MAX_VALUE_32BITS=-1,n.pretty=function(e){var t,n,r="";for(n=0;n<(e||"").length;n++)r+="\\x"+((t=e.charCodeAt(n))<16?"0":"")+t.toString(16).toUpperCase();return r},n.delay=function(e,t,n){setImmediate((function(){e.apply(n||null,t||[])}))},n.inherits=function(e,t){function n(){}n.prototype=t.prototype,e.prototype=new n},n.extend=function(){var e,t,n={};for(e=0;e<arguments.length;e++)for(t in arguments[e])Object.prototype.hasOwnProperty.call(arguments[e],t)&&void 0===n[t]&&(n[t]=arguments[e][t]);return n},n.prepareContent=function(e,t,o,a,u){return s.Promise.resolve(t).then((function(e){return r.blob&&(e instanceof Blob||-1!==["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(e)))&&"undefined"!=typeof FileReader?new s.Promise((function(t,n){var r=new FileReader;r.onload=function(e){t(e.target.result)},r.onerror=function(e){n(e.target.error)},r.readAsArrayBuffer(e)})):e})).then((function(t){var c=n.getTypeOf(t);return c?("arraybuffer"===c?t=n.transformTo("uint8array",t):"string"===c&&(u?t=i.decode(t):o&&!0!==a&&(t=function(e){return l(e,r.uint8array?new Uint8Array(e.length):new Array(e.length))}(t))),t):s.Promise.reject(new Error("Can't read the data of '"+e+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))}))}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(e,t,n){"use strict";var r=e("./reader/readerFor"),i=e("./utils"),o=e("./signature"),s=e("./zipEntry"),a=e("./support");function l(e){this.files=[],this.loadOptions=e}l.prototype={checkSignature:function(e){if(!this.reader.readAndCheckSignature(e)){this.reader.index-=4;var t=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+i.pretty(t)+", expected "+i.pretty(e)+")")}},isSignature:function(e,t){var n=this.reader.index;this.reader.setIndex(e);var r=this.reader.readString(4)===t;return this.reader.setIndex(n),r},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var e=this.reader.readData(this.zipCommentLength),t=a.uint8array?"uint8array":"array",n=i.transformTo(t,e);this.zipComment=this.loadOptions.decodeFileName(n)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var e,t,n,r=this.zip64EndOfCentralSize-44;0<r;)e=this.reader.readInt(2),t=this.reader.readInt(4),n=this.reader.readData(t),this.zip64ExtensibleData[e]={id:e,length:t,value:n}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var e,t;for(e=0;e<this.files.length;e++)t=this.files[e],this.reader.setIndex(t.localHeaderOffset),this.checkSignature(o.LOCAL_FILE_HEADER),t.readLocalPart(this.reader),t.handleUTF8(),t.processAttributes()},readCentralDir:function(){var e;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(o.CENTRAL_FILE_HEADER);)(e=new s({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(e);if(this.centralDirRecords!==this.files.length&&0!==this.centralDirRecords&&0===this.files.length)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var e=this.reader.lastIndexOfSignature(o.CENTRAL_DIRECTORY_END);if(e<0)throw this.isSignature(0,o.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(e);var t=e;if(this.checkSignature(o.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===i.MAX_VALUE_16BITS||this.diskWithCentralDirStart===i.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===i.MAX_VALUE_16BITS||this.centralDirRecords===i.MAX_VALUE_16BITS||this.centralDirSize===i.MAX_VALUE_32BITS||this.centralDirOffset===i.MAX_VALUE_32BITS){if(this.zip64=!0,(e=this.reader.lastIndexOfSignature(o.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(e),this.checkSignature(o.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,o.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(o.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(o.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var n=this.centralDirOffset+this.centralDirSize;this.zip64&&(n+=20,n+=12+this.zip64EndOfCentralSize);var r=t-n;if(0<r)this.isSignature(t,o.CENTRAL_FILE_HEADER)||(this.reader.zero=r);else if(r<0)throw new Error("Corrupted zip: missing "+Math.abs(r)+" bytes.")},prepareReader:function(e){this.reader=r(e)},load:function(e){this.prepareReader(e),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},t.exports=l},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(e,t,n){"use strict";var r=e("./reader/readerFor"),i=e("./utils"),o=e("./compressedObject"),s=e("./crc32"),a=e("./utf8"),l=e("./compressions"),u=e("./support");function c(e,t){this.options=e,this.loadOptions=t}c.prototype={isEncrypted:function(){return 1==(1&this.bitFlag)},useUTF8:function(){return 2048==(2048&this.bitFlag)},readLocalPart:function(e){var t,n;if(e.skip(22),this.fileNameLength=e.readInt(2),n=e.readInt(2),this.fileName=e.readData(this.fileNameLength),e.skip(n),-1===this.compressedSize||-1===this.uncompressedSize)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if(null===(t=function(e){for(var t in l)if(Object.prototype.hasOwnProperty.call(l,t)&&l[t].magic===e)return l[t];return null}(this.compressionMethod)))throw new Error("Corrupted zip : compression "+i.pretty(this.compressionMethod)+" unknown (inner file : "+i.transformTo("string",this.fileName)+")");this.decompressed=new o(this.compressedSize,this.uncompressedSize,this.crc32,t,e.readData(this.compressedSize))},readCentralPart:function(e){this.versionMadeBy=e.readInt(2),e.skip(2),this.bitFlag=e.readInt(2),this.compressionMethod=e.readString(2),this.date=e.readDate(),this.crc32=e.readInt(4),this.compressedSize=e.readInt(4),this.uncompressedSize=e.readInt(4);var t=e.readInt(2);if(this.extraFieldsLength=e.readInt(2),this.fileCommentLength=e.readInt(2),this.diskNumberStart=e.readInt(2),this.internalFileAttributes=e.readInt(2),this.externalFileAttributes=e.readInt(4),this.localHeaderOffset=e.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");e.skip(t),this.readExtraFields(e),this.parseZIP64ExtraField(e),this.fileComment=e.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var e=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),0==e&&(this.dosPermissions=63&this.externalFileAttributes),3==e&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||"/"!==this.fileNameStr.slice(-1)||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var e=r(this.extraFields[1].value);this.uncompressedSize===i.MAX_VALUE_32BITS&&(this.uncompressedSize=e.readInt(8)),this.compressedSize===i.MAX_VALUE_32BITS&&(this.compressedSize=e.readInt(8)),this.localHeaderOffset===i.MAX_VALUE_32BITS&&(this.localHeaderOffset=e.readInt(8)),this.diskNumberStart===i.MAX_VALUE_32BITS&&(this.diskNumberStart=e.readInt(4))}},readExtraFields:function(e){var t,n,r,i=e.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});e.index+4<i;)t=e.readInt(2),n=e.readInt(2),r=e.readData(n),this.extraFields[t]={id:t,length:n,value:r};e.setIndex(i)},handleUTF8:function(){var e=u.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=a.utf8decode(this.fileName),this.fileCommentStr=a.utf8decode(this.fileComment);else{var t=this.findExtraFieldUnicodePath();if(null!==t)this.fileNameStr=t;else{var n=i.transformTo(e,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(n)}var r=this.findExtraFieldUnicodeComment();if(null!==r)this.fileCommentStr=r;else{var o=i.transformTo(e,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(o)}}},findExtraFieldUnicodePath:function(){var e=this.extraFields[28789];if(e){var t=r(e.value);return 1!==t.readInt(1)||s(this.fileName)!==t.readInt(4)?null:a.utf8decode(t.readData(e.length-5))}return null},findExtraFieldUnicodeComment:function(){var e=this.extraFields[25461];if(e){var t=r(e.value);return 1!==t.readInt(1)||s(this.fileComment)!==t.readInt(4)?null:a.utf8decode(t.readData(e.length-5))}return null}},t.exports=c},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(e,t,n){"use strict";function r(e,t,n){this.name=e,this.dir=n.dir,this.date=n.date,this.comment=n.comment,this.unixPermissions=n.unixPermissions,this.dosPermissions=n.dosPermissions,this._data=t,this._dataBinary=n.binary,this.options={compression:n.compression,compressionOptions:n.compressionOptions}}var i=e("./stream/StreamHelper"),o=e("./stream/DataWorker"),s=e("./utf8"),a=e("./compressedObject"),l=e("./stream/GenericWorker");r.prototype={internalStream:function(e){var t=null,n="string";try{if(!e)throw new Error("No output type specified.");var r="string"===(n=e.toLowerCase())||"text"===n;"binarystring"!==n&&"text"!==n||(n="string"),t=this._decompressWorker();var o=!this._dataBinary;o&&!r&&(t=t.pipe(new s.Utf8EncodeWorker)),!o&&r&&(t=t.pipe(new s.Utf8DecodeWorker))}catch(e){(t=new l("error")).error(e)}return new i(t,n,"")},async:function(e,t){return this.internalStream(e).accumulate(t)},nodeStream:function(e,t){return this.internalStream(e||"nodebuffer").toNodejsStream(t)},_compressWorker:function(e,t){if(this._data instanceof a&&this._data.compression.magic===e.magic)return this._data.getCompressedWorker();var n=this._decompressWorker();return this._dataBinary||(n=n.pipe(new s.Utf8EncodeWorker)),a.createWorkerFrom(n,e,t)},_decompressWorker:function(){return this._data instanceof a?this._data.getContentWorker():this._data instanceof l?this._data:new o(this._data)}};for(var u=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],c=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},h=0;h<u.length;h++)r.prototype[u[h]]=c;t.exports=r},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(e,t,r){(function(e){"use strict";var n,r,i=e.MutationObserver||e.WebKitMutationObserver;if(i){var o=0,s=new i(c),a=e.document.createTextNode("");s.observe(a,{characterData:!0}),n=function(){a.data=o=++o%2}}else if(e.setImmediate||void 0===e.MessageChannel)n="document"in e&&"onreadystatechange"in e.document.createElement("script")?function(){var t=e.document.createElement("script");t.onreadystatechange=function(){c(),t.onreadystatechange=null,t.parentNode.removeChild(t),t=null},e.document.documentElement.appendChild(t)}:function(){setTimeout(c,0)};else{var l=new e.MessageChannel;l.port1.onmessage=c,n=function(){l.port2.postMessage(0)}}var u=[];function c(){var e,t;r=!0;for(var n=u.length;n;){for(t=u,u=[],e=-1;++e<n;)t[e]();n=u.length}r=!1}t.exports=function(e){1!==u.push(e)||r||n()}}).call(this,"undefined"!=typeof n.g?n.g:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],37:[function(e,t,n){"use strict";var r=e("immediate");function i(){}var o={},s=["REJECTED"],a=["FULFILLED"],l=["PENDING"];function u(e){if("function"!=typeof e)throw new TypeError("resolver must be a function");this.state=l,this.queue=[],this.outcome=void 0,e!==i&&f(this,e)}function c(e,t,n){this.promise=e,"function"==typeof t&&(this.onFulfilled=t,this.callFulfilled=this.otherCallFulfilled),"function"==typeof n&&(this.onRejected=n,this.callRejected=this.otherCallRejected)}function h(e,t,n){r((function(){var r;try{r=t(n)}catch(r){return o.reject(e,r)}r===e?o.reject(e,new TypeError("Cannot resolve promise with itself")):o.resolve(e,r)}))}function d(e){var t=e&&e.then;if(e&&("object"==typeof e||"function"==typeof e)&&"function"==typeof t)return function(){t.apply(e,arguments)}}function f(e,t){var n=!1;function r(t){n||(n=!0,o.reject(e,t))}function i(t){n||(n=!0,o.resolve(e,t))}var s=p((function(){t(i,r)}));"error"===s.status&&r(s.value)}function p(e,t){var n={};try{n.value=e(t),n.status="success"}catch(e){n.status="error",n.value=e}return n}(t.exports=u).prototype.finally=function(e){if("function"!=typeof e)return this;var t=this.constructor;return this.then((function(n){return t.resolve(e()).then((function(){return n}))}),(function(n){return t.resolve(e()).then((function(){throw n}))}))},u.prototype.catch=function(e){return this.then(null,e)},u.prototype.then=function(e,t){if("function"!=typeof e&&this.state===a||"function"!=typeof t&&this.state===s)return this;var n=new this.constructor(i);return this.state!==l?h(n,this.state===a?e:t,this.outcome):this.queue.push(new c(n,e,t)),n},c.prototype.callFulfilled=function(e){o.resolve(this.promise,e)},c.prototype.otherCallFulfilled=function(e){h(this.promise,this.onFulfilled,e)},c.prototype.callRejected=function(e){o.reject(this.promise,e)},c.prototype.otherCallRejected=function(e){h(this.promise,this.onRejected,e)},o.resolve=function(e,t){var n=p(d,t);if("error"===n.status)return o.reject(e,n.value);var r=n.value;if(r)f(e,r);else{e.state=a,e.outcome=t;for(var i=-1,s=e.queue.length;++i<s;)e.queue[i].callFulfilled(t)}return e},o.reject=function(e,t){e.state=s,e.outcome=t;for(var n=-1,r=e.queue.length;++n<r;)e.queue[n].callRejected(t);return e},u.resolve=function(e){return e instanceof this?e:o.resolve(new this(i),e)},u.reject=function(e){var t=new this(i);return o.reject(t,e)},u.all=function(e){var t=this;if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(new TypeError("must be an array"));var n=e.length,r=!1;if(!n)return this.resolve([]);for(var s=new Array(n),a=0,l=-1,u=new this(i);++l<n;)c(e[l],l);return u;function c(e,i){t.resolve(e).then((function(e){s[i]=e,++a!==n||r||(r=!0,o.resolve(u,s))}),(function(e){r||(r=!0,o.reject(u,e))}))}},u.race=function(e){var t=this;if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(new TypeError("must be an array"));var n=e.length,r=!1;if(!n)return this.resolve([]);for(var s,a=-1,l=new this(i);++a<n;)s=e[a],t.resolve(s).then((function(e){r||(r=!0,o.resolve(l,e))}),(function(e){r||(r=!0,o.reject(l,e))}));return l}},{immediate:36}],38:[function(e,t,n){"use strict";var r={};(0,e("./lib/utils/common").assign)(r,e("./lib/deflate"),e("./lib/inflate"),e("./lib/zlib/constants")),t.exports=r},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(e,t,n){"use strict";var r=e("./zlib/deflate"),i=e("./utils/common"),o=e("./utils/strings"),s=e("./zlib/messages"),a=e("./zlib/zstream"),l=Object.prototype.toString,u=0,c=-1,h=0,d=8;function f(e){if(!(this instanceof f))return new f(e);this.options=i.assign({level:c,method:d,chunkSize:16384,windowBits:15,memLevel:8,strategy:h,to:""},e||{});var t=this.options;t.raw&&0<t.windowBits?t.windowBits=-t.windowBits:t.gzip&&0<t.windowBits&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new a,this.strm.avail_out=0;var n=r.deflateInit2(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(n!==u)throw new Error(s[n]);if(t.header&&r.deflateSetHeader(this.strm,t.header),t.dictionary){var p;if(p="string"==typeof t.dictionary?o.string2buf(t.dictionary):"[object ArrayBuffer]"===l.call(t.dictionary)?new Uint8Array(t.dictionary):t.dictionary,(n=r.deflateSetDictionary(this.strm,p))!==u)throw new Error(s[n]);this._dict_set=!0}}function p(e,t){var n=new f(t);if(n.push(e,!0),n.err)throw n.msg||s[n.err];return n.result}f.prototype.push=function(e,t){var n,s,a=this.strm,c=this.options.chunkSize;if(this.ended)return!1;s=t===~~t?t:!0===t?4:0,"string"==typeof e?a.input=o.string2buf(e):"[object ArrayBuffer]"===l.call(e)?a.input=new Uint8Array(e):a.input=e,a.next_in=0,a.avail_in=a.input.length;do{if(0===a.avail_out&&(a.output=new i.Buf8(c),a.next_out=0,a.avail_out=c),1!==(n=r.deflate(a,s))&&n!==u)return this.onEnd(n),!(this.ended=!0);0!==a.avail_out&&(0!==a.avail_in||4!==s&&2!==s)||("string"===this.options.to?this.onData(o.buf2binstring(i.shrinkBuf(a.output,a.next_out))):this.onData(i.shrinkBuf(a.output,a.next_out)))}while((0<a.avail_in||0===a.avail_out)&&1!==n);return 4===s?(n=r.deflateEnd(this.strm),this.onEnd(n),this.ended=!0,n===u):2!==s||(this.onEnd(u),!(a.avail_out=0))},f.prototype.onData=function(e){this.chunks.push(e)},f.prototype.onEnd=function(e){e===u&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=i.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},n.Deflate=f,n.deflate=p,n.deflateRaw=function(e,t){return(t=t||{}).raw=!0,p(e,t)},n.gzip=function(e,t){return(t=t||{}).gzip=!0,p(e,t)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(e,t,n){"use strict";var r=e("./zlib/inflate"),i=e("./utils/common"),o=e("./utils/strings"),s=e("./zlib/constants"),a=e("./zlib/messages"),l=e("./zlib/zstream"),u=e("./zlib/gzheader"),c=Object.prototype.toString;function h(e){if(!(this instanceof h))return new h(e);this.options=i.assign({chunkSize:16384,windowBits:0,to:""},e||{});var t=this.options;t.raw&&0<=t.windowBits&&t.windowBits<16&&(t.windowBits=-t.windowBits,0===t.windowBits&&(t.windowBits=-15)),!(0<=t.windowBits&&t.windowBits<16)||e&&e.windowBits||(t.windowBits+=32),15<t.windowBits&&t.windowBits<48&&0==(15&t.windowBits)&&(t.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new l,this.strm.avail_out=0;var n=r.inflateInit2(this.strm,t.windowBits);if(n!==s.Z_OK)throw new Error(a[n]);this.header=new u,r.inflateGetHeader(this.strm,this.header)}function d(e,t){var n=new h(t);if(n.push(e,!0),n.err)throw n.msg||a[n.err];return n.result}h.prototype.push=function(e,t){var n,a,l,u,h,d,f=this.strm,p=this.options.chunkSize,m=this.options.dictionary,g=!1;if(this.ended)return!1;a=t===~~t?t:!0===t?s.Z_FINISH:s.Z_NO_FLUSH,"string"==typeof e?f.input=o.binstring2buf(e):"[object ArrayBuffer]"===c.call(e)?f.input=new Uint8Array(e):f.input=e,f.next_in=0,f.avail_in=f.input.length;do{if(0===f.avail_out&&(f.output=new i.Buf8(p),f.next_out=0,f.avail_out=p),(n=r.inflate(f,s.Z_NO_FLUSH))===s.Z_NEED_DICT&&m&&(d="string"==typeof m?o.string2buf(m):"[object ArrayBuffer]"===c.call(m)?new Uint8Array(m):m,n=r.inflateSetDictionary(this.strm,d)),n===s.Z_BUF_ERROR&&!0===g&&(n=s.Z_OK,g=!1),n!==s.Z_STREAM_END&&n!==s.Z_OK)return this.onEnd(n),!(this.ended=!0);f.next_out&&(0!==f.avail_out&&n!==s.Z_STREAM_END&&(0!==f.avail_in||a!==s.Z_FINISH&&a!==s.Z_SYNC_FLUSH)||("string"===this.options.to?(l=o.utf8border(f.output,f.next_out),u=f.next_out-l,h=o.buf2string(f.output,l),f.next_out=u,f.avail_out=p-u,u&&i.arraySet(f.output,f.output,l,u,0),this.onData(h)):this.onData(i.shrinkBuf(f.output,f.next_out)))),0===f.avail_in&&0===f.avail_out&&(g=!0)}while((0<f.avail_in||0===f.avail_out)&&n!==s.Z_STREAM_END);return n===s.Z_STREAM_END&&(a=s.Z_FINISH),a===s.Z_FINISH?(n=r.inflateEnd(this.strm),this.onEnd(n),this.ended=!0,n===s.Z_OK):a!==s.Z_SYNC_FLUSH||(this.onEnd(s.Z_OK),!(f.avail_out=0))},h.prototype.onData=function(e){this.chunks.push(e)},h.prototype.onEnd=function(e){e===s.Z_OK&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=i.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},n.Inflate=h,n.inflate=d,n.inflateRaw=function(e,t){return(t=t||{}).raw=!0,d(e,t)},n.ungzip=d},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(e,t,n){"use strict";var r="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;n.assign=function(e){for(var t=Array.prototype.slice.call(arguments,1);t.length;){var n=t.shift();if(n){if("object"!=typeof n)throw new TypeError(n+"must be non-object");for(var r in n)n.hasOwnProperty(r)&&(e[r]=n[r])}}return e},n.shrinkBuf=function(e,t){return e.length===t?e:e.subarray?e.subarray(0,t):(e.length=t,e)};var i={arraySet:function(e,t,n,r,i){if(t.subarray&&e.subarray)e.set(t.subarray(n,n+r),i);else for(var o=0;o<r;o++)e[i+o]=t[n+o]},flattenChunks:function(e){var t,n,r,i,o,s;for(t=r=0,n=e.length;t<n;t++)r+=e[t].length;for(s=new Uint8Array(r),t=i=0,n=e.length;t<n;t++)o=e[t],s.set(o,i),i+=o.length;return s}},o={arraySet:function(e,t,n,r,i){for(var o=0;o<r;o++)e[i+o]=t[n+o]},flattenChunks:function(e){return[].concat.apply([],e)}};n.setTyped=function(e){e?(n.Buf8=Uint8Array,n.Buf16=Uint16Array,n.Buf32=Int32Array,n.assign(n,i)):(n.Buf8=Array,n.Buf16=Array,n.Buf32=Array,n.assign(n,o))},n.setTyped(r)},{}],42:[function(e,t,n){"use strict";var r=e("./common"),i=!0,o=!0;try{String.fromCharCode.apply(null,[0])}catch(e){i=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(e){o=!1}for(var s=new r.Buf8(256),a=0;a<256;a++)s[a]=252<=a?6:248<=a?5:240<=a?4:224<=a?3:192<=a?2:1;function l(e,t){if(t<65537&&(e.subarray&&o||!e.subarray&&i))return String.fromCharCode.apply(null,r.shrinkBuf(e,t));for(var n="",s=0;s<t;s++)n+=String.fromCharCode(e[s]);return n}s[254]=s[254]=1,n.string2buf=function(e){var t,n,i,o,s,a=e.length,l=0;for(o=0;o<a;o++)55296==(64512&(n=e.charCodeAt(o)))&&o+1<a&&56320==(64512&(i=e.charCodeAt(o+1)))&&(n=65536+(n-55296<<10)+(i-56320),o++),l+=n<128?1:n<2048?2:n<65536?3:4;for(t=new r.Buf8(l),o=s=0;s<l;o++)55296==(64512&(n=e.charCodeAt(o)))&&o+1<a&&56320==(64512&(i=e.charCodeAt(o+1)))&&(n=65536+(n-55296<<10)+(i-56320),o++),n<128?t[s++]=n:(n<2048?t[s++]=192|n>>>6:(n<65536?t[s++]=224|n>>>12:(t[s++]=240|n>>>18,t[s++]=128|n>>>12&63),t[s++]=128|n>>>6&63),t[s++]=128|63&n);return t},n.buf2binstring=function(e){return l(e,e.length)},n.binstring2buf=function(e){for(var t=new r.Buf8(e.length),n=0,i=t.length;n<i;n++)t[n]=e.charCodeAt(n);return t},n.buf2string=function(e,t){var n,r,i,o,a=t||e.length,u=new Array(2*a);for(n=r=0;n<a;)if((i=e[n++])<128)u[r++]=i;else if(4<(o=s[i]))u[r++]=65533,n+=o-1;else{for(i&=2===o?31:3===o?15:7;1<o&&n<a;)i=i<<6|63&e[n++],o--;1<o?u[r++]=65533:i<65536?u[r++]=i:(i-=65536,u[r++]=55296|i>>10&1023,u[r++]=56320|1023&i)}return l(u,r)},n.utf8border=function(e,t){var n;for((t=t||e.length)>e.length&&(t=e.length),n=t-1;0<=n&&128==(192&e[n]);)n--;return n<0||0===n?t:n+s[e[n]]>t?n:t}},{"./common":41}],43:[function(e,t,n){"use strict";t.exports=function(e,t,n,r){for(var i=65535&e|0,o=e>>>16&65535|0,s=0;0!==n;){for(n-=s=2e3<n?2e3:n;o=o+(i=i+t[r++]|0)|0,--s;);i%=65521,o%=65521}return i|o<<16|0}},{}],44:[function(e,t,n){"use strict";t.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(e,t,n){"use strict";var r=function(){for(var e,t=[],n=0;n<256;n++){e=n;for(var r=0;r<8;r++)e=1&e?3988292384^e>>>1:e>>>1;t[n]=e}return t}();t.exports=function(e,t,n,i){var o=r,s=i+n;e^=-1;for(var a=i;a<s;a++)e=e>>>8^o[255&(e^t[a])];return-1^e}},{}],46:[function(e,t,n){"use strict";var r,i=e("../utils/common"),o=e("./trees"),s=e("./adler32"),a=e("./crc32"),l=e("./messages"),u=0,c=4,h=0,d=-2,f=-1,p=4,m=2,g=8,v=9,y=286,b=30,w=19,_=2*y+1,S=15,k=3,I=258,x=I+k+1,E=42,T=113,C=1,A=2,R=3,O=4;function N(e,t){return e.msg=l[t],t}function P(e){return(e<<1)-(4<e?9:0)}function D(e){for(var t=e.length;0<=--t;)e[t]=0}function L(e){var t=e.state,n=t.pending;n>e.avail_out&&(n=e.avail_out),0!==n&&(i.arraySet(e.output,t.pending_buf,t.pending_out,n,e.next_out),e.next_out+=n,t.pending_out+=n,e.total_out+=n,e.avail_out-=n,t.pending-=n,0===t.pending&&(t.pending_out=0))}function F(e,t){o._tr_flush_block(e,0<=e.block_start?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,L(e.strm)}function M(e,t){e.pending_buf[e.pending++]=t}function q(e,t){e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=255&t}function U(e,t){var n,r,i=e.max_chain_length,o=e.strstart,s=e.prev_length,a=e.nice_match,l=e.strstart>e.w_size-x?e.strstart-(e.w_size-x):0,u=e.window,c=e.w_mask,h=e.prev,d=e.strstart+I,f=u[o+s-1],p=u[o+s];e.prev_length>=e.good_match&&(i>>=2),a>e.lookahead&&(a=e.lookahead);do{if(u[(n=t)+s]===p&&u[n+s-1]===f&&u[n]===u[o]&&u[++n]===u[o+1]){o+=2,n++;do{}while(u[++o]===u[++n]&&u[++o]===u[++n]&&u[++o]===u[++n]&&u[++o]===u[++n]&&u[++o]===u[++n]&&u[++o]===u[++n]&&u[++o]===u[++n]&&u[++o]===u[++n]&&o<d);if(r=I-(d-o),o=d-I,s<r){if(e.match_start=t,a<=(s=r))break;f=u[o+s-1],p=u[o+s]}}}while((t=h[t&c])>l&&0!=--i);return s<=e.lookahead?s:e.lookahead}function B(e){var t,n,r,o,l,u,c,h,d,f,p=e.w_size;do{if(o=e.window_size-e.lookahead-e.strstart,e.strstart>=p+(p-x)){for(i.arraySet(e.window,e.window,p,p,0),e.match_start-=p,e.strstart-=p,e.block_start-=p,t=n=e.hash_size;r=e.head[--t],e.head[t]=p<=r?r-p:0,--n;);for(t=n=p;r=e.prev[--t],e.prev[t]=p<=r?r-p:0,--n;);o+=p}if(0===e.strm.avail_in)break;if(u=e.strm,c=e.window,h=e.strstart+e.lookahead,d=o,f=void 0,f=u.avail_in,d<f&&(f=d),n=0===f?0:(u.avail_in-=f,i.arraySet(c,u.input,u.next_in,f,h),1===u.state.wrap?u.adler=s(u.adler,c,f,h):2===u.state.wrap&&(u.adler=a(u.adler,c,f,h)),u.next_in+=f,u.total_in+=f,f),e.lookahead+=n,e.lookahead+e.insert>=k)for(l=e.strstart-e.insert,e.ins_h=e.window[l],e.ins_h=(e.ins_h<<e.hash_shift^e.window[l+1])&e.hash_mask;e.insert&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[l+k-1])&e.hash_mask,e.prev[l&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=l,l++,e.insert--,!(e.lookahead+e.insert<k)););}while(e.lookahead<x&&0!==e.strm.avail_in)}function V(e,t){for(var n,r;;){if(e.lookahead<x){if(B(e),e.lookahead<x&&t===u)return C;if(0===e.lookahead)break}if(n=0,e.lookahead>=k&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+k-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!==n&&e.strstart-n<=e.w_size-x&&(e.match_length=U(e,n)),e.match_length>=k)if(r=o._tr_tally(e,e.strstart-e.match_start,e.match_length-k),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=k){for(e.match_length--;e.strstart++,e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+k-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart,0!=--e.match_length;);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+1])&e.hash_mask;else r=o._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(r&&(F(e,!1),0===e.strm.avail_out))return C}return e.insert=e.strstart<k-1?e.strstart:k-1,t===c?(F(e,!0),0===e.strm.avail_out?R:O):e.last_lit&&(F(e,!1),0===e.strm.avail_out)?C:A}function j(e,t){for(var n,r,i;;){if(e.lookahead<x){if(B(e),e.lookahead<x&&t===u)return C;if(0===e.lookahead)break}if(n=0,e.lookahead>=k&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+k-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=k-1,0!==n&&e.prev_length<e.max_lazy_match&&e.strstart-n<=e.w_size-x&&(e.match_length=U(e,n),e.match_length<=5&&(1===e.strategy||e.match_length===k&&4096<e.strstart-e.match_start)&&(e.match_length=k-1)),e.prev_length>=k&&e.match_length<=e.prev_length){for(i=e.strstart+e.lookahead-k,r=o._tr_tally(e,e.strstart-1-e.prev_match,e.prev_length-k),e.lookahead-=e.prev_length-1,e.prev_length-=2;++e.strstart<=i&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+k-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!=--e.prev_length;);if(e.match_available=0,e.match_length=k-1,e.strstart++,r&&(F(e,!1),0===e.strm.avail_out))return C}else if(e.match_available){if((r=o._tr_tally(e,0,e.window[e.strstart-1]))&&F(e,!1),e.strstart++,e.lookahead--,0===e.strm.avail_out)return C}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(r=o._tr_tally(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<k-1?e.strstart:k-1,t===c?(F(e,!0),0===e.strm.avail_out?R:O):e.last_lit&&(F(e,!1),0===e.strm.avail_out)?C:A}function z(e,t,n,r,i){this.good_length=e,this.max_lazy=t,this.nice_length=n,this.max_chain=r,this.func=i}function $(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=g,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new i.Buf16(2*_),this.dyn_dtree=new i.Buf16(2*(2*b+1)),this.bl_tree=new i.Buf16(2*(2*w+1)),D(this.dyn_ltree),D(this.dyn_dtree),D(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new i.Buf16(S+1),this.heap=new i.Buf16(2*y+1),D(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new i.Buf16(2*y+1),D(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function H(e){var t;return e&&e.state?(e.total_in=e.total_out=0,e.data_type=m,(t=e.state).pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap?E:T,e.adler=2===t.wrap?0:1,t.last_flush=u,o._tr_init(t),h):N(e,d)}function K(e){var t=H(e);return t===h&&function(e){e.window_size=2*e.w_size,D(e.head),e.max_lazy_match=r[e.level].max_lazy,e.good_match=r[e.level].good_length,e.nice_match=r[e.level].nice_length,e.max_chain_length=r[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=k-1,e.match_available=0,e.ins_h=0}(e.state),t}function W(e,t,n,r,o,s){if(!e)return d;var a=1;if(t===f&&(t=6),r<0?(a=0,r=-r):15<r&&(a=2,r-=16),o<1||v<o||n!==g||r<8||15<r||t<0||9<t||s<0||p<s)return N(e,d);8===r&&(r=9);var l=new $;return(e.state=l).strm=e,l.wrap=a,l.gzhead=null,l.w_bits=r,l.w_size=1<<l.w_bits,l.w_mask=l.w_size-1,l.hash_bits=o+7,l.hash_size=1<<l.hash_bits,l.hash_mask=l.hash_size-1,l.hash_shift=~~((l.hash_bits+k-1)/k),l.window=new i.Buf8(2*l.w_size),l.head=new i.Buf16(l.hash_size),l.prev=new i.Buf16(l.w_size),l.lit_bufsize=1<<o+6,l.pending_buf_size=4*l.lit_bufsize,l.pending_buf=new i.Buf8(l.pending_buf_size),l.d_buf=1*l.lit_bufsize,l.l_buf=3*l.lit_bufsize,l.level=t,l.strategy=s,l.method=n,K(e)}r=[new z(0,0,0,0,(function(e,t){var n=65535;for(n>e.pending_buf_size-5&&(n=e.pending_buf_size-5);;){if(e.lookahead<=1){if(B(e),0===e.lookahead&&t===u)return C;if(0===e.lookahead)break}e.strstart+=e.lookahead,e.lookahead=0;var r=e.block_start+n;if((0===e.strstart||e.strstart>=r)&&(e.lookahead=e.strstart-r,e.strstart=r,F(e,!1),0===e.strm.avail_out))return C;if(e.strstart-e.block_start>=e.w_size-x&&(F(e,!1),0===e.strm.avail_out))return C}return e.insert=0,t===c?(F(e,!0),0===e.strm.avail_out?R:O):(e.strstart>e.block_start&&(F(e,!1),e.strm.avail_out),C)})),new z(4,4,8,4,V),new z(4,5,16,8,V),new z(4,6,32,32,V),new z(4,4,16,16,j),new z(8,16,32,32,j),new z(8,16,128,128,j),new z(8,32,128,256,j),new z(32,128,258,1024,j),new z(32,258,258,4096,j)],n.deflateInit=function(e,t){return W(e,t,g,15,8,0)},n.deflateInit2=W,n.deflateReset=K,n.deflateResetKeep=H,n.deflateSetHeader=function(e,t){return e&&e.state?2!==e.state.wrap?d:(e.state.gzhead=t,h):d},n.deflate=function(e,t){var n,i,s,l;if(!e||!e.state||5<t||t<0)return e?N(e,d):d;if(i=e.state,!e.output||!e.input&&0!==e.avail_in||666===i.status&&t!==c)return N(e,0===e.avail_out?-5:d);if(i.strm=e,n=i.last_flush,i.last_flush=t,i.status===E)if(2===i.wrap)e.adler=0,M(i,31),M(i,139),M(i,8),i.gzhead?(M(i,(i.gzhead.text?1:0)+(i.gzhead.hcrc?2:0)+(i.gzhead.extra?4:0)+(i.gzhead.name?8:0)+(i.gzhead.comment?16:0)),M(i,255&i.gzhead.time),M(i,i.gzhead.time>>8&255),M(i,i.gzhead.time>>16&255),M(i,i.gzhead.time>>24&255),M(i,9===i.level?2:2<=i.strategy||i.level<2?4:0),M(i,255&i.gzhead.os),i.gzhead.extra&&i.gzhead.extra.length&&(M(i,255&i.gzhead.extra.length),M(i,i.gzhead.extra.length>>8&255)),i.gzhead.hcrc&&(e.adler=a(e.adler,i.pending_buf,i.pending,0)),i.gzindex=0,i.status=69):(M(i,0),M(i,0),M(i,0),M(i,0),M(i,0),M(i,9===i.level?2:2<=i.strategy||i.level<2?4:0),M(i,3),i.status=T);else{var f=g+(i.w_bits-8<<4)<<8;f|=(2<=i.strategy||i.level<2?0:i.level<6?1:6===i.level?2:3)<<6,0!==i.strstart&&(f|=32),f+=31-f%31,i.status=T,q(i,f),0!==i.strstart&&(q(i,e.adler>>>16),q(i,65535&e.adler)),e.adler=1}if(69===i.status)if(i.gzhead.extra){for(s=i.pending;i.gzindex<(65535&i.gzhead.extra.length)&&(i.pending!==i.pending_buf_size||(i.gzhead.hcrc&&i.pending>s&&(e.adler=a(e.adler,i.pending_buf,i.pending-s,s)),L(e),s=i.pending,i.pending!==i.pending_buf_size));)M(i,255&i.gzhead.extra[i.gzindex]),i.gzindex++;i.gzhead.hcrc&&i.pending>s&&(e.adler=a(e.adler,i.pending_buf,i.pending-s,s)),i.gzindex===i.gzhead.extra.length&&(i.gzindex=0,i.status=73)}else i.status=73;if(73===i.status)if(i.gzhead.name){s=i.pending;do{if(i.pending===i.pending_buf_size&&(i.gzhead.hcrc&&i.pending>s&&(e.adler=a(e.adler,i.pending_buf,i.pending-s,s)),L(e),s=i.pending,i.pending===i.pending_buf_size)){l=1;break}l=i.gzindex<i.gzhead.name.length?255&i.gzhead.name.charCodeAt(i.gzindex++):0,M(i,l)}while(0!==l);i.gzhead.hcrc&&i.pending>s&&(e.adler=a(e.adler,i.pending_buf,i.pending-s,s)),0===l&&(i.gzindex=0,i.status=91)}else i.status=91;if(91===i.status)if(i.gzhead.comment){s=i.pending;do{if(i.pending===i.pending_buf_size&&(i.gzhead.hcrc&&i.pending>s&&(e.adler=a(e.adler,i.pending_buf,i.pending-s,s)),L(e),s=i.pending,i.pending===i.pending_buf_size)){l=1;break}l=i.gzindex<i.gzhead.comment.length?255&i.gzhead.comment.charCodeAt(i.gzindex++):0,M(i,l)}while(0!==l);i.gzhead.hcrc&&i.pending>s&&(e.adler=a(e.adler,i.pending_buf,i.pending-s,s)),0===l&&(i.status=103)}else i.status=103;if(103===i.status&&(i.gzhead.hcrc?(i.pending+2>i.pending_buf_size&&L(e),i.pending+2<=i.pending_buf_size&&(M(i,255&e.adler),M(i,e.adler>>8&255),e.adler=0,i.status=T)):i.status=T),0!==i.pending){if(L(e),0===e.avail_out)return i.last_flush=-1,h}else if(0===e.avail_in&&P(t)<=P(n)&&t!==c)return N(e,-5);if(666===i.status&&0!==e.avail_in)return N(e,-5);if(0!==e.avail_in||0!==i.lookahead||t!==u&&666!==i.status){var p=2===i.strategy?function(e,t){for(var n;;){if(0===e.lookahead&&(B(e),0===e.lookahead)){if(t===u)return C;break}if(e.match_length=0,n=o._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,n&&(F(e,!1),0===e.strm.avail_out))return C}return e.insert=0,t===c?(F(e,!0),0===e.strm.avail_out?R:O):e.last_lit&&(F(e,!1),0===e.strm.avail_out)?C:A}(i,t):3===i.strategy?function(e,t){for(var n,r,i,s,a=e.window;;){if(e.lookahead<=I){if(B(e),e.lookahead<=I&&t===u)return C;if(0===e.lookahead)break}if(e.match_length=0,e.lookahead>=k&&0<e.strstart&&(r=a[i=e.strstart-1])===a[++i]&&r===a[++i]&&r===a[++i]){s=e.strstart+I;do{}while(r===a[++i]&&r===a[++i]&&r===a[++i]&&r===a[++i]&&r===a[++i]&&r===a[++i]&&r===a[++i]&&r===a[++i]&&i<s);e.match_length=I-(s-i),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=k?(n=o._tr_tally(e,1,e.match_length-k),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(n=o._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),n&&(F(e,!1),0===e.strm.avail_out))return C}return e.insert=0,t===c?(F(e,!0),0===e.strm.avail_out?R:O):e.last_lit&&(F(e,!1),0===e.strm.avail_out)?C:A}(i,t):r[i.level].func(i,t);if(p!==R&&p!==O||(i.status=666),p===C||p===R)return 0===e.avail_out&&(i.last_flush=-1),h;if(p===A&&(1===t?o._tr_align(i):5!==t&&(o._tr_stored_block(i,0,0,!1),3===t&&(D(i.head),0===i.lookahead&&(i.strstart=0,i.block_start=0,i.insert=0))),L(e),0===e.avail_out))return i.last_flush=-1,h}return t!==c?h:i.wrap<=0?1:(2===i.wrap?(M(i,255&e.adler),M(i,e.adler>>8&255),M(i,e.adler>>16&255),M(i,e.adler>>24&255),M(i,255&e.total_in),M(i,e.total_in>>8&255),M(i,e.total_in>>16&255),M(i,e.total_in>>24&255)):(q(i,e.adler>>>16),q(i,65535&e.adler)),L(e),0<i.wrap&&(i.wrap=-i.wrap),0!==i.pending?h:1)},n.deflateEnd=function(e){var t;return e&&e.state?(t=e.state.status)!==E&&69!==t&&73!==t&&91!==t&&103!==t&&t!==T&&666!==t?N(e,d):(e.state=null,t===T?N(e,-3):h):d},n.deflateSetDictionary=function(e,t){var n,r,o,a,l,u,c,f,p=t.length;if(!e||!e.state)return d;if(2===(a=(n=e.state).wrap)||1===a&&n.status!==E||n.lookahead)return d;for(1===a&&(e.adler=s(e.adler,t,p,0)),n.wrap=0,p>=n.w_size&&(0===a&&(D(n.head),n.strstart=0,n.block_start=0,n.insert=0),f=new i.Buf8(n.w_size),i.arraySet(f,t,p-n.w_size,n.w_size,0),t=f,p=n.w_size),l=e.avail_in,u=e.next_in,c=e.input,e.avail_in=p,e.next_in=0,e.input=t,B(n);n.lookahead>=k;){for(r=n.strstart,o=n.lookahead-(k-1);n.ins_h=(n.ins_h<<n.hash_shift^n.window[r+k-1])&n.hash_mask,n.prev[r&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=r,r++,--o;);n.strstart=r,n.lookahead=k-1,B(n)}return n.strstart+=n.lookahead,n.block_start=n.strstart,n.insert=n.lookahead,n.lookahead=0,n.match_length=n.prev_length=k-1,n.match_available=0,e.next_in=u,e.input=c,e.avail_in=l,n.wrap=a,h},n.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(e,t,n){"use strict";t.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(e,t,n){"use strict";t.exports=function(e,t){var n,r,i,o,s,a,l,u,c,h,d,f,p,m,g,v,y,b,w,_,S,k,I,x,E;n=e.state,r=e.next_in,x=e.input,i=r+(e.avail_in-5),o=e.next_out,E=e.output,s=o-(t-e.avail_out),a=o+(e.avail_out-257),l=n.dmax,u=n.wsize,c=n.whave,h=n.wnext,d=n.window,f=n.hold,p=n.bits,m=n.lencode,g=n.distcode,v=(1<<n.lenbits)-1,y=(1<<n.distbits)-1;e:do{p<15&&(f+=x[r++]<<p,p+=8,f+=x[r++]<<p,p+=8),b=m[f&v];t:for(;;){if(f>>>=w=b>>>24,p-=w,0===(w=b>>>16&255))E[o++]=65535&b;else{if(!(16&w)){if(0==(64&w)){b=m[(65535&b)+(f&(1<<w)-1)];continue t}if(32&w){n.mode=12;break e}e.msg="invalid literal/length code",n.mode=30;break e}_=65535&b,(w&=15)&&(p<w&&(f+=x[r++]<<p,p+=8),_+=f&(1<<w)-1,f>>>=w,p-=w),p<15&&(f+=x[r++]<<p,p+=8,f+=x[r++]<<p,p+=8),b=g[f&y];n:for(;;){if(f>>>=w=b>>>24,p-=w,!(16&(w=b>>>16&255))){if(0==(64&w)){b=g[(65535&b)+(f&(1<<w)-1)];continue n}e.msg="invalid distance code",n.mode=30;break e}if(S=65535&b,p<(w&=15)&&(f+=x[r++]<<p,(p+=8)<w&&(f+=x[r++]<<p,p+=8)),l<(S+=f&(1<<w)-1)){e.msg="invalid distance too far back",n.mode=30;break e}if(f>>>=w,p-=w,(w=o-s)<S){if(c<(w=S-w)&&n.sane){e.msg="invalid distance too far back",n.mode=30;break e}if(I=d,(k=0)===h){if(k+=u-w,w<_){for(_-=w;E[o++]=d[k++],--w;);k=o-S,I=E}}else if(h<w){if(k+=u+h-w,(w-=h)<_){for(_-=w;E[o++]=d[k++],--w;);if(k=0,h<_){for(_-=w=h;E[o++]=d[k++],--w;);k=o-S,I=E}}}else if(k+=h-w,w<_){for(_-=w;E[o++]=d[k++],--w;);k=o-S,I=E}for(;2<_;)E[o++]=I[k++],E[o++]=I[k++],E[o++]=I[k++],_-=3;_&&(E[o++]=I[k++],1<_&&(E[o++]=I[k++]))}else{for(k=o-S;E[o++]=E[k++],E[o++]=E[k++],E[o++]=E[k++],2<(_-=3););_&&(E[o++]=E[k++],1<_&&(E[o++]=E[k++]))}break}}break}}while(r<i&&o<a);r-=_=p>>3,f&=(1<<(p-=_<<3))-1,e.next_in=r,e.next_out=o,e.avail_in=r<i?i-r+5:5-(r-i),e.avail_out=o<a?a-o+257:257-(o-a),n.hold=f,n.bits=p}},{}],49:[function(e,t,n){"use strict";var r=e("../utils/common"),i=e("./adler32"),o=e("./crc32"),s=e("./inffast"),a=e("./inftrees"),l=1,u=2,c=0,h=-2,d=1,f=852,p=592;function m(e){return(e>>>24&255)+(e>>>8&65280)+((65280&e)<<8)+((255&e)<<24)}function g(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new r.Buf16(320),this.work=new r.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function v(e){var t;return e&&e.state?(t=e.state,e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=1&t.wrap),t.mode=d,t.last=0,t.havedict=0,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new r.Buf32(f),t.distcode=t.distdyn=new r.Buf32(p),t.sane=1,t.back=-1,c):h}function y(e){var t;return e&&e.state?((t=e.state).wsize=0,t.whave=0,t.wnext=0,v(e)):h}function b(e,t){var n,r;return e&&e.state?(r=e.state,t<0?(n=0,t=-t):(n=1+(t>>4),t<48&&(t&=15)),t&&(t<8||15<t)?h:(null!==r.window&&r.wbits!==t&&(r.window=null),r.wrap=n,r.wbits=t,y(e))):h}function w(e,t){var n,r;return e?(r=new g,(e.state=r).window=null,(n=b(e,t))!==c&&(e.state=null),n):h}var _,S,k=!0;function I(e){if(k){var t;for(_=new r.Buf32(512),S=new r.Buf32(32),t=0;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(a(l,e.lens,0,288,_,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;a(u,e.lens,0,32,S,0,e.work,{bits:5}),k=!1}e.lencode=_,e.lenbits=9,e.distcode=S,e.distbits=5}function x(e,t,n,i){var o,s=e.state;return null===s.window&&(s.wsize=1<<s.wbits,s.wnext=0,s.whave=0,s.window=new r.Buf8(s.wsize)),i>=s.wsize?(r.arraySet(s.window,t,n-s.wsize,s.wsize,0),s.wnext=0,s.whave=s.wsize):(i<(o=s.wsize-s.wnext)&&(o=i),r.arraySet(s.window,t,n-i,o,s.wnext),(i-=o)?(r.arraySet(s.window,t,n-i,i,0),s.wnext=i,s.whave=s.wsize):(s.wnext+=o,s.wnext===s.wsize&&(s.wnext=0),s.whave<s.wsize&&(s.whave+=o))),0}n.inflateReset=y,n.inflateReset2=b,n.inflateResetKeep=v,n.inflateInit=function(e){return w(e,15)},n.inflateInit2=w,n.inflate=function(e,t){var n,f,p,g,v,y,b,w,_,S,k,E,T,C,A,R,O,N,P,D,L,F,M,q,U=0,B=new r.Buf8(4),V=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!e||!e.state||!e.output||!e.input&&0!==e.avail_in)return h;12===(n=e.state).mode&&(n.mode=13),v=e.next_out,p=e.output,b=e.avail_out,g=e.next_in,f=e.input,y=e.avail_in,w=n.hold,_=n.bits,S=y,k=b,F=c;e:for(;;)switch(n.mode){case d:if(0===n.wrap){n.mode=13;break}for(;_<16;){if(0===y)break e;y--,w+=f[g++]<<_,_+=8}if(2&n.wrap&&35615===w){B[n.check=0]=255&w,B[1]=w>>>8&255,n.check=o(n.check,B,2,0),_=w=0,n.mode=2;break}if(n.flags=0,n.head&&(n.head.done=!1),!(1&n.wrap)||(((255&w)<<8)+(w>>8))%31){e.msg="incorrect header check",n.mode=30;break}if(8!=(15&w)){e.msg="unknown compression method",n.mode=30;break}if(_-=4,L=8+(15&(w>>>=4)),0===n.wbits)n.wbits=L;else if(L>n.wbits){e.msg="invalid window size",n.mode=30;break}n.dmax=1<<L,e.adler=n.check=1,n.mode=512&w?10:12,_=w=0;break;case 2:for(;_<16;){if(0===y)break e;y--,w+=f[g++]<<_,_+=8}if(n.flags=w,8!=(255&n.flags)){e.msg="unknown compression method",n.mode=30;break}if(57344&n.flags){e.msg="unknown header flags set",n.mode=30;break}n.head&&(n.head.text=w>>8&1),512&n.flags&&(B[0]=255&w,B[1]=w>>>8&255,n.check=o(n.check,B,2,0)),_=w=0,n.mode=3;case 3:for(;_<32;){if(0===y)break e;y--,w+=f[g++]<<_,_+=8}n.head&&(n.head.time=w),512&n.flags&&(B[0]=255&w,B[1]=w>>>8&255,B[2]=w>>>16&255,B[3]=w>>>24&255,n.check=o(n.check,B,4,0)),_=w=0,n.mode=4;case 4:for(;_<16;){if(0===y)break e;y--,w+=f[g++]<<_,_+=8}n.head&&(n.head.xflags=255&w,n.head.os=w>>8),512&n.flags&&(B[0]=255&w,B[1]=w>>>8&255,n.check=o(n.check,B,2,0)),_=w=0,n.mode=5;case 5:if(1024&n.flags){for(;_<16;){if(0===y)break e;y--,w+=f[g++]<<_,_+=8}n.length=w,n.head&&(n.head.extra_len=w),512&n.flags&&(B[0]=255&w,B[1]=w>>>8&255,n.check=o(n.check,B,2,0)),_=w=0}else n.head&&(n.head.extra=null);n.mode=6;case 6:if(1024&n.flags&&(y<(E=n.length)&&(E=y),E&&(n.head&&(L=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Array(n.head.extra_len)),r.arraySet(n.head.extra,f,g,E,L)),512&n.flags&&(n.check=o(n.check,f,E,g)),y-=E,g+=E,n.length-=E),n.length))break e;n.length=0,n.mode=7;case 7:if(2048&n.flags){if(0===y)break e;for(E=0;L=f[g+E++],n.head&&L&&n.length<65536&&(n.head.name+=String.fromCharCode(L)),L&&E<y;);if(512&n.flags&&(n.check=o(n.check,f,E,g)),y-=E,g+=E,L)break e}else n.head&&(n.head.name=null);n.length=0,n.mode=8;case 8:if(4096&n.flags){if(0===y)break e;for(E=0;L=f[g+E++],n.head&&L&&n.length<65536&&(n.head.comment+=String.fromCharCode(L)),L&&E<y;);if(512&n.flags&&(n.check=o(n.check,f,E,g)),y-=E,g+=E,L)break e}else n.head&&(n.head.comment=null);n.mode=9;case 9:if(512&n.flags){for(;_<16;){if(0===y)break e;y--,w+=f[g++]<<_,_+=8}if(w!==(65535&n.check)){e.msg="header crc mismatch",n.mode=30;break}_=w=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),e.adler=n.check=0,n.mode=12;break;case 10:for(;_<32;){if(0===y)break e;y--,w+=f[g++]<<_,_+=8}e.adler=n.check=m(w),_=w=0,n.mode=11;case 11:if(0===n.havedict)return e.next_out=v,e.avail_out=b,e.next_in=g,e.avail_in=y,n.hold=w,n.bits=_,2;e.adler=n.check=1,n.mode=12;case 12:if(5===t||6===t)break e;case 13:if(n.last){w>>>=7&_,_-=7&_,n.mode=27;break}for(;_<3;){if(0===y)break e;y--,w+=f[g++]<<_,_+=8}switch(n.last=1&w,_-=1,3&(w>>>=1)){case 0:n.mode=14;break;case 1:if(I(n),n.mode=20,6!==t)break;w>>>=2,_-=2;break e;case 2:n.mode=17;break;case 3:e.msg="invalid block type",n.mode=30}w>>>=2,_-=2;break;case 14:for(w>>>=7&_,_-=7&_;_<32;){if(0===y)break e;y--,w+=f[g++]<<_,_+=8}if((65535&w)!=(w>>>16^65535)){e.msg="invalid stored block lengths",n.mode=30;break}if(n.length=65535&w,_=w=0,n.mode=15,6===t)break e;case 15:n.mode=16;case 16:if(E=n.length){if(y<E&&(E=y),b<E&&(E=b),0===E)break e;r.arraySet(p,f,g,E,v),y-=E,g+=E,b-=E,v+=E,n.length-=E;break}n.mode=12;break;case 17:for(;_<14;){if(0===y)break e;y--,w+=f[g++]<<_,_+=8}if(n.nlen=257+(31&w),w>>>=5,_-=5,n.ndist=1+(31&w),w>>>=5,_-=5,n.ncode=4+(15&w),w>>>=4,_-=4,286<n.nlen||30<n.ndist){e.msg="too many length or distance symbols",n.mode=30;break}n.have=0,n.mode=18;case 18:for(;n.have<n.ncode;){for(;_<3;){if(0===y)break e;y--,w+=f[g++]<<_,_+=8}n.lens[V[n.have++]]=7&w,w>>>=3,_-=3}for(;n.have<19;)n.lens[V[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,M={bits:n.lenbits},F=a(0,n.lens,0,19,n.lencode,0,n.work,M),n.lenbits=M.bits,F){e.msg="invalid code lengths set",n.mode=30;break}n.have=0,n.mode=19;case 19:for(;n.have<n.nlen+n.ndist;){for(;R=(U=n.lencode[w&(1<<n.lenbits)-1])>>>16&255,O=65535&U,!((A=U>>>24)<=_);){if(0===y)break e;y--,w+=f[g++]<<_,_+=8}if(O<16)w>>>=A,_-=A,n.lens[n.have++]=O;else{if(16===O){for(q=A+2;_<q;){if(0===y)break e;y--,w+=f[g++]<<_,_+=8}if(w>>>=A,_-=A,0===n.have){e.msg="invalid bit length repeat",n.mode=30;break}L=n.lens[n.have-1],E=3+(3&w),w>>>=2,_-=2}else if(17===O){for(q=A+3;_<q;){if(0===y)break e;y--,w+=f[g++]<<_,_+=8}_-=A,L=0,E=3+(7&(w>>>=A)),w>>>=3,_-=3}else{for(q=A+7;_<q;){if(0===y)break e;y--,w+=f[g++]<<_,_+=8}_-=A,L=0,E=11+(127&(w>>>=A)),w>>>=7,_-=7}if(n.have+E>n.nlen+n.ndist){e.msg="invalid bit length repeat",n.mode=30;break}for(;E--;)n.lens[n.have++]=L}}if(30===n.mode)break;if(0===n.lens[256]){e.msg="invalid code -- missing end-of-block",n.mode=30;break}if(n.lenbits=9,M={bits:n.lenbits},F=a(l,n.lens,0,n.nlen,n.lencode,0,n.work,M),n.lenbits=M.bits,F){e.msg="invalid literal/lengths set",n.mode=30;break}if(n.distbits=6,n.distcode=n.distdyn,M={bits:n.distbits},F=a(u,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,M),n.distbits=M.bits,F){e.msg="invalid distances set",n.mode=30;break}if(n.mode=20,6===t)break e;case 20:n.mode=21;case 21:if(6<=y&&258<=b){e.next_out=v,e.avail_out=b,e.next_in=g,e.avail_in=y,n.hold=w,n.bits=_,s(e,k),v=e.next_out,p=e.output,b=e.avail_out,g=e.next_in,f=e.input,y=e.avail_in,w=n.hold,_=n.bits,12===n.mode&&(n.back=-1);break}for(n.back=0;R=(U=n.lencode[w&(1<<n.lenbits)-1])>>>16&255,O=65535&U,!((A=U>>>24)<=_);){if(0===y)break e;y--,w+=f[g++]<<_,_+=8}if(R&&0==(240&R)){for(N=A,P=R,D=O;R=(U=n.lencode[D+((w&(1<<N+P)-1)>>N)])>>>16&255,O=65535&U,!(N+(A=U>>>24)<=_);){if(0===y)break e;y--,w+=f[g++]<<_,_+=8}w>>>=N,_-=N,n.back+=N}if(w>>>=A,_-=A,n.back+=A,n.length=O,0===R){n.mode=26;break}if(32&R){n.back=-1,n.mode=12;break}if(64&R){e.msg="invalid literal/length code",n.mode=30;break}n.extra=15&R,n.mode=22;case 22:if(n.extra){for(q=n.extra;_<q;){if(0===y)break e;y--,w+=f[g++]<<_,_+=8}n.length+=w&(1<<n.extra)-1,w>>>=n.extra,_-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=23;case 23:for(;R=(U=n.distcode[w&(1<<n.distbits)-1])>>>16&255,O=65535&U,!((A=U>>>24)<=_);){if(0===y)break e;y--,w+=f[g++]<<_,_+=8}if(0==(240&R)){for(N=A,P=R,D=O;R=(U=n.distcode[D+((w&(1<<N+P)-1)>>N)])>>>16&255,O=65535&U,!(N+(A=U>>>24)<=_);){if(0===y)break e;y--,w+=f[g++]<<_,_+=8}w>>>=N,_-=N,n.back+=N}if(w>>>=A,_-=A,n.back+=A,64&R){e.msg="invalid distance code",n.mode=30;break}n.offset=O,n.extra=15&R,n.mode=24;case 24:if(n.extra){for(q=n.extra;_<q;){if(0===y)break e;y--,w+=f[g++]<<_,_+=8}n.offset+=w&(1<<n.extra)-1,w>>>=n.extra,_-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){e.msg="invalid distance too far back",n.mode=30;break}n.mode=25;case 25:if(0===b)break e;if(E=k-b,n.offset>E){if((E=n.offset-E)>n.whave&&n.sane){e.msg="invalid distance too far back",n.mode=30;break}T=E>n.wnext?(E-=n.wnext,n.wsize-E):n.wnext-E,E>n.length&&(E=n.length),C=n.window}else C=p,T=v-n.offset,E=n.length;for(b<E&&(E=b),b-=E,n.length-=E;p[v++]=C[T++],--E;);0===n.length&&(n.mode=21);break;case 26:if(0===b)break e;p[v++]=n.length,b--,n.mode=21;break;case 27:if(n.wrap){for(;_<32;){if(0===y)break e;y--,w|=f[g++]<<_,_+=8}if(k-=b,e.total_out+=k,n.total+=k,k&&(e.adler=n.check=n.flags?o(n.check,p,k,v-k):i(n.check,p,k,v-k)),k=b,(n.flags?w:m(w))!==n.check){e.msg="incorrect data check",n.mode=30;break}_=w=0}n.mode=28;case 28:if(n.wrap&&n.flags){for(;_<32;){if(0===y)break e;y--,w+=f[g++]<<_,_+=8}if(w!==(4294967295&n.total)){e.msg="incorrect length check",n.mode=30;break}_=w=0}n.mode=29;case 29:F=1;break e;case 30:F=-3;break e;case 31:return-4;case 32:default:return h}return e.next_out=v,e.avail_out=b,e.next_in=g,e.avail_in=y,n.hold=w,n.bits=_,(n.wsize||k!==e.avail_out&&n.mode<30&&(n.mode<27||4!==t))&&x(e,e.output,e.next_out,k-e.avail_out)?(n.mode=31,-4):(S-=e.avail_in,k-=e.avail_out,e.total_in+=S,e.total_out+=k,n.total+=k,n.wrap&&k&&(e.adler=n.check=n.flags?o(n.check,p,k,e.next_out-k):i(n.check,p,k,e.next_out-k)),e.data_type=n.bits+(n.last?64:0)+(12===n.mode?128:0)+(20===n.mode||15===n.mode?256:0),(0==S&&0===k||4===t)&&F===c&&(F=-5),F)},n.inflateEnd=function(e){if(!e||!e.state)return h;var t=e.state;return t.window&&(t.window=null),e.state=null,c},n.inflateGetHeader=function(e,t){var n;return e&&e.state?0==(2&(n=e.state).wrap)?h:((n.head=t).done=!1,c):h},n.inflateSetDictionary=function(e,t){var n,r=t.length;return e&&e.state?0!==(n=e.state).wrap&&11!==n.mode?h:11===n.mode&&i(1,t,r,0)!==n.check?-3:x(e,t,r,r)?(n.mode=31,-4):(n.havedict=1,c):h},n.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(e,t,n){"use strict";var r=e("../utils/common"),i=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],o=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],s=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],a=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];t.exports=function(e,t,n,l,u,c,h,d){var f,p,m,g,v,y,b,w,_,S=d.bits,k=0,I=0,x=0,E=0,T=0,C=0,A=0,R=0,O=0,N=0,P=null,D=0,L=new r.Buf16(16),F=new r.Buf16(16),M=null,q=0;for(k=0;k<=15;k++)L[k]=0;for(I=0;I<l;I++)L[t[n+I]]++;for(T=S,E=15;1<=E&&0===L[E];E--);if(E<T&&(T=E),0===E)return u[c++]=20971520,u[c++]=20971520,d.bits=1,0;for(x=1;x<E&&0===L[x];x++);for(T<x&&(T=x),k=R=1;k<=15;k++)if(R<<=1,(R-=L[k])<0)return-1;if(0<R&&(0===e||1!==E))return-1;for(F[1]=0,k=1;k<15;k++)F[k+1]=F[k]+L[k];for(I=0;I<l;I++)0!==t[n+I]&&(h[F[t[n+I]]++]=I);if(y=0===e?(P=M=h,19):1===e?(P=i,D-=257,M=o,q-=257,256):(P=s,M=a,-1),k=x,v=c,A=I=N=0,m=-1,g=(O=1<<(C=T))-1,1===e&&852<O||2===e&&592<O)return 1;for(;;){for(b=k-A,_=h[I]<y?(w=0,h[I]):h[I]>y?(w=M[q+h[I]],P[D+h[I]]):(w=96,0),f=1<<k-A,x=p=1<<C;u[v+(N>>A)+(p-=f)]=b<<24|w<<16|_|0,0!==p;);for(f=1<<k-1;N&f;)f>>=1;if(0!==f?(N&=f-1,N+=f):N=0,I++,0==--L[k]){if(k===E)break;k=t[n+h[I]]}if(T<k&&(N&g)!==m){for(0===A&&(A=T),v+=x,R=1<<(C=k-A);C+A<E&&!((R-=L[C+A])<=0);)C++,R<<=1;if(O+=1<<C,1===e&&852<O||2===e&&592<O)return 1;u[m=N&g]=T<<24|C<<16|v-c|0}}return 0!==N&&(u[v+N]=k-A<<24|64<<16|0),d.bits=T,0}},{"../utils/common":41}],51:[function(e,t,n){"use strict";t.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(e,t,n){"use strict";var r=e("../utils/common"),i=0,o=1;function s(e){for(var t=e.length;0<=--t;)e[t]=0}var a=0,l=29,u=256,c=u+1+l,h=30,d=19,f=2*c+1,p=15,m=16,g=7,v=256,y=16,b=17,w=18,_=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],S=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],k=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],I=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],x=new Array(2*(c+2));s(x);var E=new Array(2*h);s(E);var T=new Array(512);s(T);var C=new Array(256);s(C);var A=new Array(l);s(A);var R,O,N,P=new Array(h);function D(e,t,n,r,i){this.static_tree=e,this.extra_bits=t,this.extra_base=n,this.elems=r,this.max_length=i,this.has_stree=e&&e.length}function L(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}function F(e){return e<256?T[e]:T[256+(e>>>7)]}function M(e,t){e.pending_buf[e.pending++]=255&t,e.pending_buf[e.pending++]=t>>>8&255}function q(e,t,n){e.bi_valid>m-n?(e.bi_buf|=t<<e.bi_valid&65535,M(e,e.bi_buf),e.bi_buf=t>>m-e.bi_valid,e.bi_valid+=n-m):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=n)}function U(e,t,n){q(e,n[2*t],n[2*t+1])}function B(e,t){for(var n=0;n|=1&e,e>>>=1,n<<=1,0<--t;);return n>>>1}function V(e,t,n){var r,i,o=new Array(p+1),s=0;for(r=1;r<=p;r++)o[r]=s=s+n[r-1]<<1;for(i=0;i<=t;i++){var a=e[2*i+1];0!==a&&(e[2*i]=B(o[a]++,a))}}function j(e){var t;for(t=0;t<c;t++)e.dyn_ltree[2*t]=0;for(t=0;t<h;t++)e.dyn_dtree[2*t]=0;for(t=0;t<d;t++)e.bl_tree[2*t]=0;e.dyn_ltree[2*v]=1,e.opt_len=e.static_len=0,e.last_lit=e.matches=0}function z(e){8<e.bi_valid?M(e,e.bi_buf):0<e.bi_valid&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0}function $(e,t,n,r){var i=2*t,o=2*n;return e[i]<e[o]||e[i]===e[o]&&r[t]<=r[n]}function H(e,t,n){for(var r=e.heap[n],i=n<<1;i<=e.heap_len&&(i<e.heap_len&&$(t,e.heap[i+1],e.heap[i],e.depth)&&i++,!$(t,r,e.heap[i],e.depth));)e.heap[n]=e.heap[i],n=i,i<<=1;e.heap[n]=r}function K(e,t,n){var r,i,o,s,a=0;if(0!==e.last_lit)for(;r=e.pending_buf[e.d_buf+2*a]<<8|e.pending_buf[e.d_buf+2*a+1],i=e.pending_buf[e.l_buf+a],a++,0===r?U(e,i,t):(U(e,(o=C[i])+u+1,t),0!==(s=_[o])&&q(e,i-=A[o],s),U(e,o=F(--r),n),0!==(s=S[o])&&q(e,r-=P[o],s)),a<e.last_lit;);U(e,v,t)}function W(e,t){var n,r,i,o=t.dyn_tree,s=t.stat_desc.static_tree,a=t.stat_desc.has_stree,l=t.stat_desc.elems,u=-1;for(e.heap_len=0,e.heap_max=f,n=0;n<l;n++)0!==o[2*n]?(e.heap[++e.heap_len]=u=n,e.depth[n]=0):o[2*n+1]=0;for(;e.heap_len<2;)o[2*(i=e.heap[++e.heap_len]=u<2?++u:0)]=1,e.depth[i]=0,e.opt_len--,a&&(e.static_len-=s[2*i+1]);for(t.max_code=u,n=e.heap_len>>1;1<=n;n--)H(e,o,n);for(i=l;n=e.heap[1],e.heap[1]=e.heap[e.heap_len--],H(e,o,1),r=e.heap[1],e.heap[--e.heap_max]=n,e.heap[--e.heap_max]=r,o[2*i]=o[2*n]+o[2*r],e.depth[i]=(e.depth[n]>=e.depth[r]?e.depth[n]:e.depth[r])+1,o[2*n+1]=o[2*r+1]=i,e.heap[1]=i++,H(e,o,1),2<=e.heap_len;);e.heap[--e.heap_max]=e.heap[1],function(e,t){var n,r,i,o,s,a,l=t.dyn_tree,u=t.max_code,c=t.stat_desc.static_tree,h=t.stat_desc.has_stree,d=t.stat_desc.extra_bits,m=t.stat_desc.extra_base,g=t.stat_desc.max_length,v=0;for(o=0;o<=p;o++)e.bl_count[o]=0;for(l[2*e.heap[e.heap_max]+1]=0,n=e.heap_max+1;n<f;n++)g<(o=l[2*l[2*(r=e.heap[n])+1]+1]+1)&&(o=g,v++),l[2*r+1]=o,u<r||(e.bl_count[o]++,s=0,m<=r&&(s=d[r-m]),a=l[2*r],e.opt_len+=a*(o+s),h&&(e.static_len+=a*(c[2*r+1]+s)));if(0!==v){do{for(o=g-1;0===e.bl_count[o];)o--;e.bl_count[o]--,e.bl_count[o+1]+=2,e.bl_count[g]--,v-=2}while(0<v);for(o=g;0!==o;o--)for(r=e.bl_count[o];0!==r;)u<(i=e.heap[--n])||(l[2*i+1]!==o&&(e.opt_len+=(o-l[2*i+1])*l[2*i],l[2*i+1]=o),r--)}}(e,t),V(o,u,e.bl_count)}function G(e,t,n){var r,i,o=-1,s=t[1],a=0,l=7,u=4;for(0===s&&(l=138,u=3),t[2*(n+1)+1]=65535,r=0;r<=n;r++)i=s,s=t[2*(r+1)+1],++a<l&&i===s||(a<u?e.bl_tree[2*i]+=a:0!==i?(i!==o&&e.bl_tree[2*i]++,e.bl_tree[2*y]++):a<=10?e.bl_tree[2*b]++:e.bl_tree[2*w]++,o=i,u=(a=0)===s?(l=138,3):i===s?(l=6,3):(l=7,4))}function Z(e,t,n){var r,i,o=-1,s=t[1],a=0,l=7,u=4;for(0===s&&(l=138,u=3),r=0;r<=n;r++)if(i=s,s=t[2*(r+1)+1],!(++a<l&&i===s)){if(a<u)for(;U(e,i,e.bl_tree),0!=--a;);else 0!==i?(i!==o&&(U(e,i,e.bl_tree),a--),U(e,y,e.bl_tree),q(e,a-3,2)):a<=10?(U(e,b,e.bl_tree),q(e,a-3,3)):(U(e,w,e.bl_tree),q(e,a-11,7));o=i,u=(a=0)===s?(l=138,3):i===s?(l=6,3):(l=7,4)}}s(P);var Y=!1;function Q(e,t,n,i){q(e,(a<<1)+(i?1:0),3),function(e,t,n,i){z(e),i&&(M(e,n),M(e,~n)),r.arraySet(e.pending_buf,e.window,t,n,e.pending),e.pending+=n}(e,t,n,!0)}n._tr_init=function(e){Y||(function(){var e,t,n,r,i,o=new Array(p+1);for(r=n=0;r<l-1;r++)for(A[r]=n,e=0;e<1<<_[r];e++)C[n++]=r;for(C[n-1]=r,r=i=0;r<16;r++)for(P[r]=i,e=0;e<1<<S[r];e++)T[i++]=r;for(i>>=7;r<h;r++)for(P[r]=i<<7,e=0;e<1<<S[r]-7;e++)T[256+i++]=r;for(t=0;t<=p;t++)o[t]=0;for(e=0;e<=143;)x[2*e+1]=8,e++,o[8]++;for(;e<=255;)x[2*e+1]=9,e++,o[9]++;for(;e<=279;)x[2*e+1]=7,e++,o[7]++;for(;e<=287;)x[2*e+1]=8,e++,o[8]++;for(V(x,c+1,o),e=0;e<h;e++)E[2*e+1]=5,E[2*e]=B(e,5);R=new D(x,_,u+1,c,p),O=new D(E,S,0,h,p),N=new D(new Array(0),k,0,d,g)}(),Y=!0),e.l_desc=new L(e.dyn_ltree,R),e.d_desc=new L(e.dyn_dtree,O),e.bl_desc=new L(e.bl_tree,N),e.bi_buf=0,e.bi_valid=0,j(e)},n._tr_stored_block=Q,n._tr_flush_block=function(e,t,n,r){var s,a,l=0;0<e.level?(2===e.strm.data_type&&(e.strm.data_type=function(e){var t,n=4093624447;for(t=0;t<=31;t++,n>>>=1)if(1&n&&0!==e.dyn_ltree[2*t])return i;if(0!==e.dyn_ltree[18]||0!==e.dyn_ltree[20]||0!==e.dyn_ltree[26])return o;for(t=32;t<u;t++)if(0!==e.dyn_ltree[2*t])return o;return i}(e)),W(e,e.l_desc),W(e,e.d_desc),l=function(e){var t;for(G(e,e.dyn_ltree,e.l_desc.max_code),G(e,e.dyn_dtree,e.d_desc.max_code),W(e,e.bl_desc),t=d-1;3<=t&&0===e.bl_tree[2*I[t]+1];t--);return e.opt_len+=3*(t+1)+5+5+4,t}(e),s=e.opt_len+3+7>>>3,(a=e.static_len+3+7>>>3)<=s&&(s=a)):s=a=n+5,n+4<=s&&-1!==t?Q(e,t,n,r):4===e.strategy||a===s?(q(e,2+(r?1:0),3),K(e,x,E)):(q(e,4+(r?1:0),3),function(e,t,n,r){var i;for(q(e,t-257,5),q(e,n-1,5),q(e,r-4,4),i=0;i<r;i++)q(e,e.bl_tree[2*I[i]+1],3);Z(e,e.dyn_ltree,t-1),Z(e,e.dyn_dtree,n-1)}(e,e.l_desc.max_code+1,e.d_desc.max_code+1,l+1),K(e,e.dyn_ltree,e.dyn_dtree)),j(e),r&&z(e)},n._tr_tally=function(e,t,n){return e.pending_buf[e.d_buf+2*e.last_lit]=t>>>8&255,e.pending_buf[e.d_buf+2*e.last_lit+1]=255&t,e.pending_buf[e.l_buf+e.last_lit]=255&n,e.last_lit++,0===t?e.dyn_ltree[2*n]++:(e.matches++,t--,e.dyn_ltree[2*(C[n]+u+1)]++,e.dyn_dtree[2*F(t)]++),e.last_lit===e.lit_bufsize-1},n._tr_align=function(e){q(e,2,3),U(e,v,x),function(e){16===e.bi_valid?(M(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):8<=e.bi_valid&&(e.pending_buf[e.pending++]=255&e.bi_buf,e.bi_buf>>=8,e.bi_valid-=8)}(e)}},{"../utils/common":41}],53:[function(e,t,n){"use strict";t.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(e,t,r){(function(e){!function(e,t){"use strict";if(!e.setImmediate){var n,r,i,o,s=1,a={},l=!1,u=e.document,c=Object.getPrototypeOf&&Object.getPrototypeOf(e);c=c&&c.setTimeout?c:e,n="[object process]"==={}.toString.call(e.process)?function(e){process.nextTick((function(){d(e)}))}:function(){if(e.postMessage&&!e.importScripts){var t=!0,n=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=n,t}}()?(o="setImmediate$"+Math.random()+"$",e.addEventListener?e.addEventListener("message",f,!1):e.attachEvent("onmessage",f),function(t){e.postMessage(o+t,"*")}):e.MessageChannel?((i=new MessageChannel).port1.onmessage=function(e){d(e.data)},function(e){i.port2.postMessage(e)}):u&&"onreadystatechange"in u.createElement("script")?(r=u.documentElement,function(e){var t=u.createElement("script");t.onreadystatechange=function(){d(e),t.onreadystatechange=null,r.removeChild(t),t=null},r.appendChild(t)}):function(e){setTimeout(d,0,e)},c.setImmediate=function(e){"function"!=typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),r=0;r<t.length;r++)t[r]=arguments[r+1];var i={callback:e,args:t};return a[s]=i,n(s),s++},c.clearImmediate=h}function h(e){delete a[e]}function d(e){if(l)setTimeout(d,0,e);else{var n=a[e];if(n){l=!0;try{!function(e){var n=e.callback,r=e.args;switch(r.length){case 0:n();break;case 1:n(r[0]);break;case 2:n(r[0],r[1]);break;case 3:n(r[0],r[1],r[2]);break;default:n.apply(t,r)}}(n)}finally{h(e),l=!1}}}}function f(t){t.source===e&&"string"==typeof t.data&&0===t.data.indexOf(o)&&d(+t.data.slice(o.length))}}("undefined"==typeof self?void 0===e?this:e:self)}).call(this,"undefined"!=typeof n.g?n.g:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}]},{},[10])(10)}))},1639:(e,t)=>{"use strict";t.Z=(e,t)=>{const n=e.__vccOpts||e;for(const[r,i]of t)n[r]=i;return n}},4186:(e,t,n)=>{"use strict";n.d(t,{Z:()=>d});var r=function(e){return function(e){return!!e&&"object"==typeof e}(e)&&!function(e){var t=Object.prototype.toString.call(e);return"[object RegExp]"===t||"[object Date]"===t||function(e){return e.$$typeof===i}(e)}(e)},i="function"==typeof Symbol&&Symbol.for?Symbol.for("react.element"):60103;function o(e,t){return!1!==t.clone&&t.isMergeableObject(e)?u(Array.isArray(e)?[]:{},e,t):e}function s(e,t,n){return e.concat(t).map((function(e){return o(e,n)}))}function a(e){return Object.keys(e).concat(function(e){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(e).filter((function(t){return e.propertyIsEnumerable(t)})):[]}(e))}function l(e,t){try{return t in e}catch(e){return!1}}function u(e,t,n){(n=n||{}).arrayMerge=n.arrayMerge||s,n.isMergeableObject=n.isMergeableObject||r,n.cloneUnlessOtherwiseSpecified=o;var i=Array.isArray(t);return i===Array.isArray(e)?i?n.arrayMerge(e,t,n):function(e,t,n){var r={};return n.isMergeableObject(e)&&a(e).forEach((function(t){r[t]=o(e[t],n)})),a(t).forEach((function(i){(function(e,t){return l(e,t)&&!(Object.hasOwnProperty.call(e,t)&&Object.propertyIsEnumerable.call(e,t))})(e,i)||(r[i]=l(e,i)&&n.isMergeableObject(t[i])?function(e,t){if(!t.customMerge)return u;var n=t.customMerge(e);return"function"==typeof n?n:u}(i,n)(e[i],t[i],n):o(t[i],n))})),r}(e,t,n):o(t,n)}u.all=function(e,t){if(!Array.isArray(e))throw new Error("first argument should be an array");return e.reduce((function(e,n){return u(e,n,t)}),{})};var c=u;function h(e){var t=(e=e||{}).storage||window&&window.localStorage,n=e.key||"vuex";function r(e,t){var n=t.getItem(e);try{return"string"==typeof n?JSON.parse(n):"object"==typeof n?n:void 0}catch(e){}}function i(){return!0}function o(e,t,n){return n.setItem(e,JSON.stringify(t))}function s(e,t){return Array.isArray(t)?t.reduce((function(t,n){return function(e,t,n,r){return!/^(__proto__|constructor|prototype)$/.test(t)&&((t=t.split?t.split("."):t.slice(0)).slice(0,-1).reduce((function(e,t){return e[t]=e[t]||{}}),e)[t.pop()]=n),e}(t,n,(r=e,void 0===(r=((i=n).split?i.split("."):i).reduce((function(e,t){return e&&e[t]}),r))?void 0:r));var r,i}),{}):e}function a(e){return function(t){return e.subscribe(t)}}(e.assertStorage||function(){t.setItem("@@",1),t.removeItem("@@")})(t);var l,u=function(){return(e.getState||r)(n,t)};return e.fetchBeforeUse&&(l=u()),function(r){e.fetchBeforeUse||(l=u()),"object"==typeof l&&null!==l&&(r.replaceState(e.overwrite?l:c(r.state,l,{arrayMerge:e.arrayMerger||function(e,t){return t},clone:!1})),(e.rehydrated||function(){})(r)),(e.subscriber||a)(r)((function(r,a){(e.filter||i)(r)&&(e.setState||o)(n,(e.reducer||s)(a,e.paths),t)}))}}const d=h},3100:(e,t,n)=>{"use strict";n.d(t,{MT:()=>ee});var r=n(9835),i=n(499);function o(){return s().__VUE_DEVTOOLS_GLOBAL_HOOK__}function s(){return"undefined"!==typeof navigator&&"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:{}}const a="function"===typeof Proxy,l="devtools-plugin:setup",u="plugin:settings:set";let c,h;function d(){var e;return void 0!==c||("undefined"!==typeof window&&window.performance?(c=!0,h=window.performance):"undefined"!==typeof n.g&&(null===(e=n.g.perf_hooks)||void 0===e?void 0:e.performance)?(c=!0,h=n.g.perf_hooks.performance):c=!1),c}function f(){return d()?h.now():Date.now()}class p{constructor(e,t){this.target=null,this.targetQueue=[],this.onQueue=[],this.plugin=e,this.hook=t;const n={};if(e.settings)for(const s in e.settings){const t=e.settings[s];n[s]=t.defaultValue}const r=`__vue-devtools-plugin-settings__${e.id}`;let i=Object.assign({},n);try{const e=localStorage.getItem(r),t=JSON.parse(e);Object.assign(i,t)}catch(o){}this.fallbacks={getSettings(){return i},setSettings(e){try{localStorage.setItem(r,JSON.stringify(e))}catch(o){}i=e},now(){return f()}},t&&t.on(u,((e,t)=>{e===this.plugin.id&&this.fallbacks.setSettings(t)})),this.proxiedOn=new Proxy({},{get:(e,t)=>this.target?this.target.on[t]:(...e)=>{this.onQueue.push({method:t,args:e})}}),this.proxiedTarget=new Proxy({},{get:(e,t)=>this.target?this.target[t]:"on"===t?this.proxiedOn:Object.keys(this.fallbacks).includes(t)?(...e)=>(this.targetQueue.push({method:t,args:e,resolve:()=>{}}),this.fallbacks[t](...e)):(...e)=>new Promise((n=>{this.targetQueue.push({method:t,args:e,resolve:n})}))})}async setRealTarget(e){this.target=e;for(const t of this.onQueue)this.target.on[t.method](...t.args);for(const t of this.targetQueue)t.resolve(await this.target[t.method](...t.args))}}function m(e,t){const n=e,r=s(),i=o(),u=a&&n.enableEarlyProxy;if(!i||!r.__VUE_DEVTOOLS_PLUGIN_API_AVAILABLE__&&u){const e=u?new p(n,i):null,o=r.__VUE_DEVTOOLS_PLUGINS__=r.__VUE_DEVTOOLS_PLUGINS__||[];o.push({pluginDescriptor:n,setupFn:t,proxy:e}),e&&t(e.proxiedTarget)}else i.emit(l,e,t)}
/*!
 * vuex v4.0.2
 * (c) 2021 Evan You
 * @license MIT
 */
var g="store";function v(e,t){Object.keys(e).forEach((function(n){return t(e[n],n)}))}function y(e){return null!==e&&"object"===typeof e}function b(e){return e&&"function"===typeof e.then}function w(e,t){return function(){return e(t)}}function _(e,t,n){return t.indexOf(e)<0&&(n&&n.prepend?t.unshift(e):t.push(e)),function(){var n=t.indexOf(e);n>-1&&t.splice(n,1)}}function S(e,t){e._actions=Object.create(null),e._mutations=Object.create(null),e._wrappedGetters=Object.create(null),e._modulesNamespaceMap=Object.create(null);var n=e.state;I(e,n,[],e._modules.root,!0),k(e,n,t)}function k(e,t,n){var r=e._state;e.getters={},e._makeLocalGettersCache=Object.create(null);var o=e._wrappedGetters,s={};v(o,(function(t,n){s[n]=w(t,e),Object.defineProperty(e.getters,n,{get:function(){return s[n]()},enumerable:!0})})),e._state=(0,i.qj)({data:t}),e.strict&&R(e),r&&n&&e._withCommit((function(){r.data=null}))}function I(e,t,n,r,i){var o=!n.length,s=e._modules.getNamespace(n);if(r.namespaced&&(e._modulesNamespaceMap[s],e._modulesNamespaceMap[s]=r),!o&&!i){var a=O(t,n.slice(0,-1)),l=n[n.length-1];e._withCommit((function(){a[l]=r.state}))}var u=r.context=x(e,s,n);r.forEachMutation((function(t,n){var r=s+n;T(e,r,t,u)})),r.forEachAction((function(t,n){var r=t.root?n:s+n,i=t.handler||t;C(e,r,i,u)})),r.forEachGetter((function(t,n){var r=s+n;A(e,r,t,u)})),r.forEachChild((function(r,o){I(e,t,n.concat(o),r,i)}))}function x(e,t,n){var r=""===t,i={dispatch:r?e.dispatch:function(n,r,i){var o=N(n,r,i),s=o.payload,a=o.options,l=o.type;return a&&a.root||(l=t+l),e.dispatch(l,s)},commit:r?e.commit:function(n,r,i){var o=N(n,r,i),s=o.payload,a=o.options,l=o.type;a&&a.root||(l=t+l),e.commit(l,s,a)}};return Object.defineProperties(i,{getters:{get:r?function(){return e.getters}:function(){return E(e,t)}},state:{get:function(){return O(e.state,n)}}}),i}function E(e,t){if(!e._makeLocalGettersCache[t]){var n={},r=t.length;Object.keys(e.getters).forEach((function(i){if(i.slice(0,r)===t){var o=i.slice(r);Object.defineProperty(n,o,{get:function(){return e.getters[i]},enumerable:!0})}})),e._makeLocalGettersCache[t]=n}return e._makeLocalGettersCache[t]}function T(e,t,n,r){var i=e._mutations[t]||(e._mutations[t]=[]);i.push((function(t){n.call(e,r.state,t)}))}function C(e,t,n,r){var i=e._actions[t]||(e._actions[t]=[]);i.push((function(t){var i=n.call(e,{dispatch:r.dispatch,commit:r.commit,getters:r.getters,state:r.state,rootGetters:e.getters,rootState:e.state},t);return b(i)||(i=Promise.resolve(i)),e._devtoolHook?i.catch((function(t){throw e._devtoolHook.emit("vuex:error",t),t})):i}))}function A(e,t,n,r){e._wrappedGetters[t]||(e._wrappedGetters[t]=function(e){return n(r.state,r.getters,e.state,e.getters)})}function R(e){(0,r.YP)((function(){return e._state.data}),(function(){0}),{deep:!0,flush:"sync"})}function O(e,t){return t.reduce((function(e,t){return e[t]}),e)}function N(e,t,n){return y(e)&&e.type&&(n=t,t=e,e=e.type),{type:e,payload:t,options:n}}var P="vuex bindings",D="vuex:mutations",L="vuex:actions",F="vuex",M=0;function q(e,t){m({id:"org.vuejs.vuex",app:e,label:"Vuex",homepage:"https://next.vuex.vuejs.org/",logo:"https://vuejs.org/images/icons/favicon-96x96.png",packageName:"vuex",componentStateTypes:[P]},(function(n){n.addTimelineLayer({id:D,label:"Vuex Mutations",color:U}),n.addTimelineLayer({id:L,label:"Vuex Actions",color:U}),n.addInspector({id:F,label:"Vuex",icon:"storage",treeFilterPlaceholder:"Filter stores..."}),n.on.getInspectorTree((function(n){if(n.app===e&&n.inspectorId===F)if(n.filter){var r=[];H(r,t._modules.root,n.filter,""),n.rootNodes=r}else n.rootNodes=[$(t._modules.root,"")]})),n.on.getInspectorState((function(n){if(n.app===e&&n.inspectorId===F){var r=n.nodeId;E(t,r),n.state=K(G(t._modules,r),"root"===r?t.getters:t._makeLocalGettersCache,r)}})),n.on.editInspectorState((function(n){if(n.app===e&&n.inspectorId===F){var r=n.nodeId,i=n.path;"root"!==r&&(i=r.split("/").filter(Boolean).concat(i)),t._withCommit((function(){n.set(t._state.data,i,n.state.value)}))}})),t.subscribe((function(e,t){var r={};e.payload&&(r.payload=e.payload),r.state=t,n.notifyComponentUpdate(),n.sendInspectorTree(F),n.sendInspectorState(F),n.addTimelineEvent({layerId:D,event:{time:Date.now(),title:e.type,data:r}})})),t.subscribeAction({before:function(e,t){var r={};e.payload&&(r.payload=e.payload),e._id=M++,e._time=Date.now(),r.state=t,n.addTimelineEvent({layerId:L,event:{time:e._time,title:e.type,groupId:e._id,subtitle:"start",data:r}})},after:function(e,t){var r={},i=Date.now()-e._time;r.duration={_custom:{type:"duration",display:i+"ms",tooltip:"Action duration",value:i}},e.payload&&(r.payload=e.payload),r.state=t,n.addTimelineEvent({layerId:L,event:{time:Date.now(),title:e.type,groupId:e._id,subtitle:"end",data:r}})}})}))}var U=8702998,B=6710886,V=16777215,j={label:"namespaced",textColor:V,backgroundColor:B};function z(e){return e&&"root"!==e?e.split("/").slice(-2,-1)[0]:"Root"}function $(e,t){return{id:t||"root",label:z(t),tags:e.namespaced?[j]:[],children:Object.keys(e._children).map((function(n){return $(e._children[n],t+n+"/")}))}}function H(e,t,n,r){r.includes(n)&&e.push({id:r||"root",label:r.endsWith("/")?r.slice(0,r.length-1):r||"Root",tags:t.namespaced?[j]:[]}),Object.keys(t._children).forEach((function(i){H(e,t._children[i],n,r+i+"/")}))}function K(e,t,n){t="root"===n?t:t[n];var r=Object.keys(t),i={state:Object.keys(e.state).map((function(t){return{key:t,editable:!0,value:e.state[t]}}))};if(r.length){var o=W(t);i.getters=Object.keys(o).map((function(e){return{key:e.endsWith("/")?z(e):e,editable:!1,value:Z((function(){return o[e]}))}}))}return i}function W(e){var t={};return Object.keys(e).forEach((function(n){var r=n.split("/");if(r.length>1){var i=t,o=r.pop();r.forEach((function(e){i[e]||(i[e]={_custom:{value:{},display:e,tooltip:"Module",abstract:!0}}),i=i[e]._custom.value})),i[o]=Z((function(){return e[n]}))}else t[n]=Z((function(){return e[n]}))})),t}function G(e,t){var n=t.split("/").filter((function(e){return e}));return n.reduce((function(e,r,i){var o=e[r];if(!o)throw new Error('Missing module "'+r+'" for path "'+t+'".');return i===n.length-1?o:o._children}),"root"===t?e:e.root._children)}function Z(e){try{return e()}catch(t){return t}}var Y=function(e,t){this.runtime=t,this._children=Object.create(null),this._rawModule=e;var n=e.state;this.state=("function"===typeof n?n():n)||{}},Q={namespaced:{configurable:!0}};Q.namespaced.get=function(){return!!this._rawModule.namespaced},Y.prototype.addChild=function(e,t){this._children[e]=t},Y.prototype.removeChild=function(e){delete this._children[e]},Y.prototype.getChild=function(e){return this._children[e]},Y.prototype.hasChild=function(e){return e in this._children},Y.prototype.update=function(e){this._rawModule.namespaced=e.namespaced,e.actions&&(this._rawModule.actions=e.actions),e.mutations&&(this._rawModule.mutations=e.mutations),e.getters&&(this._rawModule.getters=e.getters)},Y.prototype.forEachChild=function(e){v(this._children,e)},Y.prototype.forEachGetter=function(e){this._rawModule.getters&&v(this._rawModule.getters,e)},Y.prototype.forEachAction=function(e){this._rawModule.actions&&v(this._rawModule.actions,e)},Y.prototype.forEachMutation=function(e){this._rawModule.mutations&&v(this._rawModule.mutations,e)},Object.defineProperties(Y.prototype,Q);var J=function(e){this.register([],e,!1)};function X(e,t,n){if(t.update(n),n.modules)for(var r in n.modules){if(!t.getChild(r))return void 0;X(e.concat(r),t.getChild(r),n.modules[r])}}J.prototype.get=function(e){return e.reduce((function(e,t){return e.getChild(t)}),this.root)},J.prototype.getNamespace=function(e){var t=this.root;return e.reduce((function(e,n){return t=t.getChild(n),e+(t.namespaced?n+"/":"")}),"")},J.prototype.update=function(e){X([],this.root,e)},J.prototype.register=function(e,t,n){var r=this;void 0===n&&(n=!0);var i=new Y(t,n);if(0===e.length)this.root=i;else{var o=this.get(e.slice(0,-1));o.addChild(e[e.length-1],i)}t.modules&&v(t.modules,(function(t,i){r.register(e.concat(i),t,n)}))},J.prototype.unregister=function(e){var t=this.get(e.slice(0,-1)),n=e[e.length-1],r=t.getChild(n);r&&r.runtime&&t.removeChild(n)},J.prototype.isRegistered=function(e){var t=this.get(e.slice(0,-1)),n=e[e.length-1];return!!t&&t.hasChild(n)};function ee(e){return new te(e)}var te=function(e){var t=this;void 0===e&&(e={});var n=e.plugins;void 0===n&&(n=[]);var r=e.strict;void 0===r&&(r=!1);var i=e.devtools;this._committing=!1,this._actions=Object.create(null),this._actionSubscribers=[],this._mutations=Object.create(null),this._wrappedGetters=Object.create(null),this._modules=new J(e),this._modulesNamespaceMap=Object.create(null),this._subscribers=[],this._makeLocalGettersCache=Object.create(null),this._devtools=i;var o=this,s=this,a=s.dispatch,l=s.commit;this.dispatch=function(e,t){return a.call(o,e,t)},this.commit=function(e,t,n){return l.call(o,e,t,n)},this.strict=r;var u=this._modules.root.state;I(this,u,[],this._modules.root),k(this,u),n.forEach((function(e){return e(t)}))},ne={state:{configurable:!0}};te.prototype.install=function(e,t){e.provide(t||g,this),e.config.globalProperties.$store=this;var n=void 0!==this._devtools&&this._devtools;n&&q(e,this)},ne.state.get=function(){return this._state.data},ne.state.set=function(e){0},te.prototype.commit=function(e,t,n){var r=this,i=N(e,t,n),o=i.type,s=i.payload,a=(i.options,{type:o,payload:s}),l=this._mutations[o];l&&(this._withCommit((function(){l.forEach((function(e){e(s)}))})),this._subscribers.slice().forEach((function(e){return e(a,r.state)})))},te.prototype.dispatch=function(e,t){var n=this,r=N(e,t),i=r.type,o=r.payload,s={type:i,payload:o},a=this._actions[i];if(a){try{this._actionSubscribers.slice().filter((function(e){return e.before})).forEach((function(e){return e.before(s,n.state)}))}catch(u){0}var l=a.length>1?Promise.all(a.map((function(e){return e(o)}))):a[0](o);return new Promise((function(e,t){l.then((function(t){try{n._actionSubscribers.filter((function(e){return e.after})).forEach((function(e){return e.after(s,n.state)}))}catch(u){0}e(t)}),(function(e){try{n._actionSubscribers.filter((function(e){return e.error})).forEach((function(t){return t.error(s,n.state,e)}))}catch(u){0}t(e)}))}))}},te.prototype.subscribe=function(e,t){return _(e,this._subscribers,t)},te.prototype.subscribeAction=function(e,t){var n="function"===typeof e?{before:e}:e;return _(n,this._actionSubscribers,t)},te.prototype.watch=function(e,t,n){var i=this;return(0,r.YP)((function(){return e(i.state,i.getters)}),t,Object.assign({},n))},te.prototype.replaceState=function(e){var t=this;this._withCommit((function(){t._state.data=e}))},te.prototype.registerModule=function(e,t,n){void 0===n&&(n={}),"string"===typeof e&&(e=[e]),this._modules.register(e,t),I(this,this.state,e,this._modules.get(e),n.preserveState),k(this,this.state)},te.prototype.unregisterModule=function(e){var t=this;"string"===typeof e&&(e=[e]),this._modules.unregister(e),this._withCommit((function(){var n=O(t.state,e.slice(0,-1));delete n[e[e.length-1]]})),S(this)},te.prototype.hasModule=function(e){return"string"===typeof e&&(e=[e]),this._modules.isRegistered(e)},te.prototype.hotUpdate=function(e){this._modules.update(e),S(this,!0)},te.prototype._withCommit=function(e){var t=this._committing;this._committing=!0,e(),this._committing=t},Object.defineProperties(te.prototype,ne);oe((function(e,t){var n={};return re(t).forEach((function(t){var r=t.key,i=t.val;n[r]=function(){var t=this.$store.state,n=this.$store.getters;if(e){var r=se(this.$store,"mapState",e);if(!r)return;t=r.context.state,n=r.context.getters}return"function"===typeof i?i.call(this,t,n):t[i]},n[r].vuex=!0})),n})),oe((function(e,t){var n={};return re(t).forEach((function(t){var r=t.key,i=t.val;n[r]=function(){var t=[],n=arguments.length;while(n--)t[n]=arguments[n];var r=this.$store.commit;if(e){var o=se(this.$store,"mapMutations",e);if(!o)return;r=o.context.commit}return"function"===typeof i?i.apply(this,[r].concat(t)):r.apply(this.$store,[i].concat(t))}})),n})),oe((function(e,t){var n={};return re(t).forEach((function(t){var r=t.key,i=t.val;i=e+i,n[r]=function(){if(!e||se(this.$store,"mapGetters",e))return this.$store.getters[i]},n[r].vuex=!0})),n})),oe((function(e,t){var n={};return re(t).forEach((function(t){var r=t.key,i=t.val;n[r]=function(){var t=[],n=arguments.length;while(n--)t[n]=arguments[n];var r=this.$store.dispatch;if(e){var o=se(this.$store,"mapActions",e);if(!o)return;r=o.context.dispatch}return"function"===typeof i?i.apply(this,[r].concat(t)):r.apply(this.$store,[i].concat(t))}})),n}));function re(e){return ie(e)?Array.isArray(e)?e.map((function(e){return{key:e,val:e}})):Object.keys(e).map((function(t){return{key:t,val:e[t]}})):[]}function ie(e){return Array.isArray(e)||y(e)}function oe(e){return function(t,n){return"string"!==typeof t?(n=t,t=""):"/"!==t.charAt(t.length-1)&&(t+="/"),e(t,n)}}function se(e,t,n){var r=e._modulesNamespaceMap[n];return r}},3340:(e,t,n)=>{"use strict";function r(e){return e}function i(e){return e}n.d(t,{BC:()=>r,h:()=>i})},8339:(e,t,n)=>{"use strict";n.d(t,{p7:()=>nt,r5:()=>B});var r=n(9835),i=n(499);
/*!
  * vue-router v4.1.5
  * (c) 2022 Eduardo San Martin Morote
  * @license MIT
  */
const o="undefined"!==typeof window;function s(e){return e.__esModule||"Module"===e[Symbol.toStringTag]}const a=Object.assign;function l(e,t){const n={};for(const r in t){const i=t[r];n[r]=c(i)?i.map(e):e(i)}return n}const u=()=>{},c=Array.isArray;const h=/\/$/,d=e=>e.replace(h,"");function f(e,t,n="/"){let r,i={},o="",s="";const a=t.indexOf("#");let l=t.indexOf("?");return a<l&&a>=0&&(l=-1),l>-1&&(r=t.slice(0,l),o=t.slice(l+1,a>-1?a:t.length),i=e(o)),a>-1&&(r=r||t.slice(0,a),s=t.slice(a,t.length)),r=_(null!=r?r:t,n),{fullPath:r+(o&&"?")+o+s,path:r,query:i,hash:s}}function p(e,t){const n=t.query?e(t.query):"";return t.path+(n&&"?")+n+(t.hash||"")}function m(e,t){return t&&e.toLowerCase().startsWith(t.toLowerCase())?e.slice(t.length)||"/":e}function g(e,t,n){const r=t.matched.length-1,i=n.matched.length-1;return r>-1&&r===i&&v(t.matched[r],n.matched[i])&&y(t.params,n.params)&&e(t.query)===e(n.query)&&t.hash===n.hash}function v(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function y(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(!b(e[n],t[n]))return!1;return!0}function b(e,t){return c(e)?w(e,t):c(t)?w(t,e):e===t}function w(e,t){return c(t)?e.length===t.length&&e.every(((e,n)=>e===t[n])):1===e.length&&e[0]===t}function _(e,t){if(e.startsWith("/"))return e;if(!e)return t;const n=t.split("/"),r=e.split("/");let i,o,s=n.length-1;for(i=0;i<r.length;i++)if(o=r[i],"."!==o){if(".."!==o)break;s>1&&s--}return n.slice(0,s).join("/")+"/"+r.slice(i-(i===r.length?1:0)).join("/")}var S,k;(function(e){e["pop"]="pop",e["push"]="push"})(S||(S={})),function(e){e["back"]="back",e["forward"]="forward",e["unknown"]=""}(k||(k={}));function I(e){if(!e)if(o){const t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return"/"!==e[0]&&"#"!==e[0]&&(e="/"+e),d(e)}const x=/^[^#]+#/;function E(e,t){return e.replace(x,"#")+t}function T(e,t){const n=document.documentElement.getBoundingClientRect(),r=e.getBoundingClientRect();return{behavior:t.behavior,left:r.left-n.left-(t.left||0),top:r.top-n.top-(t.top||0)}}const C=()=>({left:window.pageXOffset,top:window.pageYOffset});function A(e){let t;if("el"in e){const n=e.el,r="string"===typeof n&&n.startsWith("#");0;const i="string"===typeof n?r?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!i)return;t=T(i,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(null!=t.left?t.left:window.pageXOffset,null!=t.top?t.top:window.pageYOffset)}function R(e,t){const n=history.state?history.state.position-t:-1;return n+e}const O=new Map;function N(e,t){O.set(e,t)}function P(e){const t=O.get(e);return O.delete(e),t}let D=()=>location.protocol+"//"+location.host;function L(e,t){const{pathname:n,search:r,hash:i}=t,o=e.indexOf("#");if(o>-1){let t=i.includes(e.slice(o))?e.slice(o).length:1,n=i.slice(t);return"/"!==n[0]&&(n="/"+n),m(n,"")}const s=m(n,e);return s+r+i}function F(e,t,n,r){let i=[],o=[],s=null;const l=({state:o})=>{const a=L(e,location),l=n.value,u=t.value;let c=0;if(o){if(n.value=a,t.value=o,s&&s===l)return void(s=null);c=u?o.position-u.position:0}else r(a);i.forEach((e=>{e(n.value,l,{delta:c,type:S.pop,direction:c?c>0?k.forward:k.back:k.unknown})}))};function u(){s=n.value}function c(e){i.push(e);const t=()=>{const t=i.indexOf(e);t>-1&&i.splice(t,1)};return o.push(t),t}function h(){const{history:e}=window;e.state&&e.replaceState(a({},e.state,{scroll:C()}),"")}function d(){for(const e of o)e();o=[],window.removeEventListener("popstate",l),window.removeEventListener("beforeunload",h)}return window.addEventListener("popstate",l),window.addEventListener("beforeunload",h),{pauseListeners:u,listen:c,destroy:d}}function M(e,t,n,r=!1,i=!1){return{back:e,current:t,forward:n,replaced:r,position:window.history.length,scroll:i?C():null}}function q(e){const{history:t,location:n}=window,r={value:L(e,n)},i={value:t.state};function o(r,o,s){const a=e.indexOf("#"),l=a>-1?(n.host&&document.querySelector("base")?e:e.slice(a))+r:D()+e+r;try{t[s?"replaceState":"pushState"](o,"",l),i.value=o}catch(u){console.error(u),n[s?"replace":"assign"](l)}}function s(e,n){const s=a({},t.state,M(i.value.back,e,i.value.forward,!0),n,{position:i.value.position});o(e,s,!0),r.value=e}function l(e,n){const s=a({},i.value,t.state,{forward:e,scroll:C()});o(s.current,s,!0);const l=a({},M(r.value,e,null),{position:s.position+1},n);o(e,l,!1),r.value=e}return i.value||o(r.value,{back:null,current:r.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0),{location:r,state:i,push:l,replace:s}}function U(e){e=I(e);const t=q(e),n=F(e,t.state,t.location,t.replace);function r(e,t=!0){t||n.pauseListeners(),history.go(e)}const i=a({location:"",base:e,go:r,createHref:E.bind(null,e)},t,n);return Object.defineProperty(i,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(i,"state",{enumerable:!0,get:()=>t.state.value}),i}function B(e){return e=location.host?e||location.pathname+location.search:"",e.includes("#")||(e+="#"),U(e)}function V(e){return"string"===typeof e||e&&"object"===typeof e}function j(e){return"string"===typeof e||"symbol"===typeof e}const z={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},$=Symbol("");var H;(function(e){e[e["aborted"]=4]="aborted",e[e["cancelled"]=8]="cancelled",e[e["duplicated"]=16]="duplicated"})(H||(H={}));function K(e,t){return a(new Error,{type:e,[$]:!0},t)}function W(e,t){return e instanceof Error&&$ in e&&(null==t||!!(e.type&t))}const G="[^/]+?",Z={sensitive:!1,strict:!1,start:!0,end:!0},Y=/[.+*?^${}()[\]/\\]/g;function Q(e,t){const n=a({},Z,t),r=[];let i=n.start?"^":"";const o=[];for(const a of e){const e=a.length?[]:[90];n.strict&&!a.length&&(i+="/");for(let t=0;t<a.length;t++){const r=a[t];let s=40+(n.sensitive?.25:0);if(0===r.type)t||(i+="/"),i+=r.value.replace(Y,"\\$&"),s+=40;else if(1===r.type){const{value:e,repeatable:n,optional:l,regexp:u}=r;o.push({name:e,repeatable:n,optional:l});const c=u||G;if(c!==G){s+=10;try{new RegExp(`(${c})`)}catch(h){throw new Error(`Invalid custom RegExp for param "${e}" (${c}): `+h.message)}}let d=n?`((?:${c})(?:/(?:${c}))*)`:`(${c})`;t||(d=l&&a.length<2?`(?:/${d})`:"/"+d),l&&(d+="?"),i+=d,s+=20,l&&(s+=-8),n&&(s+=-20),".*"===c&&(s+=-50)}e.push(s)}r.push(e)}if(n.strict&&n.end){const e=r.length-1;r[e][r[e].length-1]+=.7000000000000001}n.strict||(i+="/?"),n.end?i+="$":n.strict&&(i+="(?:/|$)");const s=new RegExp(i,n.sensitive?"":"i");function l(e){const t=e.match(s),n={};if(!t)return null;for(let r=1;r<t.length;r++){const e=t[r]||"",i=o[r-1];n[i.name]=e&&i.repeatable?e.split("/"):e}return n}function u(t){let n="",r=!1;for(const i of e){r&&n.endsWith("/")||(n+="/"),r=!1;for(const e of i)if(0===e.type)n+=e.value;else if(1===e.type){const{value:o,repeatable:s,optional:a}=e,l=o in t?t[o]:"";if(c(l)&&!s)throw new Error(`Provided param "${o}" is an array but it is not repeatable (* or + modifiers)`);const u=c(l)?l.join("/"):l;if(!u){if(!a)throw new Error(`Missing required param "${o}"`);i.length<2&&(n.endsWith("/")?n=n.slice(0,-1):r=!0)}n+=u}}return n||"/"}return{re:s,score:r,keys:o,parse:l,stringify:u}}function J(e,t){let n=0;while(n<e.length&&n<t.length){const r=t[n]-e[n];if(r)return r;n++}return e.length<t.length?1===e.length&&80===e[0]?-1:1:e.length>t.length?1===t.length&&80===t[0]?1:-1:0}function X(e,t){let n=0;const r=e.score,i=t.score;while(n<r.length&&n<i.length){const e=J(r[n],i[n]);if(e)return e;n++}if(1===Math.abs(i.length-r.length)){if(ee(r))return 1;if(ee(i))return-1}return i.length-r.length}function ee(e){const t=e[e.length-1];return e.length>0&&t[t.length-1]<0}const te={type:0,value:""},ne=/[a-zA-Z0-9_]/;function re(e){if(!e)return[[]];if("/"===e)return[[te]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(e){throw new Error(`ERR (${n})/"${u}": ${e}`)}let n=0,r=n;const i=[];let o;function s(){o&&i.push(o),o=[]}let a,l=0,u="",c="";function h(){u&&(0===n?o.push({type:0,value:u}):1===n||2===n||3===n?(o.length>1&&("*"===a||"+"===a)&&t(`A repeatable param (${u}) must be alone in its segment. eg: '/:ids+.`),o.push({type:1,value:u,regexp:c,repeatable:"*"===a||"+"===a,optional:"*"===a||"?"===a})):t("Invalid state to consume buffer"),u="")}function d(){u+=a}while(l<e.length)if(a=e[l++],"\\"!==a||2===n)switch(n){case 0:"/"===a?(u&&h(),s()):":"===a?(h(),n=1):d();break;case 4:d(),n=r;break;case 1:"("===a?n=2:ne.test(a)?d():(h(),n=0,"*"!==a&&"?"!==a&&"+"!==a&&l--);break;case 2:")"===a?"\\"==c[c.length-1]?c=c.slice(0,-1)+a:n=3:c+=a;break;case 3:h(),n=0,"*"!==a&&"?"!==a&&"+"!==a&&l--,c="";break;default:t("Unknown state");break}else r=n,n=4;return 2===n&&t(`Unfinished custom RegExp for param "${u}"`),h(),s(),i}function ie(e,t,n){const r=Q(re(e.path),n);const i=a(r,{record:e,parent:t,children:[],alias:[]});return t&&!i.record.aliasOf===!t.record.aliasOf&&t.children.push(i),i}function oe(e,t){const n=[],r=new Map;function i(e){return r.get(e)}function o(e,n,r){const i=!r,l=ae(e);l.aliasOf=r&&r.record;const h=he(t,e),d=[l];if("alias"in e){const t="string"===typeof e.alias?[e.alias]:e.alias;for(const e of t)d.push(a({},l,{components:r?r.record.components:l.components,path:e,aliasOf:r?r.record:l}))}let f,p;for(const t of d){const{path:a}=t;if(n&&"/"!==a[0]){const e=n.record.path,r="/"===e[e.length-1]?"":"/";t.path=n.record.path+(a&&r+a)}if(f=ie(t,n,h),r?r.alias.push(f):(p=p||f,p!==f&&p.alias.push(f),i&&e.name&&!ue(f)&&s(e.name)),l.children){const e=l.children;for(let t=0;t<e.length;t++)o(e[t],f,r&&r.children[t])}r=r||f,c(f)}return p?()=>{s(p)}:u}function s(e){if(j(e)){const t=r.get(e);t&&(r.delete(e),n.splice(n.indexOf(t),1),t.children.forEach(s),t.alias.forEach(s))}else{const t=n.indexOf(e);t>-1&&(n.splice(t,1),e.record.name&&r.delete(e.record.name),e.children.forEach(s),e.alias.forEach(s))}}function l(){return n}function c(e){let t=0;while(t<n.length&&X(e,n[t])>=0&&(e.record.path!==n[t].record.path||!de(e,n[t])))t++;n.splice(t,0,e),e.record.name&&!ue(e)&&r.set(e.record.name,e)}function h(e,t){let i,o,s,l={};if("name"in e&&e.name){if(i=r.get(e.name),!i)throw K(1,{location:e});0,s=i.record.name,l=a(se(t.params,i.keys.filter((e=>!e.optional)).map((e=>e.name))),e.params&&se(e.params,i.keys.map((e=>e.name)))),o=i.stringify(l)}else if("path"in e)o=e.path,i=n.find((e=>e.re.test(o))),i&&(l=i.parse(o),s=i.record.name);else{if(i=t.name?r.get(t.name):n.find((e=>e.re.test(t.path))),!i)throw K(1,{location:e,currentLocation:t});s=i.record.name,l=a({},t.params,e.params),o=i.stringify(l)}const u=[];let c=i;while(c)u.unshift(c.record),c=c.parent;return{name:s,path:o,params:l,matched:u,meta:ce(u)}}return t=he({strict:!1,end:!0,sensitive:!1},t),e.forEach((e=>o(e))),{addRoute:o,resolve:h,removeRoute:s,getRoutes:l,getRecordMatcher:i}}function se(e,t){const n={};for(const r of t)r in e&&(n[r]=e[r]);return n}function ae(e){return{path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:void 0,beforeEnter:e.beforeEnter,props:le(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||null:e.component&&{default:e.component}}}function le(e){const t={},n=e.props||!1;if("component"in e)t.default=n;else for(const r in e.components)t[r]="boolean"===typeof n?n:n[r];return t}function ue(e){while(e){if(e.record.aliasOf)return!0;e=e.parent}return!1}function ce(e){return e.reduce(((e,t)=>a(e,t.meta)),{})}function he(e,t){const n={};for(const r in e)n[r]=r in t?t[r]:e[r];return n}function de(e,t){return t.children.some((t=>t===e||de(e,t)))}const fe=/#/g,pe=/&/g,me=/\//g,ge=/=/g,ve=/\?/g,ye=/\+/g,be=/%5B/g,we=/%5D/g,_e=/%5E/g,Se=/%60/g,ke=/%7B/g,Ie=/%7C/g,xe=/%7D/g,Ee=/%20/g;function Te(e){return encodeURI(""+e).replace(Ie,"|").replace(be,"[").replace(we,"]")}function Ce(e){return Te(e).replace(ke,"{").replace(xe,"}").replace(_e,"^")}function Ae(e){return Te(e).replace(ye,"%2B").replace(Ee,"+").replace(fe,"%23").replace(pe,"%26").replace(Se,"`").replace(ke,"{").replace(xe,"}").replace(_e,"^")}function Re(e){return Ae(e).replace(ge,"%3D")}function Oe(e){return Te(e).replace(fe,"%23").replace(ve,"%3F")}function Ne(e){return null==e?"":Oe(e).replace(me,"%2F")}function Pe(e){try{return decodeURIComponent(""+e)}catch(t){}return""+e}function De(e){const t={};if(""===e||"?"===e)return t;const n="?"===e[0],r=(n?e.slice(1):e).split("&");for(let i=0;i<r.length;++i){const e=r[i].replace(ye," "),n=e.indexOf("="),o=Pe(n<0?e:e.slice(0,n)),s=n<0?null:Pe(e.slice(n+1));if(o in t){let e=t[o];c(e)||(e=t[o]=[e]),e.push(s)}else t[o]=s}return t}function Le(e){let t="";for(let n in e){const r=e[n];if(n=Re(n),null==r){void 0!==r&&(t+=(t.length?"&":"")+n);continue}const i=c(r)?r.map((e=>e&&Ae(e))):[r&&Ae(r)];i.forEach((e=>{void 0!==e&&(t+=(t.length?"&":"")+n,null!=e&&(t+="="+e))}))}return t}function Fe(e){const t={};for(const n in e){const r=e[n];void 0!==r&&(t[n]=c(r)?r.map((e=>null==e?null:""+e)):null==r?r:""+r)}return t}const Me=Symbol(""),qe=Symbol(""),Ue=Symbol(""),Be=Symbol(""),Ve=Symbol("");function je(){let e=[];function t(t){return e.push(t),()=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)}}function n(){e=[]}return{add:t,list:()=>e,reset:n}}function ze(e,t,n,r,i){const o=r&&(r.enterCallbacks[i]=r.enterCallbacks[i]||[]);return()=>new Promise(((s,a)=>{const l=e=>{!1===e?a(K(4,{from:n,to:t})):e instanceof Error?a(e):V(e)?a(K(2,{from:t,to:e})):(o&&r.enterCallbacks[i]===o&&"function"===typeof e&&o.push(e),s())},u=e.call(r&&r.instances[i],t,n,l);let c=Promise.resolve(u);e.length<3&&(c=c.then(l)),c.catch((e=>a(e)))}))}function $e(e,t,n,r){const i=[];for(const o of e){0;for(const e in o.components){let a=o.components[e];if("beforeRouteEnter"===t||o.instances[e])if(He(a)){const s=a.__vccOpts||a,l=s[t];l&&i.push(ze(l,n,r,o,e))}else{let l=a();0,i.push((()=>l.then((i=>{if(!i)return Promise.reject(new Error(`Couldn't resolve component "${e}" at "${o.path}"`));const a=s(i)?i.default:i;o.components[e]=a;const l=a.__vccOpts||a,u=l[t];return u&&ze(u,n,r,o,e)()}))))}}}return i}function He(e){return"object"===typeof e||"displayName"in e||"props"in e||"__vccOpts"in e}function Ke(e){const t=(0,r.f3)(Ue),n=(0,r.f3)(Be),o=(0,r.Fl)((()=>t.resolve((0,i.SU)(e.to)))),s=(0,r.Fl)((()=>{const{matched:e}=o.value,{length:t}=e,r=e[t-1],i=n.matched;if(!r||!i.length)return-1;const s=i.findIndex(v.bind(null,r));if(s>-1)return s;const a=Qe(e[t-2]);return t>1&&Qe(r)===a&&i[i.length-1].path!==a?i.findIndex(v.bind(null,e[t-2])):s})),a=(0,r.Fl)((()=>s.value>-1&&Ye(n.params,o.value.params))),l=(0,r.Fl)((()=>s.value>-1&&s.value===n.matched.length-1&&y(n.params,o.value.params)));function c(n={}){return Ze(n)?t[(0,i.SU)(e.replace)?"replace":"push"]((0,i.SU)(e.to)).catch(u):Promise.resolve()}return{route:o,href:(0,r.Fl)((()=>o.value.href)),isActive:a,isExactActive:l,navigate:c}}const We=(0,r.aZ)({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:Ke,setup(e,{slots:t}){const n=(0,i.qj)(Ke(e)),{options:o}=(0,r.f3)(Ue),s=(0,r.Fl)((()=>({[Je(e.activeClass,o.linkActiveClass,"router-link-active")]:n.isActive,[Je(e.exactActiveClass,o.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive})));return()=>{const i=t.default&&t.default(n);return e.custom?i:(0,r.h)("a",{"aria-current":n.isExactActive?e.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:s.value},i)}}}),Ge=We;function Ze(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&(void 0===e.button||0===e.button)){if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function Ye(e,t){for(const n in t){const r=t[n],i=e[n];if("string"===typeof r){if(r!==i)return!1}else if(!c(i)||i.length!==r.length||r.some(((e,t)=>e!==i[t])))return!1}return!0}function Qe(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const Je=(e,t,n)=>null!=e?e:null!=t?t:n,Xe=(0,r.aZ)({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(e,{attrs:t,slots:n}){const o=(0,r.f3)(Ve),s=(0,r.Fl)((()=>e.route||o.value)),l=(0,r.f3)(qe,0),u=(0,r.Fl)((()=>{let e=(0,i.SU)(l);const{matched:t}=s.value;let n;while((n=t[e])&&!n.components)e++;return e})),c=(0,r.Fl)((()=>s.value.matched[u.value]));(0,r.JJ)(qe,(0,r.Fl)((()=>u.value+1))),(0,r.JJ)(Me,c),(0,r.JJ)(Ve,s);const h=(0,i.iH)();return(0,r.YP)((()=>[h.value,c.value,e.name]),(([e,t,n],[r,i,o])=>{t&&(t.instances[n]=e,i&&i!==t&&e&&e===r&&(t.leaveGuards.size||(t.leaveGuards=i.leaveGuards),t.updateGuards.size||(t.updateGuards=i.updateGuards))),!e||!t||i&&v(t,i)&&r||(t.enterCallbacks[n]||[]).forEach((t=>t(e)))}),{flush:"post"}),()=>{const i=s.value,o=e.name,l=c.value,u=l&&l.components[o];if(!u)return et(n.default,{Component:u,route:i});const d=l.props[o],f=d?!0===d?i.params:"function"===typeof d?d(i):d:null,p=e=>{e.component.isUnmounted&&(l.instances[o]=null)},m=(0,r.h)(u,a({},f,t,{onVnodeUnmounted:p,ref:h}));return et(n.default,{Component:m,route:i})||m}}});function et(e,t){if(!e)return null;const n=e(t);return 1===n.length?n[0]:n}const tt=Xe;function nt(e){const t=oe(e.routes,e),n=e.parseQuery||De,s=e.stringifyQuery||Le,h=e.history;const d=je(),m=je(),v=je(),y=(0,i.XI)(z);let b=z;o&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const w=l.bind(null,(e=>""+e)),_=l.bind(null,Ne),k=l.bind(null,Pe);function I(e,n){let r,i;return j(e)?(r=t.getRecordMatcher(e),i=n):i=e,t.addRoute(i,r)}function x(e){const n=t.getRecordMatcher(e);n&&t.removeRoute(n)}function E(){return t.getRoutes().map((e=>e.record))}function T(e){return!!t.getRecordMatcher(e)}function O(e,r){if(r=a({},r||y.value),"string"===typeof e){const i=f(n,e,r.path),o=t.resolve({path:i.path},r),s=h.createHref(i.fullPath);return a(i,o,{params:k(o.params),hash:Pe(i.hash),redirectedFrom:void 0,href:s})}let i;if("path"in e)i=a({},e,{path:f(n,e.path,r.path).path});else{const t=a({},e.params);for(const e in t)null==t[e]&&delete t[e];i=a({},e,{params:_(e.params)}),r.params=_(r.params)}const o=t.resolve(i,r),l=e.hash||"";o.params=w(k(o.params));const u=p(s,a({},e,{hash:Ce(l),path:o.path})),c=h.createHref(u);return a({fullPath:u,hash:l,query:s===Le?Fe(e.query):e.query||{}},o,{redirectedFrom:void 0,href:c})}function D(e){return"string"===typeof e?f(n,e,y.value.path):a({},e)}function L(e,t){if(b!==e)return K(8,{from:t,to:e})}function F(e){return U(e)}function M(e){return F(a(D(e),{replace:!0}))}function q(e){const t=e.matched[e.matched.length-1];if(t&&t.redirect){const{redirect:n}=t;let r="function"===typeof n?n(e):n;return"string"===typeof r&&(r=r.includes("?")||r.includes("#")?r=D(r):{path:r},r.params={}),a({query:e.query,hash:e.hash,params:"path"in r?{}:e.params},r)}}function U(e,t){const n=b=O(e),r=y.value,i=e.state,o=e.force,l=!0===e.replace,u=q(n);if(u)return U(a(D(u),{state:"object"===typeof u?a({},i,u.state):i,force:o,replace:l}),t||n);const c=n;let h;return c.redirectedFrom=t,!o&&g(s,r,n)&&(h=K(16,{to:c,from:r}),ne(r,r,!0,!1)),(h?Promise.resolve(h):V(c,r)).catch((e=>W(e)?W(e,2)?e:te(e):X(e,c,r))).then((e=>{if(e){if(W(e,2))return U(a({replace:l},D(e.to),{state:"object"===typeof e.to?a({},i,e.to.state):i,force:o}),t||c)}else e=H(c,r,!0,l,i);return $(c,r,e),e}))}function B(e,t){const n=L(e,t);return n?Promise.reject(n):Promise.resolve()}function V(e,t){let n;const[r,i,o]=it(e,t);n=$e(r.reverse(),"beforeRouteLeave",e,t);for(const a of r)a.leaveGuards.forEach((r=>{n.push(ze(r,e,t))}));const s=B.bind(null,e,t);return n.push(s),rt(n).then((()=>{n=[];for(const r of d.list())n.push(ze(r,e,t));return n.push(s),rt(n)})).then((()=>{n=$e(i,"beforeRouteUpdate",e,t);for(const r of i)r.updateGuards.forEach((r=>{n.push(ze(r,e,t))}));return n.push(s),rt(n)})).then((()=>{n=[];for(const r of e.matched)if(r.beforeEnter&&!t.matched.includes(r))if(c(r.beforeEnter))for(const i of r.beforeEnter)n.push(ze(i,e,t));else n.push(ze(r.beforeEnter,e,t));return n.push(s),rt(n)})).then((()=>(e.matched.forEach((e=>e.enterCallbacks={})),n=$e(o,"beforeRouteEnter",e,t),n.push(s),rt(n)))).then((()=>{n=[];for(const r of m.list())n.push(ze(r,e,t));return n.push(s),rt(n)})).catch((e=>W(e,8)?e:Promise.reject(e)))}function $(e,t,n){for(const r of v.list())r(e,t,n)}function H(e,t,n,r,i){const s=L(e,t);if(s)return s;const l=t===z,u=o?history.state:{};n&&(r||l?h.replace(e.fullPath,a({scroll:l&&u&&u.scroll},i)):h.push(e.fullPath,i)),y.value=e,ne(e,t,n,l),te()}let G;function Z(){G||(G=h.listen(((e,t,n)=>{if(!ae.listening)return;const r=O(e),i=q(r);if(i)return void U(a(i,{replace:!0}),r).catch(u);b=r;const s=y.value;o&&N(R(s.fullPath,n.delta),C()),V(r,s).catch((e=>W(e,12)?e:W(e,2)?(U(e.to,r).then((e=>{W(e,20)&&!n.delta&&n.type===S.pop&&h.go(-1,!1)})).catch(u),Promise.reject()):(n.delta&&h.go(-n.delta,!1),X(e,r,s)))).then((e=>{e=e||H(r,s,!1),e&&(n.delta&&!W(e,8)?h.go(-n.delta,!1):n.type===S.pop&&W(e,20)&&h.go(-1,!1)),$(r,s,e)})).catch(u)})))}let Y,Q=je(),J=je();function X(e,t,n){te(e);const r=J.list();return r.length?r.forEach((r=>r(e,t,n))):console.error(e),Promise.reject(e)}function ee(){return Y&&y.value!==z?Promise.resolve():new Promise(((e,t)=>{Q.add([e,t])}))}function te(e){return Y||(Y=!e,Z(),Q.list().forEach((([t,n])=>e?n(e):t())),Q.reset()),e}function ne(t,n,i,s){const{scrollBehavior:a}=e;if(!o||!a)return Promise.resolve();const l=!i&&P(R(t.fullPath,0))||(s||!i)&&history.state&&history.state.scroll||null;return(0,r.Y3)().then((()=>a(t,n,l))).then((e=>e&&A(e))).catch((e=>X(e,t,n)))}const re=e=>h.go(e);let ie;const se=new Set,ae={currentRoute:y,listening:!0,addRoute:I,removeRoute:x,hasRoute:T,getRoutes:E,resolve:O,options:e,push:F,replace:M,go:re,back:()=>re(-1),forward:()=>re(1),beforeEach:d.add,beforeResolve:m.add,afterEach:v.add,onError:J.add,isReady:ee,install(e){const t=this;e.component("RouterLink",Ge),e.component("RouterView",tt),e.config.globalProperties.$router=t,Object.defineProperty(e.config.globalProperties,"$route",{enumerable:!0,get:()=>(0,i.SU)(y)}),o&&!ie&&y.value===z&&(ie=!0,F(h.location).catch((e=>{0})));const n={};for(const i in z)n[i]=(0,r.Fl)((()=>y.value[i]));e.provide(Ue,t),e.provide(Be,(0,i.qj)(n)),e.provide(Ve,y);const s=e.unmount;se.add(e),e.unmount=function(){se.delete(e),se.size<1&&(b=z,G&&G(),G=null,y.value=z,ie=!1,Y=!1),s()}}};return ae}function rt(e){return e.reduce(((e,t)=>e.then((()=>t()))),Promise.resolve())}function it(e,t){const n=[],r=[],i=[],o=Math.max(t.matched.length,e.matched.length);for(let s=0;s<o;s++){const o=t.matched[s];o&&(e.matched.find((e=>v(e,o)))?r.push(o):n.push(o));const a=e.matched[s];a&&(t.matched.find((e=>v(e,a)))||i.push(a))}return[n,r,i]}},9859:(e,t,n)=>{"use strict";n.d(t,{Z:()=>v});var r=n(5505),i=n(3513),o=n(8897),s=n(9795);
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class a{constructor(e,t){this._delegate=e,this.firebase=t,(0,o._addComponent)(e,new i.wA("app-compat",(()=>this),"PUBLIC")),this.container=e.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this._delegate.automaticDataCollectionEnabled=e}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise((e=>{this._delegate.checkDestroyed(),e()})).then((()=>(this.firebase.INTERNAL.removeApp(this.name),(0,o.deleteApp)(this._delegate))))}_getService(e,t=o._DEFAULT_ENTRY_NAME){var n;this._delegate.checkDestroyed();const r=this._delegate.container.getProvider(e);return r.isInitialized()||"EXPLICIT"!==(null===(n=r.getComponent())||void 0===n?void 0:n.instantiationMode)||r.initialize(),r.getImmediate({identifier:t})}_removeServiceInstance(e,t=o._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(e).clearInstance(t)}_addComponent(e){(0,o._addComponent)(this._delegate,e)}_addOrOverwriteComponent(e){(0,o._addOrOverwriteComponent)(this._delegate,e)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l={["no-app"]:"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",["invalid-app-argument"]:"firebase.{$appName}() takes either no argument or a Firebase App instance."},u=new r.LL("app-compat","Firebase",l);
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function c(e){const t={},n={__esModule:!0,initializeApp:a,app:s,registerVersion:o.registerVersion,setLogLevel:o.setLogLevel,onLog:o.onLog,apps:null,SDK_VERSION:o.SDK_VERSION,INTERNAL:{registerComponent:c,removeApp:i,useAsService:h,modularAPIs:o}};function i(e){delete t[e]}function s(e){if(e=e||o._DEFAULT_ENTRY_NAME,!(0,r.r3)(t,e))throw u.create("no-app",{appName:e});return t[e]}function a(i,s={}){const a=o.initializeApp(i,s);if((0,r.r3)(t,a.name))return t[a.name];const l=new e(a,n);return t[a.name]=l,l}function l(){return Object.keys(t).map((e=>t[e]))}function c(t){const i=t.name,a=i.replace("-compat","");if(o._registerComponent(t)&&"PUBLIC"===t.type){const o=(e=s())=>{if("function"!==typeof e[a])throw u.create("invalid-app-argument",{appName:i});return e[a]()};void 0!==t.serviceProps&&(0,r.ZB)(o,t.serviceProps),n[a]=o,e.prototype[a]=function(...e){const n=this._getService.bind(this,i);return n.apply(this,t.multipleInstances?e:[])}}return"PUBLIC"===t.type?n[a]:null}function h(e,t){if("serverAuth"===t)return null;const n=t;return n}return n["default"]=n,Object.defineProperty(n,"apps",{get:l}),s["App"]=e,n}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h(){const e=c(a);function t(t){(0,r.ZB)(e,t)}return e.INTERNAL=Object.assign(Object.assign({},e.INTERNAL),{createFirebaseNamespace:h,extendNamespace:t,createSubscribe:r.ne,ErrorFactory:r.LL,deepExtend:r.ZB}),e}const d=h(),f=new s.Yd("@firebase/app-compat"),p="@firebase/app-compat",m="0.1.32";
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function g(e){(0,o.registerVersion)(p,m,e)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */if((0,r.jU)()&&void 0!==self.firebase){f.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const e=self.firebase.SDK_VERSION;e&&e.indexOf("LITE")>=0&&f.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const v=d;g()},8897:(e,t,n)=>{"use strict";n.r(t),n.d(t,{FirebaseError:()=>o.ZR,SDK_VERSION:()=>ye,_DEFAULT_ENTRY_NAME:()=>oe,_addComponent:()=>ue,_addOrOverwriteComponent:()=>ce,_apps:()=>ae,_clearComponents:()=>pe,_components:()=>le,_getProvider:()=>de,_registerComponent:()=>he,_removeServiceInstance:()=>fe,deleteApp:()=>Se,getApp:()=>we,getApps:()=>_e,initializeApp:()=>be,onLog:()=>Ie,registerVersion:()=>ke,setLogLevel:()=>xe});var r=n(3513),i=n(9795),o=n(5505);const s=(e,t)=>t.some((t=>e instanceof t));let a,l;function u(){return a||(a=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function c(){return l||(l=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const h=new WeakMap,d=new WeakMap,f=new WeakMap,p=new WeakMap,m=new WeakMap;function g(e){const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("success",i),e.removeEventListener("error",o)},i=()=>{t(S(e.result)),r()},o=()=>{n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",o)}));return t.then((t=>{t instanceof IDBCursor&&h.set(t,e)})).catch((()=>{})),m.set(t,e),t}function v(e){if(d.has(e))return;const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",o),e.removeEventListener("abort",o)},i=()=>{t(),r()},o=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",o),e.addEventListener("abort",o)}));d.set(e,t)}let y={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return d.get(e);if("objectStoreNames"===t)return e.objectStoreNames||f.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return S(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e}};function b(e){y=e(y)}function w(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?c().includes(e)?function(...t){return e.apply(k(this),t),S(h.get(this))}:function(...t){return S(e.apply(k(this),t))}:function(t,...n){const r=e.call(k(this),t,...n);return f.set(r,t.sort?t.sort():[t]),S(r)}}function _(e){return"function"===typeof e?w(e):(e instanceof IDBTransaction&&v(e),s(e,u())?new Proxy(e,y):e)}function S(e){if(e instanceof IDBRequest)return g(e);if(p.has(e))return p.get(e);const t=_(e);return t!==e&&(p.set(e,t),m.set(t,e)),t}const k=e=>m.get(e);function I(e,t,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const s=indexedDB.open(e,t),a=S(s);return r&&s.addEventListener("upgradeneeded",(e=>{r(S(s.result),e.oldVersion,e.newVersion,S(s.transaction))})),n&&s.addEventListener("blocked",(()=>n())),a.then((e=>{o&&e.addEventListener("close",(()=>o())),i&&e.addEventListener("versionchange",(()=>i()))})).catch((()=>{})),a}const x=["get","getKey","getAll","getAllKeys","count"],E=["put","add","delete","clear"],T=new Map;function C(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!==typeof t)return;if(T.get(t))return T.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=E.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!x.includes(n))return;const o=async function(e,...t){const o=this.transaction(e,i?"readwrite":"readonly");let s=o.store;return r&&(s=s.index(t.shift())),(await Promise.all([s[n](...t),i&&o.done]))[0]};return T.set(t,o),o}b((e=>({...e,get:(t,n,r)=>C(t,n)||e.get(t,n,r),has:(t,n)=>!!C(t,n)||e.has(t,n)})));
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class A{constructor(e){this.container=e}getPlatformInfoString(){const e=this.container.getProviders();return e.map((e=>{if(R(e)){const t=e.getImmediate();return`${t.library}/${t.version}`}return null})).filter((e=>e)).join(" ")}}function R(e){const t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}const O="@firebase/app",N="0.7.31",P=new i.Yd("@firebase/app"),D="@firebase/app-compat",L="@firebase/analytics-compat",F="@firebase/analytics",M="@firebase/app-check-compat",q="@firebase/app-check",U="@firebase/auth",B="@firebase/auth-compat",V="@firebase/database",j="@firebase/database-compat",z="@firebase/functions",$="@firebase/functions-compat",H="@firebase/installations",K="@firebase/installations-compat",W="@firebase/messaging",G="@firebase/messaging-compat",Z="@firebase/performance",Y="@firebase/performance-compat",Q="@firebase/remote-config",J="@firebase/remote-config-compat",X="@firebase/storage",ee="@firebase/storage-compat",te="@firebase/firestore",ne="@firebase/firestore-compat",re="firebase",ie="9.9.3",oe="[DEFAULT]",se={[O]:"fire-core",[D]:"fire-core-compat",[F]:"fire-analytics",[L]:"fire-analytics-compat",[q]:"fire-app-check",[M]:"fire-app-check-compat",[U]:"fire-auth",[B]:"fire-auth-compat",[V]:"fire-rtdb",[j]:"fire-rtdb-compat",[z]:"fire-fn",[$]:"fire-fn-compat",[H]:"fire-iid",[K]:"fire-iid-compat",[W]:"fire-fcm",[G]:"fire-fcm-compat",[Z]:"fire-perf",[Y]:"fire-perf-compat",[Q]:"fire-rc",[J]:"fire-rc-compat",[X]:"fire-gcs",[ee]:"fire-gcs-compat",[te]:"fire-fst",[ne]:"fire-fst-compat","fire-js":"fire-js",[re]:"fire-js-all"},ae=new Map,le=new Map;function ue(e,t){try{e.container.addComponent(t)}catch(n){P.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function ce(e,t){e.container.addOrOverwriteComponent(t)}function he(e){const t=e.name;if(le.has(t))return P.debug(`There were multiple attempts to register component ${t}.`),!1;le.set(t,e);for(const n of ae.values())ue(n,e);return!0}function de(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function fe(e,t,n=oe){de(e,t).clearInstance(n)}function pe(){le.clear()}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const me={["no-app"]:"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",["bad-app-name"]:"Illegal App name: '{$appName}",["duplicate-app"]:"Firebase App named '{$appName}' already exists with different options or config",["app-deleted"]:"Firebase App named '{$appName}' already deleted",["invalid-app-argument"]:"firebase.{$appName}() takes either no argument or a Firebase App instance.",["invalid-log-argument"]:"First argument to `onLog` must be null or a function.",["idb-open"]:"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.",["idb-get"]:"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.",["idb-set"]:"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.",["idb-delete"]:"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},ge=new o.LL("app","Firebase",me);
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class ve{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new r.wA("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ge.create("app-deleted",{appName:this._name})}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ye=ie;function be(e,t={}){if("object"!==typeof t){const e=t;t={name:e}}const n=Object.assign({name:oe,automaticDataCollectionEnabled:!1},t),i=n.name;if("string"!==typeof i||!i)throw ge.create("bad-app-name",{appName:String(i)});const s=ae.get(i);if(s){if((0,o.vZ)(e,s.options)&&(0,o.vZ)(n,s.config))return s;throw ge.create("duplicate-app",{appName:i})}const a=new r.H0(i);for(const r of le.values())a.addComponent(r);const l=new ve(e,n,a);return ae.set(i,l),l}function we(e=oe){const t=ae.get(e);if(!t)throw ge.create("no-app",{appName:e});return t}function _e(){return Array.from(ae.values())}async function Se(e){const t=e.name;ae.has(t)&&(ae.delete(t),await Promise.all(e.container.getProviders().map((e=>e.delete()))),e.isDeleted=!0)}function ke(e,t,n){var i;let o=null!==(i=se[e])&&void 0!==i?i:e;n&&(o+=`-${n}`);const s=o.match(/\s|\//),a=t.match(/\s|\//);if(s||a){const e=[`Unable to register library "${o}" with version "${t}":`];return s&&e.push(`library name "${o}" contains illegal characters (whitespace or "/")`),s&&a&&e.push("and"),a&&e.push(`version name "${t}" contains illegal characters (whitespace or "/")`),void P.warn(e.join(" "))}he(new r.wA(`${o}-version`,(()=>({library:o,version:t})),"VERSION"))}function Ie(e,t){if(null!==e&&"function"!==typeof e)throw ge.create("invalid-log-argument");(0,i.Am)(e,t)}function xe(e){(0,i.Ub)(e)}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ee="firebase-heartbeat-database",Te=1,Ce="firebase-heartbeat-store";let Ae=null;function Re(){return Ae||(Ae=I(Ee,Te,{upgrade:(e,t)=>{switch(t){case 0:e.createObjectStore(Ce)}}}).catch((e=>{throw ge.create("idb-open",{originalErrorMessage:e.message})}))),Ae}async function Oe(e){var t;try{const t=await Re();return t.transaction(Ce).objectStore(Ce).get(Pe(e))}catch(n){if(n instanceof o.ZR)P.warn(n.message);else{const e=ge.create("idb-get",{originalErrorMessage:null===(t=n)||void 0===t?void 0:t.message});P.warn(e.message)}}}async function Ne(e,t){var n;try{const n=await Re(),r=n.transaction(Ce,"readwrite"),i=r.objectStore(Ce);return await i.put(t,Pe(e)),r.done}catch(r){if(r instanceof o.ZR)P.warn(r.message);else{const e=ge.create("idb-set",{originalErrorMessage:null===(n=r)||void 0===n?void 0:n.message});P.warn(e.message)}}}function Pe(e){return`${e.name}!${e.options.appId}`}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const De=1024,Le=2592e6;class Fe{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new Ue(t),this._heartbeatsCachePromise=this._storage.read().then((e=>(this._heartbeatsCache=e,e)))}async triggerHeartbeat(){const e=this.container.getProvider("platform-logger").getImmediate(),t=e.getPlatformInfoString(),n=Me();if(null===this._heartbeatsCache&&(this._heartbeatsCache=await this._heartbeatsCachePromise),this._heartbeatsCache.lastSentHeartbeatDate!==n&&!this._heartbeatsCache.heartbeats.some((e=>e.date===n)))return this._heartbeatsCache.heartbeats.push({date:n,agent:t}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((e=>{const t=new Date(e.date).valueOf(),n=Date.now();return n-t<=Le})),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null===this._heartbeatsCache||0===this._heartbeatsCache.heartbeats.length)return"";const e=Me(),{heartbeatsToSend:t,unsentEntries:n}=qe(this._heartbeatsCache.heartbeats),r=(0,o.L)(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,n.length>0?(this._heartbeatsCache.heartbeats=n,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),r}}function Me(){const e=new Date;return e.toISOString().substring(0,10)}function qe(e,t=De){const n=[];let r=e.slice();for(const i of e){const e=n.find((e=>e.agent===i.agent));if(e){if(e.dates.push(i.date),Be(n)>t){e.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Be(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class Ue{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!(0,o.hl)()&&(0,o.eu)().then((()=>!0)).catch((()=>!1))}async read(){const e=await this._canUseIndexedDBPromise;if(e){const e=await Oe(this.app);return e||{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){var t;const n=await this._canUseIndexedDBPromise;if(n){const n=await this.read();return Ne(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){var t;const n=await this._canUseIndexedDBPromise;if(n){const n=await this.read();return Ne(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}}}function Be(e){return(0,o.L)(JSON.stringify({version:2,heartbeats:e})).length}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ve(e){he(new r.wA("platform-logger",(e=>new A(e)),"PRIVATE")),he(new r.wA("heartbeat",(e=>new Fe(e)),"PRIVATE")),ke(O,N,e),ke(O,N,"esm2017"),ke("fire-js","")}Ve("")},3513:(e,t,n)=>{"use strict";n.d(t,{H0:()=>u,wA:()=>i});var r=n(5505);class i{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o="[DEFAULT]";
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new r.BH;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(n){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(l(e))try{this.getOrInitializeService({instanceIdentifier:o})}catch(t){}for(const[e,n]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:r});n.resolve(e)}catch(t){}}}}clearInstance(e=o){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter((e=>"INTERNAL"in e)).map((e=>e.INTERNAL.delete())),...e.filter((e=>"_delete"in e)).map((e=>e._delete()))])}isComponentSet(){return null!=this.component}isInitialized(e=o){return this.instances.has(e)}getOptions(e=o){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[i,o]of this.instancesDeferred.entries()){const e=this.normalizeInstanceIdentifier(i);n===e&&o.resolve(r)}return r}onInit(e,t){var n;const r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);const o=this.instances.get(r);return o&&e(o,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const i of n)try{i(e,t)}catch(r){}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:a(e),options:t}),this.instances.set(e,n),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch(r){}return n||null}normalizeInstanceIdentifier(e=o){return this.component?this.component.multipleInstances?e:o:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}function a(e){return e===o?void 0:e}function l(e){return"EAGER"===e.instantiationMode}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){const t=this.getProvider(e.name);t.isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new s(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}},9795:(e,t,n)=>{"use strict";n.d(t,{Am:()=>h,Ub:()=>c,Yd:()=>u,in:()=>i});
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const r=[];var i;(function(e){e[e["DEBUG"]=0]="DEBUG",e[e["VERBOSE"]=1]="VERBOSE",e[e["INFO"]=2]="INFO",e[e["WARN"]=3]="WARN",e[e["ERROR"]=4]="ERROR",e[e["SILENT"]=5]="SILENT"})(i||(i={}));const o={debug:i.DEBUG,verbose:i.VERBOSE,info:i.INFO,warn:i.WARN,error:i.ERROR,silent:i.SILENT},s=i.INFO,a={[i.DEBUG]:"log",[i.VERBOSE]:"log",[i.INFO]:"info",[i.WARN]:"warn",[i.ERROR]:"error"},l=(e,t,...n)=>{if(t<e.logLevel)return;const r=(new Date).toISOString(),i=a[t];if(!i)throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`);console[i](`[${r}]  ${e.name}:`,...n)};class u{constructor(e){this.name=e,this._logLevel=s,this._logHandler=l,this._userLogHandler=null,r.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in i))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"===typeof e?o[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,i.DEBUG,...e),this._logHandler(this,i.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,i.VERBOSE,...e),this._logHandler(this,i.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,i.INFO,...e),this._logHandler(this,i.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,i.WARN,...e),this._logHandler(this,i.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,i.ERROR,...e),this._logHandler(this,i.ERROR,...e)}}function c(e){r.forEach((t=>{t.setLogLevel(e)}))}function h(e,t){for(const n of r){let r=null;t&&t.level&&(r=o[t.level]),n.userLogHandler=null===e?null:(t,n,...o)=>{const s=o.map((e=>{if(null==e)return null;if("string"===typeof e)return e;if("number"===typeof e||"boolean"===typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}})).filter((e=>e)).join(" ");n>=(null!==r&&void 0!==r?r:t.logLevel)&&e({level:i[n].toLowerCase(),message:s,args:o,type:t.name})}}}},1465:(e,t,n)=>{"use strict";n.d(t,{Z:()=>ue});var r=n(606),i=n(2049);function o(e){var t=e.sheets;return'<?xml version="1.0" encoding="UTF-8" standalone="yes"?><workbook xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:r="http://schemas.openxmlformats.org/officeDocument/2006/relationships" xmlns:mx="http://schemas.microsoft.com/office/mac/excel/2008/main" xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" xmlns:mv="urn:schemas-microsoft-com:mac:vml" xmlns:x14="http://schemas.microsoft.com/office/spreadsheetml/2009/9/main" xmlns:x14ac="http://schemas.microsoft.com/office/spreadsheetml/2009/9/ac" xmlns:xm="http://schemas.microsoft.com/office/excel/2006/main"><workbookPr/><sheets>'+t.map((function(e){var t=e.id,n=e.name;return'<sheet name="'.concat(n,'" sheetId="').concat(t,'" r:id="rId').concat(t,'"/>')})).join("")+"</sheets><definedNames/><calcPr/></workbook>"}function s(e){var t=e.sheets;return'<?xml version="1.0" ?><Relationships xmlns="http://schemas.openxmlformats.org/package/2006/relationships">'+t.map((function(e){var t=e.id;return'<Relationship Id="rId'.concat(t,'" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet" Target="worksheets/sheet').concat(t,'.xml"/>')})).join("")+'<Relationship Id="rId'.concat(t.length+1,'" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings" Target="sharedStrings.xml"/>')+'<Relationship Id="rId'.concat(t.length+2,'" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles" Target="styles.xml"/>')+"</Relationships>"}const a='<?xml version="1.0" encoding="UTF-8" standalone="yes"?><Relationships xmlns="http://schemas.openxmlformats.org/package/2006/relationships"><Relationship Id="rId1" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument" Target="xl/workbook.xml"/></Relationships>',l='<?xml version="1.0" ?><Types xmlns="http://schemas.openxmlformats.org/package/2006/content-types"><Default ContentType="application/xml" Extension="xml"/><Default ContentType="application/vnd.openxmlformats-package.relationships+xml" Extension="rels"/><Override ContentType="application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml" PartName="/xl/worksheets/sheet1.xml"/><Override ContentType="application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml" PartName="/xl/workbook.xml"/><Override ContentType="application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml" PartName="/xl/sharedStrings.xml"/><Override ContentType="application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml" PartName="/xl/styles.xml"/></Types>';function u(e,t){return"".concat(h(e)).concat(t)}var c=26;function h(e){if("number"!==typeof e)return"";var t=Math.floor(e/c),n=String.fromCharCode(97+e%c).toUpperCase();return 0===t?n:h(t-1)+n}var d=25569,f=36e5,p=24*f;function m(e){return e.getTime()/p+d}function g(e,t,n,r,i,o){if(null===n&&!i)return"";var s='<c r="'.concat(u(t,e),'"');if(i&&(s+=' s="'.concat(i,'"')),null===n)return s+"/>";if(r===Date&&!i)throw new Error('No "format" has been specified for a Date cell');return n=b(r,n,o),r=y(r),r&&(s+=' t="'.concat(r,'"')),s+">"+("inlineStr"===r?"<is><t>":"<v>")+n+("inlineStr"===r?"</t></is>":"</v>")+"</c>"}function v(e){return e.replace(/&/g,"&amp;").replace(/>/g,"&gt;").replace(/</g,"&lt;")}function y(e){switch(e){case String:return"s";case Number:return;case Date:return;case Boolean:return"b";default:throw new Error("Unknown schema type: ".concat(e&&e.name||e))}}function b(e,t,n){switch(e){case String:return t=v(t),n(t);case Number:if("number"!==typeof t)throw new Error("Invalid cell value: ".concat(t,". Expected a number"));return String(t);case Date:if(!(t instanceof Date))throw new Error("Invalid cell value: ".concat(t,". Expected a Date"));return String(m(t));case Boolean:return t?"1":"0";default:throw new Error("Unknown schema type: ".concat(e&&e.name||e))}}function w(e){return w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},w(e)}function _(e,t,n){var r,i=n.getStyle,o=n.getSharedString,s=n.customFont,a=n.dateFormat,l=n.usesSchema,u=t+1,c=e.map((function(e,t){if(void 0===e||null===e)return"";var n,c=e.align,h=e.alignVertical,d=e.fontFamily,f=e.fontSize,p=e.fontWeight,m=e.fontStyle,v=e.height,y=e.wrap,b=e.color,w=e.backgroundColor,_=e.borderColor,I=e.borderStyle,x=e.leftBorderColor,E=e.leftBorderStyle,T=e.rightBorderColor,C=e.rightBorderStyle,A=e.topBorderColor,R=e.topBorderStyle,O=e.bottomBorderColor,N=e.bottomBorderStyle,P=e.type,D=e.value,L=e.format;if(S(D)?D=null:void 0===P&&(l||(P=k(D)),void 0===P&&(P=String,D=String(D))),L){if(P!==Date&&P!==Number)throw new Error("`format` can only be used on `Date` or `Number` cells")}else P===Date&&(L=a);return(d||f||p||m||c||h||L||y||b||w||_||I||x||E||T||C||A||R||O||N||s)&&(n=i(d,f,p,m,c,h,L,y,b,w,_,I,x,E,T,C,A,R,O,N)),v&&(void 0===r||r<v)&&(r=v),g(u,t,D,P,n,o)})).join("");return'<row r="'.concat(u,'"')+(r?' ht="'.concat(r,'" customHeight="1"'):"")+">"+c+"</row>"}function S(e){return void 0===e||null===e||""===e}function k(e){switch(w(e)){case"string":return String;case"number":return Number;case"boolean":return Boolean;default:if(e instanceof Date)return Date}}function I(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function x(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?I(Object(n),!0).forEach((function(t){E(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):I(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function E(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function T(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=C(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function C(e,t){if(e){if("string"===typeof e)return A(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?A(e,t):void 0}}function A(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function R(e,t){var n=t.schema,r=t.headerStyle,i=t.getStyle,o=t.getSharedString,s=t.customFont,a=t.dateFormat;if(n){for(var l,u=[],c=T(n);!(l=c()).done;){var h=l.value;if(h.column){u=[n.map((function(e){return x({type:String,value:e.column,align:e.align},r||O)}))];break}}e=u.concat(e.map((function(e){return n.map((function(t){return x(x({},t),{},{value:t.value(e)})}))})))}return e.map((function(e,t){return _(e,t,{getStyle:i,getSharedString:o,customFont:s,dateFormat:a,usesSchema:void 0!==n})})).join("")}var O={fontWeight:"bold"},N=14;function P(e,t){if(!e)return"";if(e.type!==Date||e.width||(e.width=N),!e.width)return"";var n=t+1;return'<col min="'.concat(n,'" max="').concat(n,'" width="').concat(e.width,'" customWidth="1"/>')}function D(e){var t=e.schema,n=e.columns;if(t||n){var r=(t||n).map(P).join("");if(r)return"<cols>".concat(r,"</cols>")}return""}function L(e,t){var n=t.schema;if(n)return"";var r=[],i=0;while(i<e.length){var o=e[i],s=0;while(s<o.length){var a=o[s];if(a){var l=a.span,c=void 0===l?1:l,h=a.rowSpan,d=void 0===h?1:h;if(c>1||d>1){F({data:e,rowIndex:i,columnIndex:s,span:c,rowSpan:d});var f=i+1;r.push(u(s,f)+":"+u(s+(c?c-1:0),f+(d?d-1:0)))}}s++}i++}return 0===r.length?"":'<mergeCells count="'.concat(r.length,'">')+r.map((function(e){return'<mergeCell ref="'.concat(e,'"/>')})).join("")+"</mergeCells>"}function F(e){var t=e.data,n=e.rowIndex,r=e.columnIndex,i=e.span,o=e.rowSpan,s=n;while(s<=n+(o-1)){var a=r;while(a<=r+(i-1)){var l=t[s][a];if((s>n||a>r)&&null!==l&&void 0!==l)throw new Error("[write-excel-file] When using `span` or `rowSpan` parameters, all hidden overlapped cells should be represented by `null`s or `undefined`s. Cell at row ".concat(n+1," and column ").concat(r+1," is configured with `span` ").concat(i," and `rowSpan` ").concat(o,". Cell at row ").concat(s+1," and column ").concat(a+1," is neither `null` nor `undefined`: ").concat(JSON.stringify(l)));a++}s++}}function M(e){var t=e.sheetId,n=e.orientation,r="";if(n){var i=.7,o=.7,s=.75,a=.75,l=.3,u=.3;r+="<pageMargins",r+=' left="'.concat(i,'"'),r+=' right="'.concat(o,'"'),r+=' top="'.concat(s,'"'),r+=' bottom="'.concat(a,'"'),r+=' header="'.concat(l,'"'),r+=' footer="'.concat(u,'"'),r+="/>"}if(n){var c=9;r+="<pageSetup",r+=' paperSize="'.concat(c,'"'),r+=' orientation="'.concat(n,'"'),r+=' r:id="rId'.concat(t,'"'),r+="/>"}return r}function q(e){var t=e.stickyRowsCount,n=e.stickyColumnsCount;if(!t&&!n)return"";var r="";return r+="<sheetViews>",r+='<sheetView tabSelected="1" workbookViewId="0">',r+='<pane ySplit="'.concat(t||0,'" xSplit="').concat(n||0,'" topLeftCell="').concat(u(n||0,(t||0)+1),'" activePane="bottomRight" state="frozen"/>'),r+="</sheetView>",r+="</sheetViews>",r}var U='<?xml version="1.0" ?>\n<worksheet xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" xmlns:mv="urn:schemas-microsoft-com:mac:vml" xmlns:mx="http://schemas.microsoft.com/office/mac/excel/2008/main" xmlns:r="http://schemas.openxmlformats.org/officeDocument/2006/relationships" xmlns:x14="http://schemas.microsoft.com/office/spreadsheetml/2009/9/main" xmlns:x14ac="http://schemas.microsoft.com/office/spreadsheetml/2009/9/ac" xmlns:xm="http://schemas.microsoft.com/office/excel/2006/main">{views}{columnsDescription}<sheetData>{data}</sheetData>{mergedCellsDescription}{layout}</worksheet>';function B(e,t){var n=t.schema,r=t.columns,i=t.headerStyle,o=t.getStyle,s=t.getSharedString,a=t.customFont,l=t.dateFormat,u=t.orientation,c=t.stickyRowsCount,h=t.stickyColumnsCount,d=t.sheetId;if(n){if(!Array.isArray(e))throw new TypeError("Expected an array of objects")}else{if(!Array.isArray(e))throw new TypeError("Expected an array of arrays");if(e.length>0&&!Array.isArray(e[0]))throw new TypeError("Expected an array of arrays")}return U.replace("{data}",R(e,{schema:n,headerStyle:i,getStyle:o,getSharedString:s,customFont:a,dateFormat:l})).replace("{views}",q({stickyRowsCount:c,stickyColumnsCount:h})).replace("{columnsDescription}",D({schema:n,columns:r})).replace("{mergedCellsDescription}",L(e,{schema:n})).replace("{layout}",M({sheetId:d,orientation:u}))}function V(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=j(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function j(e,t){if(e){if("string"===typeof e)return z(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?z(e,t):void 0}}function z(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var $=100;function H(e){var t=e.fontFamily,n=e.fontSize,r=Boolean(t||n);void 0===t&&(t="Calibri"),void 0===n&&(n=12);var i=[],o={},s=[],a={},l=[],u={},c=[],h={},d=[],f={};function p(e,p,m,g,v,y,b,w,_,S,k,I,x,E,T,C,A,R,O,N){var P,D="".concat(e||"-",":").concat(p||"-",":").concat(m||"-",":").concat(g||"-",":").concat(_||"-"),L=S||"-",F="".concat(A||k||"-",":").concat(R||I||"-")+"/"+"".concat(T||k||"-",":").concat(C||I||"-")+"/"+"".concat(O||k||"-",":").concat(N||I||"-")+"/"+"".concat(x||k||"-",":").concat(E||I||"-"),M="".concat(v||"-","/").concat(y||"-","/").concat(b||"-","/").concat(w||"-","/").concat(D,"/").concat(L,"/").concat(F),q=a[M];if(void 0!==q)return q;b&&(P=o[b],void 0===P&&(P=o[b]=String($+i.length),i.push(b)));var U,B,V=r?0:void 0;return(m||g||_)&&(V=u[D],void 0===V&&(V=u[D]=String(l.length),l.push({custom:!0,size:p||n,family:e||t,weight:m,style:g,color:_}))),S&&(U=h[L],void 0===U&&(U=h[L]=String(c.length),c.push({color:S}))),(k||I||x||E||T||C||A||R||O||N)&&(B=f[F],void 0===B&&(B=f[F]=String(d.length),d.push({left:{style:E||I,color:x||k},right:{style:C||I,color:T||k},top:{style:R||I,color:A||k},bottom:{style:N||I,color:O||k}}))),s.push({fontId:V,fillId:U,borderId:B,align:v,alignVertical:y,wrap:w,formatId:P}),a[M]=String(s.length-1)}return l.push({size:n,family:t,custom:r}),u["-:-"]=0,c.push({}),h["-"]=0,d.push({left:{},right:{},top:{},bottom:{}}),f["-:-/-:-/-:-/-:-"]=0,c.push({gray125:!0}),p(),{getStylesXml:function(){return K({formats:i,styles:s,fonts:l,fills:c,borders:d})},getStyle:p}}function K(e){var t=e.formats,n=e.styles,r=e.fonts,i=e.fills,o=e.borders,s='<?xml version="1.0" ?>';if(s+='<styleSheet xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main">',t.length>0){s+='<numFmts count="'.concat(t.length,'">');for(var a=0;a<t.length;a++)s+='<numFmt numFmtId="'.concat($+a,'" formatCode="').concat(t[a],'"/>');s+="</numFmts>"}s+='<fonts count="'.concat(r.length,'">');for(var l,u=V(r);!(l=u()).done;){var c=l.value,h=c.size,d=c.family,f=c.color,p=c.weight,m=c.style,g=c.custom;s+="<font>",s+='<sz val="'.concat(h,'"/>'),s+="<color ".concat(f?'rgb="'+W(f)+'"':'theme="1"',"/>"),s+='<name val="'.concat(d,'"/>'),s+='<family val="2"/>',g||(s+='<scheme val="minor"/>'),"bold"===p&&(s+="<b/>"),"italic"===m&&(s+="<i/>"),s+="</font>"}s+="</fonts>",s+='<fills count="'.concat(i.length,'">');for(var v,y=V(i);!(v=y()).done;){var b=v.value,w=b.color,_=b.gray125;s+="<fill>",w?(s+='<patternFill patternType="solid">',s+='<fgColor rgb="'.concat(W(w),'"/>'),s+='<bgColor indexed="64"/>',s+="</patternFill>"):s+=_?'<patternFill patternType="gray125"/>':'<patternFill patternType="none"/>',s+="</fill>"}s+="</fills>",s+='<borders count="'.concat(o.length,'">');for(var S,k=V(o);!(S=k()).done;){var I=S.value,x=I.left,E=I.right,T=I.top,C=I.bottom,A=function(e,t){var n=t.style,r=t.color;r&&!n&&(n="thin");var i=!!r;return"<".concat(e)+(n?' style="'.concat(n,'"'):"")+(i?">":"/>")+(r?'<color rgb="'.concat(W(r),'"/>'):"")+(i?"</".concat(e,">"):"")};s+="<border>",s+=A("left",x),s+=A("right",E),s+=A("top",T),s+=A("bottom",C),s+="<diagonal/>",s+="</border>"}s+="</borders>",s+='<cellXfs count="'.concat(n.length,'">');for(var R,O=V(n);!(R=O()).done;){var N=R.value,P=N.fontId,D=N.fillId,L=N.borderId,F=N.align,M=N.alignVertical,q=N.wrap,U=N.formatId;s+="<xf "+[void 0!==U?'numFmtId="'.concat(U,'"'):void 0,void 0!==U?'applyNumberFormat="1"':void 0,void 0!==P?'fontId="'.concat(P,'"'):void 0,void 0!==P?'applyFont="1"':void 0,void 0!==D?'fillId="'.concat(D,'"'):void 0,void 0!==D?'applyFill="1"':void 0,void 0!==L?'borderId="'.concat(L,'"'):void 0,void 0!==L?'applyBorder="1"':void 0,F||M||q?'applyAlignment="1"':void 0].filter((function(e){return e})).join(" ")+">"+(F||M||q?"<alignment"+(F?' horizontal="'.concat(F,'"'):"")+(M?' vertical="'.concat(M,'"'):"")+(q?' wrapText="1"':"")+"/>":"")+"</xf>"}return s+="</cellXfs>",s+="</styleSheet>",s}function W(e){if("#"!==e[0])throw new Error('Color "'.concat(e,'" must start with a "#"'));return"FF".concat(e.slice("#".length).toUpperCase())}function G(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=Z(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Z(e,t){if(e){if("string"===typeof e)return Y(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Y(e,t):void 0}}function Y(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Q(){var e=[],t={};return{getSharedStringsXml:function(){return J(e)},getSharedString:function(n){var r=t[n];return void 0===r&&(r=String(e.length),t[n]=r,e.push(n)),r}}}function J(e){var t='<?xml version="1.0"?>';t+='<sst xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main">';for(var n,r=G(e);!(n=r()).done;){var i=n.value,o=i.trim().length===i.length?"":' xml:space="preserve"';t+="<si><t".concat(o,">").concat(i,"</t></si>")}return t+="</sst>",t}function X(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=ee(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function ee(e,t){if(e){if("string"===typeof e)return te(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?te(e,t):void 0}}function te(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ne(e){var t=e.data,n=e.sheetName,r=e.sheetNames,i=e.schema,o=e.columns,s=e.headerStyle,a=e.fontFamily,l=e.fontSize,u=e.orientation,c=e.stickyRowsCount,h=e.stickyColumnsCount,d=e.dateFormat,f=Q(),p=f.getSharedStringsXml,m=f.getSharedString,g=H({fontFamily:a,fontSize:l}),v=g.getStylesXml,y=g.getStyle;if(r&&o&&!Array.isArray(o[0]))throw new Error('In a "write multiple sheets" scenario, `columns` parameter must be an array of `columns` for each sheet.');r||(r=[n||"Sheet1"],t=[t],o&&(o=[o]),i&&(i=[i]));for(var b,w=[],_=0,S=X(r);!(b=S()).done;){b.value;w.push(B(t[_],{schema:i&&i[_],columns:o&&o[_],headerStyle:s,getStyle:y,getSharedString:m,customFont:a||l,dateFormat:d,orientation:u,stickyRowsCount:c,stickyColumnsCount:h,sheetId:_+1})),_++}return{sheets:r.map((function(e,t){return{id:t+1,name:e,data:w[t]}})),getSharedStringsXml:p,getStylesXml:v}}var re=["fileName"];function ie(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=oe(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function oe(e,t){if(e){if("string"===typeof e)return se(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?se(e,t):void 0}}function se(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ae(e,t){if(null==e)return{};var n,r,i=le(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function le(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}function ue(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.fileName,r=ae(t,re);return ce(e,r).then((function(e){return n?i.saveAs(e,n):e}))}function ce(e,t){var n=t.sheet,i=t.sheets,u=t.schema,c=t.columns,h=t.headerStyle,d=t.fontFamily,f=t.fontSize,p=t.orientation,m=t.stickyRowsCount,g=t.stickyColumnsCount,v=t.dateFormat,y=new r;y.file("_rels/.rels",a),y.file("[Content_Types].xml",l);var b=ne({data:e,sheetName:n,sheetNames:i,schema:u,columns:c,headerStyle:h,fontFamily:d,fontSize:f,orientation:p,stickyRowsCount:m,stickyColumnsCount:g,dateFormat:v}),w=b.sheets,_=b.getSharedStringsXml,S=b.getStylesXml,k=y.folder("xl");k.file("_rels/workbook.xml.rels",s({sheets:w})),k.file("workbook.xml",o({sheets:w})),k.file("styles.xml",S()),k.file("sharedStrings.xml",_());for(var I,x=ie(w);!(I=x()).done;){var E=I.value,T=E.id,C=E.data;k.file("worksheets/sheet".concat(T,".xml"),C)}return y.generateAsync({type:"blob",mimeType:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"})}}}]);